function e(a){throw a;}var i=!0,j=null,l=!1;function ba(a){return function(b){this[a]=b}}function m(a){return function(){return a}}
var n,p={Kl:function(){try{var a=document.getElementById("login_password").value;if(4>document.getElementById("login_user_name").value.length)return o.C("User name is too short"),l;if(4>a.length)return o.C("Password is too short"),l;document.getElementById("login_password_md5").value=MD5(a);return i}catch(b){return ca(b),l}},Tn:function(){try{p.Kl()&&(o.qa(),ea("api/user.php",{UserName:document.getElementById("login_user_name").value,Password:document.getElementById("login_password_md5").value,Cookie:document.getElementById("login_cookie").checked},
new t(p.bm,p),j))}catch(a){o.C(a)}},bm:function(a){try{var b=u(a);g_settings.sessionId=b.session_id;g_settings.userId=b.user_id;g_settings.userData=b.user_data;document.getElementById("ix_login_form").style.display="none";document.getElementById("ix_logout_form").style.display="block";document.getElementById("ix_self_link").innerHTML=b.user_name;document.getElementById("ix_self_link").href="?user="+b.user_id;g_settings.isPlanner&&w.Rn();o.enable()}catch(c){o.C(c)}},Un:function(){try{o.qa(),fa("php/interface/user/logout.php",
new t(p.cm,p),j)}catch(a){o.C(a)}},cm:function(){g_settings.sessionId="";g_settings.userId=0;g_settings.userName="";g_settings.userData=j;document.getElementById("ix_login_form").style.display="block";document.getElementById("ix_logout_form").style.display="none";g_settings.isPlanner&&w.Sn();o.enable()},Zm:function(a){var b=ga("topic_title"),c=ga("topic_content"),d=ga("thread_type");2>b.length?o.C("The title of your post is too short!"):2>c.length?o.C("The content of your topic is too short!"):(document.getElementById("topic_submit").disabled=
i,o.qa(),ea("api/forum.php",{action:"new_thread",hook:a,title:b,type:d?d:"thread",content:c},new t(p.Vl,p),j))},Vl:function(a){try{u(a)}catch(b){o.C(b),document.getElementById("topic_submit").disabled=l}},cn:function(a){confirm("Are you sure you want to delete this thread?")&&(o.qa(),ea("api/forum.php",{action:"delete_thread",thread:a},new t(p.$l,p),j))},$l:function(a){try{var b=u(a);window.location.href=ha()+b}catch(c){o.C(c)}},Qn:function(a){o.qa();ea("api/forum.php",{action:"lock_thread",thread:a},
new t(p.zj,p),j)},gp:function(a){o.qa();ea("api/forum.php",{action:"unlock_thread",thread:a},new t(p.zj,p),j)},zj:function(a){try{u(a),window.location.reload(i)}catch(b){o.C(b)}},Ym:function(a){var b=document.getElementById("reply_content").value;2>b.length?o.C("The content of your post is too short!"):(document.getElementById("reply_submit").disabled=i,o.qa(),ea("api/forum.php",{action:"reply",thread:a,content:b},new t(p.Ul,p),j))},Ul:function(a){try{u(a)}catch(b){o.C(b),document.getElementById("reply_submit").disabled=
l}},Xm:function(a){var b=document.getElementById("edit_content").value;2>b.length?o.C("The content of your post is too short!"):(document.getElementById("edit_submit").disabled=i,o.qa(),ea("api/forum.php",{action:"edit",post:a,content:b},new t(p.Tl,p),j))},Tl:function(a){try{u(a)}catch(b){o.C(b),document.getElementById("edit_submit").disabled=l}},bp:function(a,b,c){b?new ia(a,b,"user_information_parent"):c&&(a=new la,a.Ga.t.qh(l),a.Ga.z.S("ismine",i),a.Ga.set("ismine.eq.1;",j,j,1),a.Ga.update(),x("ui_profiles_parent",
a.Ga.t.b))},an:function(a,b){new ma(a,b)},cp:function(a,b,c,d,f){if(a){var g=new na;g.t.setProperty("setStaticLink",f);g.setData(a);c&&(g.set(c,"","",b),g.t.qh(i));document.getElementById(d).appendChild(g.t.b);a=new y(["show_tooltip","move_tooltip","hide_tooltip","update"],new t(function(a){if(a.is("show_tooltip"))w.nl.call(w,a.get("entity").id);else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip"))o.hide();else if(a.is("update")){a=z("form",{method:"GET",action:""});A(a,"input",{name:"a",
value:g.Ja().replace(/\;/g,"_")});A(a,"input",{name:"p",value:g.page});A(a,"input",{name:"o",value:g.jd+"."+(g.le==oa?"asc":"desc")+"_"});a.submit()}},this));g.w(a)}},Pm:function(a,b,c){if(a){var d=new pa,c=document.getElementById(c),a=new qa(a);d.show(ra(a,j));x(b,d.v);d.v.style.position="relative";b=document.createElement("img");b.className="dbi_icon";b.src="/images/icons/large/"+a.q+".png";c.appendChild(b)}},Um:function(){var a=$("[name=change_new_password]").val(),b=$("[name=change_user_id]").val();
o.qa();sa(ha()+"api/user.php",{UserId:b,Password:a},function(a){try{a.get(),o.enable(),$("#ui_pc_p").empty().append($("<div />",{"class":"fm_note",text:"Password successfully changed!"}))}catch(b){o.C(b)}},j)},ap:function(a,b,c){var a=new ta(a,l),d=new ua,f=new va;new wa(a,d,f);c&&a.Zk(c,i);$("#"+b).empty().append(d.b)}};
window.Chardev||(window.Chardev={validateLogin:p.Kl,login:p.Tn,logout:p.Un,checkTopic:p.Zm,checkEdit:p.Xm,checkReply:p.Ym,deleteThread:p.cn,lockThread:p.Qn,unlockThread:p.gp,showUserInformation:p.bp,createAvatarPicker:p.an,staticItemList:p.cp,addItemTooltipTo:p.Pm,changePassword:p.Um,showTalents:p.ap});function xa(){}
xa.prototype={lg:j,c:j,Ie:j,lc:j,oh:j,w:function(a){this.c.w(a)},Ze:function(a){this.c=new D;this.c.g("character_change",["character"]);this.c.g("logged_in",[]);this.c.g("logged_out",[]);this.oh=a;if(a.isPlanner){var b=new ya;this.Ie=new za(this,b);this.lg=new Aa;this.lg.c.ba("character_change",this.c);var c=new va;this.lg.Mm(c);a.profile&&(c.load(a.profile),b.$d.show(Ba));a.profileLoadError&&o.C(a.profileLoadError);document.getElementById("mtf_p").className="ix_center cp_mm_p";document.getElementById("mtf_p").appendChild(b.$d.Ng);document.getElementById("planner_parent").appendChild(b.b)}},
D:function(){return this.lg.D()},Rn:function(){this.c.fire("logged_in",{})},Sn:function(){this.c.fire("logged_out",{})},nl:function(a){o.show("Loading Tooltip...");this.lc={item:a};E.Id(a,new t(function(a){var c=E.get(a);c!=j&&this.lc!=j&&this.lc.item==a&&(o.nb(ra(c,j)),this.lc=j)},this),[a])},$o:function(a){o.show("Loading Tooltip...");this.lc={spell:a};F.Id(a,new t(function(a){var c=F.get(a);c!=j&&this.lc!=j&&this.lc.spell==a&&(o.nb(Ca(c,j,0,j)),this.lc=j)},this),[a])}};var w=new xa;
window.__engine_init=function(a){w.Ze.call(w,a)};window.g_showItemTooltip=function(a){w.nl.call(w,a)};window.g_hideItemTooltip=function(){w.lc=j;o.hide()};window.g_showSpellTooltip=function(a){w.$o.call(w,a)};function ea(a,b,c,d){var f=Da();a||e(new Fa(a));d||(d=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("POST",ha()+a,i);f.onreadystatechange=c?function(){Ga(this,c,d,i)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(Ha(b))}function Da(){var a=j;window.XMLHttpRequest?a=new XMLHttpRequest:window.ActiveXObject?a=new ActiveXObject("MSXML2.XMLHTTP.3.0"):e(new Ia);return a}
function fa(a,b,c){Ja(a,b,c,i)}function Ja(a,b,c,d){var f=Da();a||e(new Fa(a));c||(c=[]);a=-1==a.search(/\?/)?a+("?_="+(new Date).getTime()):a+("&_="+(new Date).getTime());f.open("GET",ha()+a,i);f.onreadystatechange=b?function(){Ga(this,b,c,d)}:function(){};f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; Charset=utf-8");f.send(j)}
function Ga(a,b,c,d){4==a.readyState&&(!d&&200==a.status?((d=a.getResponseHeader("error"))&&e(new Ka(d)),c.splice(0,0,eval("("+a.responseText+")")),b.notify(c)):d?(c.splice(0,0,a),b.notify(c)):e(new La(a)))}function u(a){if(200==a.status){a.getResponseHeader("error")&&e(new Ka(eval("("+a.responseText+")")));if(""==a.responseText)return j;var b=eval("("+a.responseText+")");a.getResponseHeader("auto_redirect")&&(window.location.href=ha()+b.toString());return b}e(new La(a))}
function Fa(a){this.url=a}Fa.prototype={url:j};function La(a){this.response=a}La.prototype={response:j};function Ia(){}function Ka(a){this.message=a}Ka.prototype={message:"",toString:function(){return this.message}};function sa(a,b,c,d){$.post(a,b,function(a,b,h){a=new Ma(a,h);d?c.call(d,a):c(a)},"json")}function Ma(a,b){b.getResponseHeader("error")?this.Qj=i:b.getResponseHeader("auto_redirect")&&(window.location.href=a);this.Hh=a}Ma.prototype={Hh:j,Qj:l,get:function(){this.Qj&&e(Error(this.Hh));return this.Hh}};var Na=[6,13,14,31,32,36,37,49],Oa={"-1":-1,6:0,13:1,14:2,31:3,32:4,36:5,37:6,49:7},Ra={"0":32,1:13,2:37,3:36,4:31,5:49,6:14,7:6},Sa={"0":0,1:1,2:2,3:3,4:4,5:7,6:8,7:9,8:10,9:11,10:12,11:13,12:14,13:15,14:16,15:17,16:18},Ta={6:4,5:3,7:2,3:1,4:0},Ua={1:0,2:1,3:2,16:3,5:4,4:5,20:4,19:6,9:7,10:8,6:9,7:10,8:11,11:12,12:14,21:16,14:17,22:17,23:17,25:18,26:18,28:18,15:18},Va="head,neck,shoulder,back,chest,shirt,tabard,wrist,hands,waist,legs,feet,finger1,finger2,trinket1,trinket2,mainHand,offHand,ranged".split(","),
Wa={164:"Blacksmithing",165:"Leatherworking",171:"Alchemy",182:"Herbalism",186:"Mining",197:"Tailoring",202:"Engineering",333:"Enchanting",393:"Skinning",755:"Jewelcrafting",773:"Inscription"};function Xa(a,b,c,d,f){var b=100*(0<b?b-1:11)+(f-1),g=f=0;return 0!=c&&b<Ya.length?(f=Ya[b]*c*a,g=f*d,[f-g/2,g]):j}function Za(a,b,c,d){return a!=b&&0<c&&0<b&&0<a?(a=Math.min(b,a+(b-a)/c*(d-1)),[a,a/b]):j}
var $a=[164,165,171,182,186,197,202,333,393,755,773],ab="#bbbbbb,#FFFFFF,#00DD00,#40A0FF,#DD80FF,#FF8000,#E5CC80,#E5CC80".split(","),bb={"0":[0,0,0,0,0],1:[20,20,20,20,20],2:[23,17,21,17,22],3:[25,16,21,19,19],4:[16,24,20,20,20],5:[19,18,20,18,25],6:[25,16,21,16,22],7:[15,22,20,23,20],8:[21,22,21,16,21],9:[17,22,20,23,18],10:[17,22,20,23,18],11:[21,17,20,20,22],22:[23,22,20,16,19]},cb=[0,0,0.00652,-0.01532,-0.00295,0.031765,0,0.02922,0.03454,0.02622,0,0.074755],db=[0,0,0.033355,0,0,0.012375,0,0.02201,
0.009075,0.017,0,0.018515],eb=[0,3.75955,3.65168-3,-5.43889,-0.588581,3.18783,3.66584,1.67504,3.47569,2.04144,0,4.97143],fb=[0,1,0,2,1,0,0,0,0,0,0,0],gb=[0,1,0,2,1,0,0,0,0,0,0,0],hb=[0,-10,0,-20,-10,0,0,0,0,0,0,0],ib=[[0,0,0,0,0],[2,0,0,0,0],[2,0,0,0,0],[1,1,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[2,0,0,0,0],[1,2,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[2,0,0,0,0]],jb=[2,2,0,0,0],kb=[2,2,0,0,0],lb=[2,0,0,0,0],mb=[5,5.5,6,8],nb=[24,24.5,25,27],ob=[4,5,6,17],pb=[5,5.5,6,8],qb=[5,5.5,6,14],rb=[5,5.5,6,6.5],
sb=[0,3,3,2,2,0,3,2,0,0,0,3],tb=[0.956,0.956,0.988,0.988,0.953,0.956,0.988,0.953,0.953,0,0.972],ub=[65.63144,65.63144,145.560408,145.560408,0,65.63144,145.560408,0,0,0,0],vb=[65.63144,65.63144,145.560408,145.560408,150.37594,65.63144,145.560408,150.37594,150.37594,0,116.890707],G=[[0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.096154,0.144231,0.192308,0.240385,0.288462,0.336538,0.384615,0.432692,0.480769,0.528846,0.576923,0.625,0.673077,0.721154,0.769231,0.817308,
0.865385,0.913462,0.961538,1.00961,1.05769,1.10577,1.15385,1.20192,1.25,1.29808,1.34615,1.39423,1.44231,1.49039,1.53846,1.58654,1.63461,1.68269,1.73077,1.77885,1.82692,1.875,1.92308,1.97115,2.01923,2.06731,2.11539,2.16346,2.21154,2.25961,2.30769,2.35577,2.40385,2.45192,2.5,2.59494,2.69737,2.80822,2.92857,3.0597,3.20313,3.36066,3.53448,3.72727,3.94231,4.24173,4.56391,4.91054,5.28351,5.68481,6.11658,6.58115,7.08101,7.61883,8.1975,10.764,14.1349,18.5689,24.3818,32.0143,12.7186,13.6846,14.724,15.8423,
17.0456,18.3402,19.7332,21.232,22.8446,24.5797,26.4466,28.4553,30.6166,32.942,35.444],[0.0576922,0.0576922,0.0576922,0.0576922,0.0576923,0.0576923,0.0576923,0.0576922,0.0576922,0.0576922,0.0865385,0.115385,0.144231,0.173077,0.201923,0.230769,0.259615,0.288462,0.317308,0.346154,0.375,0.403846,0.432692,0.461538,0.490385,0.519231,0.548077,0.576923,0.605769,0.634615,0.663462,0.692308,0.721154,0.75,0.778846,0.807692,0.836538,0.865385,0.894231,0.923077,0.951923,0.980769,1.00961,1.03846,1.06731,1.09615,
1.125,1.15385,1.18269,1.21154,1.24039,1.26923,1.29808,1.32692,1.35577,1.38461,1.41346,1.44231,1.47115,1.5,1.55696,1.61842,1.68493,1.75714,1.83582,1.92188,2.01639,2.12069,2.23636,2.36539,2.54504,2.73834,2.94633,3.17011,3.41089,3.66995,3.94869,4.2486,4.5713,4.9185,6.4584,8.48096,11.1413,14.6291,19.2086,7.63117,8.21077,8.8344,9.5054,10.2274,11.0041,11.8399,12.7392,13.7068,14.7478,15.868,17.0732,18.3699,19.7652,21.2664],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,
0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,
29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],[0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.530769,0.796154,1.06154,1.32692,1.59231,1.85769,2.12308,2.38846,2.65385,2.91923,3.18462,3.45,3.71539,3.98077,4.24615,4.51154,4.77692,5.04231,5.30769,5.57308,5.83846,6.10385,6.36923,6.63462,6.9,7.16538,7.43077,
7.69615,7.96154,8.22692,8.49231,8.75769,9.02308,9.28846,9.55385,9.81923,10.0846,10.35,10.6154,10.8808,11.1462,11.4115,11.6769,11.9423,12.2077,12.4731,12.7385,13.0038,13.2692,13.5346,13.8,14.3241,14.8895,15.5014,16.1657,16.8896,17.6813,18.5508,19.5103,20.5745,21.7615,23.4144,25.1928,27.1062,29.165,31.3801,33.7635,36.328,39.0872,42.0559,45.2502,59.4173,78.0249,102.5,134.588,176.719,70.2067,75.5391,81.2765,87.4496,94.0917,101.238,108.927,117.201,126.102,135.68,145.985,157.073,169.003,181.84,195.651],
[0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.265384,0.398077,0.530769,0.663461,0.796154,0.928846,1.06154,1.19423,1.32692,1.45962,1.59231,1.725,1.85769,1.99038,2.12308,2.25577,2.38846,2.52115,2.65385,2.78654,2.91923,3.05192,3.18462,3.31731,3.45,3.58269,3.71538,3.84808,3.98077,4.11346,4.24615,4.37885,4.51154,4.64423,4.77692,4.90962,5.04231,5.175,5.30769,5.44038,5.57308,5.70577,5.83846,5.97115,6.10385,6.23654,6.36923,6.50192,6.63461,6.76731,6.9,7.16202,7.44474,
7.75069,8.08286,8.44478,8.84063,9.27541,9.75517,10.2873,10.8808,11.7072,12.5964,13.5531,14.5825,15.6901,16.8818,18.164,19.5436,21.028,22.6251,29.7087,39.0124,51.2501,67.2938,88.3594,35.1034,37.7696,40.6382,43.7248,47.0458,50.6191,54.4637,58.6004,63.0512,67.8401,72.9927,78.5367,84.5018,90.9199,97.8255],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,
3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,
59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.360742,0.541114,0.721486,0.901856,1.08223,1.2626,1.44297,1.62334,1.80371,1.98409,2.16446,2.34483,2.5252,2.70557,2.88594,3.06631,3.24668,3.42706,3.60743,3.7878,3.96817,4.14854,4.32891,4.50928,4.68966,4.87003,5.0504,5.23077,5.41114,5.59151,5.77188,5.95226,6.13263,6.313,6.49337,6.67374,6.85411,7.03448,7.21485,7.39523,7.5756,
7.75597,7.93634,8.11671,8.29708,8.47746,8.65783,8.8382,9.01857,9.19894,9.37931,9.73549,10.1198,10.5357,10.9872,11.4792,12.0172,12.6083,13.2604,13.9837,14.7905,15.9138,17.1225,18.423,19.8223,21.3278,22.9477,24.6907,26.566,28.5837,30.7548,40.3836,53.0304,69.6653,91.4738,120.109,47.7167,51.3409,55.2404,59.4361,63.9504,68.8075,74.0336,79.6567,85.7068,92.2164,99.2205,106.757,114.865,123.589,132.976],[0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.307692,0.461538,0.615385,
0.769231,0.923077,1.07692,1.23077,1.38461,1.53846,1.69231,1.84615,2,2.15385,2.30769,2.46154,2.61539,2.76923,2.92308,3.07692,3.23077,3.38461,3.53846,3.69231,3.84615,4,4.15385,4.30769,4.46154,4.61539,4.76923,4.92308,5.07692,5.23077,5.38461,5.53846,5.69231,5.84615,6,6.15385,6.30769,6.46154,6.61539,6.76923,6.92308,7.07692,7.23077,7.38461,7.53846,7.69231,7.84615,8,8.3038,8.63158,8.9863,9.37143,9.79105,10.25,10.7541,11.3103,11.9273,12.6154,13.5736,14.6045,15.7137,16.9072,18.1914,19.5731,21.0597,22.6592,
24.3803,26.232,34.4448,45.2318,59.4204,78.0218,102.446,40.6996,43.7908,47.1168,50.6954,54.5459,58.6888,63.1463,67.9425,73.1029,78.6552,84.6292,91.057,97.973,105.414,113.421],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,
9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,
0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,
23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,
7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,
198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.306314,0.459472,0.612629,0.765786,0.918944,1.0721,1.22526,1.37842,1.53157,1.68473,1.83789,1.99104,2.1442,
2.29736,2.45052,2.60367,2.75683,2.90999,3.06315,3.2163,3.36946,3.52262,3.67577,3.82893,3.98209,4.13525,4.2884,4.44156,4.59472,4.74788,4.90103,5.05419,5.20735,5.3605,5.51366,5.66682,5.81998,5.97313,6.12629,6.27945,6.43261,6.58576,6.73892,6.89208,7.04523,7.19839,7.35155,7.50471,7.65786,7.81102,7.96418,8.26661,8.59293,8.94606,9.32947,9.7472,10.2041,10.7059,11.2597,11.8739,12.5589,13.5128,14.5391,15.6434,16.8315,18.1099,19.4854,20.9654,22.5578,24.2711,26.1145,32.5965,40.6875,50.7868,63.3928,79.1278,45.582,
49.044,52.7691,56.777,61.0893,65.7292,70.7215,76.093,81.8724,88.0909,94.7816,101.98,109.726,118.06,127.027],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,
3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,
68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,
8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.384615,0.576923,0.769231,0.961538,1.15385,1.34615,
1.53846,1.73077,1.92308,2.11539,2.30769,2.5,2.69231,2.88461,3.07692,3.26923,3.46154,3.65385,3.84615,4.03846,4.23077,4.42308,4.61539,4.80769,5,5.19231,5.38461,5.57692,5.76923,5.96154,6.15385,6.34615,6.53846,6.73077,6.92308,7.11539,7.30769,7.5,7.69231,7.88461,8.07692,8.26923,8.46154,8.65385,8.84615,9.03846,9.23077,9.42308,9.61539,9.80769,10,10.3797,10.7895,11.2329,11.7143,12.2388,12.8125,13.4426,14.1379,14.9091,15.7692,16.9669,18.2556,19.6422,21.1341,22.7392,24.4663,26.3246,28.324,30.4753,32.79,43.056,
56.5397,74.2755,97.5272,128.057,50.8745,54.7385,58.896,63.3693,68.1824,73.361,78.9329,84.9281,91.3786,98.319,105.787,113.821,122.466,131.768,141.776],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.0901858,0.135279,0.180372,0.225465,0.270557,0.315649,0.360742,0.405835,0.450928,0.496021,0.541114,0.586207,0.6313,0.676393,0.721486,0.766579,0.811672,0.856764,
0.901856,0.946949,0.992042,1.03714,1.08223,1.12732,1.17241,1.21751,1.2626,1.30769,1.35279,1.39788,1.44297,1.48806,1.53316,1.57825,1.62334,1.66844,1.71353,1.75862,1.80371,1.84881,1.8939,1.93899,1.98409,2.02918,2.07427,2.11936,2.16446,2.20955,2.25464,2.29974,2.34483,2.43387,2.52995,2.63392,2.7468,2.86979,3.00431,3.15206,3.3151,3.49593,3.69761,3.97846,4.28063,4.60575,4.95557,5.33196,5.73693,6.17267,6.6415,7.14594,7.68869,10.0959,13.2576,17.4163,22.8685,30.0272,11.9292,12.8352,13.8101,14.859,15.9876,
17.2019,18.5084,19.9142,21.4267,23.0541,24.8051,26.6891,28.7162,30.8973,33.244],[0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.180582,0.270872,0.361163,0.451454,0.541745,0.632036,0.722326,0.812617,0.902908,0.993199,1.08349,1.17378,1.26407,1.35436,1.44465,1.53494,1.62523,1.71553,1.80582,1.89611,1.9864,2.07669,2.16698,2.25727,2.34756,2.43785,2.52814,2.61843,2.70872,2.79902,2.88931,2.9796,3.06989,3.16018,3.25047,3.34076,3.43105,3.52134,3.61163,3.70192,3.79221,3.8825,
3.9728,4.06309,4.15338,4.24367,4.33396,4.42425,4.51454,4.60483,4.69512,4.87342,5.06579,5.27397,5.5,5.74627,6.01563,6.31147,6.63793,7,7.40385,7.96619,8.57124,9.22224,9.9227,10.6763,11.4872,12.3597,13.2985,14.3085,15.3953,20.2153,26.5461,34.8732,45.7902,60.1244,23.8862,25.7004,27.6524,29.7527,32.0124,34.4439,37.06,39.8748,42.9034,46.162,49.6681,53.4405,57.4994,61.8666,66.5656],[0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.538462,0.807692,1.07692,1.34615,1.61539,
1.88461,2.15385,2.42308,2.69231,2.96154,3.23077,3.5,3.76923,4.03846,4.30769,4.57692,4.84615,5.11539,5.38461,5.65385,5.92308,6.19231,6.46154,6.73077,7,7.26923,7.53846,7.80769,8.07692,8.34615,8.61538,8.88461,9.15385,9.42308,9.69231,9.96154,10.2308,10.5,10.7692,11.0385,11.3077,11.5769,11.8462,12.1154,12.3846,12.6538,12.9231,13.1923,13.4615,13.7308,14,14.5316,15.1053,15.726,16.4,17.1343,17.9375,18.8197,19.7931,20.8727,22.0769,23.7537,25.5579,27.4991,29.5877,31.8349,34.2529,36.8545,39.6536,42.6654,45.906,
60.2784,79.1556,103.986,136.538,179.28,71.2242,76.6339,82.4544,88.717,95.4553,102.705,110.506,118.899,127.93,137.647,148.101,159.35,171.453,184.475,198.486],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],wb=[0.020979,0.020515,0.020079,0.019516,0.018997,0.018646,0.018314,0.017997,0.017584,0.017197,0.016551,0.015729,0.015229,0.01458,0.014008,
0.01365,0.013175,0.012832,0.012475,0.012073,0.01184,0.011494,0.011292,0.01099,0.010761,0.010546,0.010321,0.010151,0.009949,0.00974,0.009597,0.009425,0.009278,0.009123,0.008974,0.008847,0.008698,0.008581,0.008457,0.008338,0.008235,0.008113,0.008018,0.007906,0.007798,0.007713,0.007612,0.007524,0.00743,0.00734,0.007268,0.007184,0.007116,0.007029,0.006945,0.006884,0.006805,0.006747,0.006667,0.0066,0.006421,0.006314,0.006175,0.006072,0.005981,0.005885,0.005791,0.005732,0.005668,0.005596,0.005316,0.005049,
0.004796,0.004555,0.004327,0.00411,0.003903,0.003708,0.003522,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345,0.003345],H={1:[6,8,4,5,8,8,9,3,2,1,1,1,21,31,51,77,27,42,68,102,22,34,55,83,24,37,60,89,19,29,47,70,15,24,38,57,17,26,43,64,12,18,30,45,14],2:[6,9,4,6,9,9,9,3,3,2,1,1,22,34,56,84,30,46,75,112,24,37,61,91,26,40,66,98,21,32,52,77,17,26,42,63,19,29,47,70,13,20,
33,49,15],3:[7,9,4,6,9,10,12,4,3,2,1,1,24,37,61,91,32,50,81,122,26,41,66,99,28,44,71,107,22,34,56,84,18,28,46,69,20,31,51,76,14,22,35,53,16],4:[7,10,5,6,10,11,12,4,3,2,1,1,26,40,65,98,35,54,87,131,28,44,71,106,31,47,76,115,24,37,60,90,20,30,49,74,22,34,54,82,15,24,38,57,18],5:[8,10,5,7,10,12,15,5,4,3,2,2,28,43,70,105,38,57,94,141,31,46,76,115,33,50,82,123,26,39,65,97,21,32,53,79,24,36,59,88,17,25,41,62,19],6:[8,11,5,7,11,12,15,5,4,3,2,2,30,46,75,113,40,61,100,150,33,50,81,122,35,53,88,131,28,42,69,
103,23,34,56,84,25,38,63,94,18,27,44,66,20],7:[9,11,6,7,11,13,18,6,4,3,2,3,32,49,80,120,43,65,106,160,35,53,86,130,38,57,93,140,30,45,73,110,24,37,60,90,27,41,66,100,19,28,46,70,22],8:[9,12,6,8,12,14,21,7,5,4,2,3,34,52,85,127,45,69,113,169,37,56,92,137,39,60,99,148,31,47,78,116,25,39,64,95,28,43,71,106,20,30,49,74,23],9:[10,13,6,8,13,15,21,7,5,4,2,3,36,55,89,134,48,73,119,179,39,59,97,145,42,64,104,157,33,50,82,123,27,41,67,101,30,46,74,112,21,32,52,78,24],10:[10,13,7,9,13,16,24,8,6,4,2,3,38,58,94,
141,50,77,125,188,41,63,102,153,44,67,109,165,34,53,86,129,28,43,70,106,31,48,78,118,22,34,55,82,25],11:[11,14,7,9,14,16,24,8,6,5,3,4,40,61,99,149,53,81,132,198,43,66,107,161,46,71,116,173,36,56,91,136,30,46,74,111,33,51,83,124,23,35,58,87,27],12:[11,15,7,10,15,17,27,9,7,5,3,4,42,64,104,156,56,85,138,208,46,69,112,169,49,74,121,182,39,58,95,143,32,48,78,117,35,53,86,130,25,37,60,91,28],13:[12,16,8,10,16,18,27,9,7,5,3,4,44,67,108,163,58,89,145,217,47,72,118,176,51,78,127,190,40,61,100,149,33,50,82,
122,36,56,91,136,25,39,63,95,29],14:[12,16,8,11,16,19,30,10,8,6,3,4,45,69,113,170,61,93,151,227,50,76,123,184,53,81,132,199,42,64,104,156,34,52,85,128,38,58,94,142,27,41,66,99,31],15:[13,17,9,11,17,20,33,11,8,6,3,5,47,72,118,177,63,96,157,236,51,78,128,192,55,84,137,207,43,66,108,162,35,54,88,133,39,60,98,148,28,42,69,103,32],16:[14,18,9,12,18,21,33,11,8,6,4,5,49,75,123,184,66,100,164,246,54,81,133,200,58,88,144,215,45,69,113,169,37,56,92,138,41,63,103,154,29,44,72,108,33],17:[14,19,9,12,19,22,36,
12,9,7,4,5,51,78,128,192,68,104,170,255,55,85,138,207,60,91,149,223,47,72,117,175,38,59,96,143,43,65,106,159,30,46,74,112,34],18:[15,19,10,13,19,23,36,12,9,7,4,5,53,81,132,199,71,108,176,265,58,88,143,215,62,95,154,232,49,74,121,182,40,61,99,149,44,68,110,166,31,47,77,116,36],19:[15,20,10,13,20,24,39,13,10,7,4,6,55,84,137,206,73,112,183,275,59,91,149,223,64,98,160,241,50,77,126,189,41,63,103,155,46,70,114,172,32,49,80,120,37],20:[16,21,10,14,21,25,42,14,10,8,4,6,57,87,142,213,76,116,189,284,62,94,
154,231,67,102,165,249,52,80,130,195,43,65,106,160,48,73,118,178,33,51,83,124,38],21:[16,21,11,14,21,26,42,14,11,8,5,6,59,90,147,220,79,120,195,294,64,98,158,239,69,105,171,257,54,83,134,202,44,68,110,165,49,75,122,184,35,53,85,129,40],22:[17,22,11,14,22,27,45,15,11,8,5,6,61,93,151,227,81,124,202,303,66,101,164,246,71,109,177,265,56,85,139,208,46,70,114,170,51,78,126,189,35,54,88,133,41],23:[17,23,11,15,23,28,45,15,12,9,5,7,63,96,156,235,84,128,208,313,68,104,169,254,74,112,182,274,58,88,143,215,
47,72,117,176,53,80,130,196,37,56,91,137,42],24:[18,23,12,15,23,29,48,16,12,9,5,7,65,99,161,242,86,132,215,322,70,107,175,262,75,116,188,282,59,91,148,221,48,74,121,181,54,83,134,201,38,58,94,141,43],25:[19,24,12,16,24,30,51,17,12,9,5,7,67,102,166,249,89,136,221,332,72,111,180,270,78,119,193,291,61,94,152,228,50,77,124,187,56,85,138,208,39,60,97,145,45],26:[19,25,13,17,25,30,51,17,13,10,5,7,68,105,170,256,91,139,227,342,74,113,184,278,80,122,199,299,63,96,156,235,51,78,128,192,57,87,142,214,40,61,
99,150,46],27:[20,26,13,17,26,31,54,18,13,10,6,8,70,108,175,263,94,143,234,351,76,116,190,285,82,125,205,307,65,98,161,241,53,80,132,197,59,89,146,219,41,63,102,154,47],28:[21,27,14,18,27,32,54,18,14,10,6,8,72,110,180,270,96,147,240,361,78,119,195,293,84,129,210,316,66,101,165,248,54,83,135,203,60,92,150,226,42,64,105,158,48],29:[22,29,14,19,29,32,57,19,14,11,6,8,74,113,185,278,99,151,246,370,80,123,200,301,87,132,215,324,68,104,169,254,56,85,138,208,62,94,154,231,43,66,108,162,50],30:[23,30,15,20,
30,33,60,20,15,11,6,8,76,116,190,285,102,155,253,380,83,126,206,309,89,136,221,333,70,107,174,261,57,87,142,214,64,97,158,238,45,68,111,166,51],31:[24,31,16,20,31,34,60,20,15,11,6,9,78,119,194,292,104,159,259,389,85,129,210,316,91,139,227,340,72,109,178,267,59,89,146,219,65,99,162,243,46,70,113,170,52],32:[25,32,16,21,32,34,63,21,16,12,7,9,80,122,199,299,107,163,265,399,87,132,215,324,94,143,232,349,74,112,182,274,60,92,149,224,67,102,166,249,47,71,116,175,54],33:[25,33,17,22,33,35,63,21,16,12,7,
9,82,125,204,306,109,167,272,408,89,136,221,332,95,146,238,357,75,115,187,281,61,94,153,230,68,104,170,255,48,73,119,179,55],34:[26,34,17,23,34,36,66,22,16,12,7,9,84,128,209,314,112,171,278,418,91,139,226,340,98,150,243,366,77,118,191,287,63,96,156,235,70,107,174,261,49,75,122,183,56],35:[27,35,18,23,35,37,69,23,17,13,7,10,86,131,213,321,114,175,285,428,93,142,232,348,100,153,249,375,78,120,196,294,64,98,160,241,71,109,178,268,50,77,125,187,57],36:[28,36,18,24,36,38,69,23,17,13,7,10,88,134,218,328,
117,178,291,437,95,145,236,355,102,156,255,382,80,122,200,300,66,100,164,246,73,111,182,273,51,78,127,191,59],37:[28,37,19,24,37,39,72,24,18,13,8,10,90,137,223,335,119,182,297,447,97,148,241,363,104,159,260,391,82,125,204,307,67,102,167,251,74,114,186,279,52,80,130,196,60],38:[29,38,19,25,38,40,72,24,18,14,8,10,92,140,228,342,122,186,304,456,99,151,247,371,107,163,266,399,84,128,209,314,69,105,171,257,76,116,190,285,53,81,133,200,61],39:[29,38,19,25,38,41,75,25,19,14,8,11,93,143,233,349,125,190,310,
466,102,154,252,379,109,166,271,408,86,131,213,320,70,107,174,262,78,119,194,291,55,83,136,204,63],40:[30,39,20,26,39,42,78,26,19,14,8,11,95,146,237,357,127,194,316,475,103,158,257,386,111,170,277,416,87,133,217,327,71,109,178,267,79,121,198,297,56,85,138,208,64],41:[31,40,20,26,40,43,78,26,20,15,8,11,97,149,242,364,130,198,323,485,106,161,262,394,114,173,283,424,89,136,222,333,73,111,182,273,81,124,202,303,57,87,141,212,65],42:[31,41,21,27,41,44,81,27,20,15,8,11,99,151,247,371,132,202,329,495,107,
164,267,402,116,177,288,433,91,139,226,340,74,114,185,278,83,126,206,309,58,88,144,217,66],43:[32,41,21,27,41,45,81,27,20,15,9,12,101,154,252,378,135,206,336,504,110,167,273,410,118,180,294,441,93,142,231,347,76,116,189,284,84,129,210,315,59,90,147,221,68],44:[32,42,21,28,42,47,84,28,21,16,9,12,103,157,256,385,137,210,342,514,111,171,278,418,120,184,299,450,94,144,235,353,77,118,192,289,86,131,214,321,60,92,150,225,69],45:[33,43,22,29,43,48,84,28,21,16,9,12,105,160,261,392,140,214,348,523,114,174,
283,425,123,187,305,458,96,147,239,360,79,120,196,294,88,134,218,327,61,94,152,229,70],46:[34,44,22,29,44,50,87,29,22,16,9,12,107,163,266,400,142,218,355,533,115,177,288,433,124,191,311,466,98,150,244,366,80,123,200,300,89,136,222,333,62,95,155,233,71],47:[34,45,23,30,45,51,90,30,22,17,9,13,109,166,271,407,145,221,361,542,118,180,293,440,127,193,316,474,100,152,248,373,82,124,203,305,91,138,226,339,63,97,158,237,73],48:[35,45,23,30,45,52,90,30,23,17,10,13,111,169,276,414,148,225,367,552,120,183,298,
449,130,197,321,483,102,155,252,380,83,127,206,311,93,141,229,345,65,98,161,242,74],49:[35,46,23,31,46,53,93,31,23,17,10,13,113,172,280,421,150,229,374,561,122,186,304,456,131,200,327,491,103,157,257,386,84,129,210,316,94,143,234,351,66,100,164,245,75],50:[36,47,24,31,47,54,93,31,24,18,10,13,115,175,285,428,153,233,380,571,124,189,309,464,134,204,333,500,105,160,261,393,86,131,214,321,96,146,238,357,67,102,166,250,77],51:[37,48,24,32,48,54,96,32,24,18,10,14,116,178,290,435,155,237,386,581,126,193,
314,472,136,207,338,508,107,163,265,399,87,133,217,327,97,148,241,363,68,104,169,254,78],52:[37,49,25,32,49,55,99,33,24,18,10,14,118,181,295,443,158,241,393,590,128,196,319,479,138,211,344,516,109,166,270,406,89,136,221,332,99,151,246,369,69,105,172,258,79],53:[38,49,25,33,49,57,99,33,25,19,11,14,120,183,297,445,160,243,396,593,130,197,322,482,140,213,347,519,110,167,272,408,90,137,223,334,100,152,248,371,70,106,173,259,80],54:[38,50,25,33,50,58,102,34,25,19,11,14,122,184,299,447,162,246,398,596,
132,200,323,484,142,215,348,522,111,169,274,410,91,138,224,335,101,154,249,373,71,108,174,261,81],55:[39,51,26,34,51,59,102,34,26,19,11,15,123,186,301,450,165,248,401,600,134,202,326,488,144,217,351,525,113,171,276,413,93,140,226,338,103,155,251,375,72,109,175,263,83],56:[40,52,26,34,52,61,105,35,26,20,11,15,125,188,303,452,167,251,404,603,136,204,328,490,146,220,354,528,115,173,278,415,94,141,227,339,104,157,253,377,73,110,177,264,84],57:[40,53,27,35,53,62,108,36,27,20,11,15,127,190,305,455,169,
253,407,606,137,206,331,492,148,221,356,530,116,174,280,417,95,142,229,341,106,158,254,379,74,111,178,265,85],58:[50,65,33,43,65,85,139,46,34,25,14,19,157,223,342,497,210,297,456,663,171,241,371,539,184,260,399,580,144,204,314,456,118,167,257,373,131,186,285,414,92,130,200,290,105],59:[51,67,34,44,67,88,142,47,36,27,15,20,163,229,349,505,217,305,465,674,176,248,378,548,190,267,407,590,149,210,320,463,122,172,262,379,136,191,291,421,95,133,203,295,109],60:[53,68,35,45,68,91,148,49,37,28,16,21,171,
240,365,513,228,320,487,684,185,260,396,556,200,280,426,599,157,220,335,470,128,180,274,385,143,200,304,428,100,140,213,299,114],61:[54,70,36,47,70,94,154,51,39,29,16,22,181,254,386,533,242,338,515,711,197,275,418,578,212,296,451,622,166,232,354,489,136,190,290,400,151,211,322,444,106,148,225,311,121],62:[55,72,36,48,72,97,160,53,40,30,17,22,192,269,409,578,255,358,545,771,207,291,443,626,223,313,477,675,175,246,375,530,143,201,307,434,159,224,341,482,112,157,238,337,128],63:[56,73,37,49,73,100,163,
54,41,31,17,23,203,284,433,623,270,379,577,831,219,308,469,675,236,332,505,727,186,261,397,571,152,213,325,467,169,237,361,519,118,166,252,364,135],64:[58,75,38,50,75,104,166,55,42,31,18,24,214,301,458,668,286,401,611,890,232,326,496,723,250,351,535,779,197,276,420,612,161,226,344,501,179,251,382,556,125,175,267,389,143],65:[60,78,40,52,78,109,172,57,43,32,18,24,227,318,485,713,302,424,647,950,245,345,526,772,264,371,566,831,208,292,445,653,170,239,364,534,189,265,404,594,132,186,283,416,151],66:[62,
81,41,54,81,113,175,58,44,33,18,25,240,337,514,757,320,449,685,1010,260,365,557,821,280,393,599,884,220,309,471,694,180,253,385,568,200,281,428,631,140,196,300,442,160],67:[65,84,43,56,84,117,178,59,45,34,19,25,254,356,544,802,338,475,725,1070,275,386,589,869,296,416,634,936,232,327,498,736,190,267,408,602,211,297,453,669,148,208,317,468,169],68:[91,119,61,79,119,168,253,84,62,47,26,36,361,498,749,1091,482,664,998,1454,392,540,811,1181,422,581,873,1272,331,457,686,1E3,271,374,561,818,301,415,624,
909,211,291,437,636,241],69:[93,121,62,81,121,172,262,87,64,48,27,37,375,518,779,1144,500,691,1039,1526,406,561,844,1240,438,605,909,1335,344,475,714,1049,281,389,584,858,313,432,649,954,219,302,455,668,250],70:[95,124,63,82,124,175,271,90,67,50,28,39,389,539,811,1198,519,718,1082,1597,422,583,879,1298,454,628,947,1397,357,494,744,1098,292,404,609,898,324,449,676,998,227,314,473,699,260],71:[97,127,65,84,127,179,280,93,69,52,29,40,404,560,845,1252,539,746,1126,1669,438,606,915,1356,472,653,985,1460,
371,513,774,1147,303,420,633,939,337,466,704,1043,236,326,493,730,270],72:[99,129,66,86,129,183,292,97,72,54,30,42,419,582,879,1306,559,776,1172,1741,454,631,952,1415,489,679,1026,1523,384,534,806,1197,314,437,659,979,349,485,733,1088,245,340,513,762,280],73:[102,132,68,88,132,187,304,101,75,56,32,43,435,605,915,1359,580,806,1220,1813,471,655,991,1473,508,705,1068,1586,399,554,839,1246,326,453,686,1020,363,504,763,1133,254,353,534,793,290],74:[104,135,69,90,135,191,313,104,78,58,33,45,451,628,952,
1414,601,838,1269,1885,488,681,1031,1532,526,733,1110,1649,413,576,872,1296,338,471,714,1060,376,524,793,1178,263,367,555,825,301],75:[106,138,71,92,138,196,325,108,81,60,34,46,468,653,990,1468,624,870,1320,1957,507,707,1073,1590,546,761,1155,1712,429,598,908,1345,351,489,743,1101,390,544,825,1223,273,381,578,856,312],76:[109,141,72,94,141,200,340,113,84,63,35,48,485,678,1030,1522,647,904,1373,2029,526,735,1116,1649,566,791,1201,1775,445,622,944,1395,364,509,772,1141,404,565,858,1268,283,396,601,
888,324],77:[111,145,74,96,145,205,352,117,87,65,37,50,503,704,1071,1576,670,939,1429,2102,544,763,1161,1708,586,822,1250,1839,461,646,982,1445,377,528,804,1182,419,587,893,1314,293,411,625,920,335],78:[114,148,76,99,148,210,364,121,90,68,38,52,521,731,1114,1631,695,975,1486,2174,565,792,1207,1766,608,853,1300,1902,478,670,1022,1495,391,548,836,1223,434,609,929,1359,304,427,650,951,348],79:[117,152,78,101,152,215,380,126,94,71,40,54,534,751,1146,1660,713,1001,1528,2213,579,813,1242,1798,624,876,1337,
1936,490,688,1051,1521,401,563,860,1245,446,626,955,1383,312,438,669,968,357],80:[120,156,80,104,156,220,395,131,97,73,41,56,546,762,1156,1668,729,1016,1541,2224,592,826,1252,1807,638,889,1348,1946,501,699,1059,1529,410,572,867,1251,456,635,963,1390,319,445,674,973,365],81:[225,293,150,195,293,414,928,308,229,172,97,132,813,1017,1390,1875,1084,1356,1854,2500,881,1102,1506,2031,949,1187,1622,2188,745,932,1275,1719,610,763,1043,1406,678,848,1159,1563,474,593,811,1094,542],82:[262,353,175,235,353,498,
1108,368,273,205,116,158,829,1062,1485,2034,1105,1416,1981,2713,898,1151,1610,2204,967,1239,1733,2374,760,974,1362,1865,622,797,1114,1526,691,885,1238,1696,483,620,867,1187,553],83:[309,417,206,278,417,590,1310,435,323,242,137,186,844,1104,1577,2189,1125,1472,2102,2919,914,1196,1708,2372,984,1288,1839,2554,773,1012,1445,2007,633,828,1182,1642,703,920,1314,1824,492,644,920,1277,563],84:[336,454,224,302,454,641,1425,473,351,263,149,203,852,1126,1624,2271,1136,1501,2166,3028,923,1220,1760,2460,994,1313,
1895,2650,781,1032,1489,2082,639,844,1218,1703,710,938,1354,1893,497,657,948,1325,568],85:[362,489,241,326,489,691,1533,509,378,284,160,218,858,1145,1668,2346,1145,1527,2224,3128,930,1241,1807,2542,1002,1336,1946,2737,787,1050,1529,2151,644,859,1251,1760,716,954,1390,1955,501,668,973,1369,573]},Ya=[23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,
95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,237.558,246.991,256.628,266.467,276.51,286.755,297.203,307.853,318.707,329.763,341.022,352.484,364.149,376.016,388.086,400.36,412.835,425.514,478.257,491.95,512.169,532.943,554.279,576.187,598.672,621.743,645.407,669.673,694.546,720.036,746.15,772.895,800.278,828.309,856.993,886.339,916.355,947.048,978.425,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,
1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,34.6214,35.4356,35.5984,35.8589,36.038,36.2139,36.3562,36.4902,37.8794,38.6922,39.413,40.0417,40.5784,42.3805,44.1849,45.9759,47.738,49.4556,51.1132,52.6953,54.4846,56.2322,57.9299,59.5701,61.1453,62.6485,64.0733,65.4135,66.6632,67.8171,70.2758,72.7271,75.1662,77.5882,79.9881,82.3611,84.7021,87.0064,89.2691,91.4851,94.5168,97.5646,100.626,103.699,106.78,109.868,112.959,116.052,119.144,122.232,125.314,128.387,131.45,134.499,
137.532,140.547,143.541,293.024,327.008,332.962,354.075,375.985,398.707,422.256,446.646,471.89,498.002,524.997,552.889,581.691,611.418,642.083,673.701,706.285,739.849,774.407,809.974,846.562,884.185,922.858,943.72,964.814,986.142,1007.7,1029.49,1051.52,1073.77,1096.26,1118.98,1141.93,1165.11,1188.51,1212.15,1236.02,1260.12,1284.45,1309,1333.79,1358.8,1384.04,5.2216,5.7727,6.27696,6.74717,7.1928,7.72152,8.5082,9.33304,10.196,11.0972,12.0365,13.0139,14.0295,15.5282,17.1514,18.9051,20.7947,22.826,25.0047,
27.3363,29.7556,32.3265,35.0535,37.9411,40.9935,44.215,47.6099,51.1823,54.9364,58.8762,63.0058,67.3291,71.8499,76.5723,81.4999,86.6366,91.9859,97.5516,103.337,109.346,116.451,123.889,131.668,139.798,148.289,157.15,166.392,176.025,186.057,196.501,207.366,218.662,230.4,242.591,255.245,268.373,281.986,296.095,338.963,355.055,376.742,399.409,423.086,447.802,473.588,500.474,528.491,557.67,588.043,619.643,652.502,686.653,722.129,758.966,797.196,836.855,877.979,920.602,964.762,1010.49,1032.93,1055.63,1078.57,
1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,37.2971,38.6641,39.5754,40.1829,40.588,41.398,43.4485,45.4989,47.5494,49.5998,51.6503,53.7007,55.7512,59.5064,63.4644,67.6252,71.9888,76.5552,81.3244,86.2964,90.3279,94.4277,98.5882,102.802,107.061,111.358,115.686,120.036,124.402,128.775,133.148,137.513,141.863,146.19,150.486,154.745,158.957,163.117,167.215,171.245,182.128,193.477,205.302,217.615,230.425,243.742,257.576,
271.937,286.836,302.283,318.287,334.86,352.01,369.749,388.086,407.032,426.597,446.79,510.141,532.946,552.215,571.938,592.122,612.77,633.888,655.481,677.554,700.112,723.161,746.704,770.748,795.297,820.357,845.932,872.028,898.65,925.802,953.49,981.719,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,22.555,22.8271,22.8815,22.9686,23.0284,23.0872,23.1348,23.1796,23.5733,23.9155,24.209,24.4536,
24.6495,25.7049,26.7761,27.8523,28.923,29.9776,31.0057,31.9966,33.6486,35.3325,37.0434,38.7764,40.5265,42.2887,44.0578,45.8288,47.5965,49.3556,52.144,55.0287,58.0102,61.0891,64.2659,67.5409,70.9147,74.3878,77.9607,81.6337,84.8264,88.0704,91.3642,94.7066,98.0965,101.533,105.013,108.538,112.105,115.713,119.361,123.047,126.771,130.531,134.326,138.154,142.015,291.813,328.421,336.625,355.277,374.585,394.558,415.208,436.546,458.581,481.326,504.79,528.985,553.92,579.607,606.055,633.277,661.281,690.078,719.679,
750.095,781.334,813.409,846.328,865.675,885.235,905.007,924.992,945.189,965.597,986.215,1007.04,1028.08,1049.33,1070.78,1092.45,1114.32,1136.39,1158.68,1181.16,1203.86,1226.75,1249.85,1273.16,23.3107,24.1651,24.7346,25.1143,25.3675,25.8738,27.1553,28.4368,29.7184,30.9999,32.2814,33.563,34.8445,37.1915,39.6652,42.2657,44.993,47.847,50.8277,53.9353,58.8846,64.1624,69.78,75.7488,82.0803,88.7858,95.8768,103.365,111.261,119.577,128.323,137.513,147.156,157.265,167.85,178.923,190.496,202.58,215.187,228.327,
235.578,242.875,250.212,257.585,264.988,272.417,279.866,287.33,294.804,302.283,309.762,317.236,324.699,332.148,339.576,346.978,354.35,361.687,402.533,409.958,432.076,454.951,478.595,503.02,528.24,554.267,581.114,608.793,637.318,666.7,696.953,728.089,760.121,793.062,826.923,861.719,897.461,934.163,971.836,1010.49,1032.93,1055.63,1078.57,1101.77,1125.23,1148.93,1172.9,1197.11,1221.58,1246.3,1271.27,1296.5,1321.98,1347.72,1373.71,1399.95,1426.45,1453.2,1480.2,1507.45,30.0793,30.7255,30.8547,31.0615,
31.2037,31.3433,31.4562,31.5626,32.6485,33.3104,33.8949,34.4021,34.832,36.3846,37.9444,39.4977,41.0304,42.5288,43.9789,45.367,46.6013,47.7707,48.8674,49.8842,50.8144,51.6517,52.3907,53.0262,53.5537,53.9691,55.3766,56.7193,57.9908,59.1841,60.2929,61.3102,62.2297,63.0445,63.7481,64.3338,66.6823,69.059,71.4627,73.892,76.3458,78.8229,81.3219,83.8416,86.3809,88.9384,91.5129,94.1033,96.7081,99.3263,101.957,104.598,107.248,219.815,246.45,251.971,274.168,297.331,321.476,346.622,372.788,399.993,428.254,457.591,
488.021,519.562,552.234,586.053,621.039,657.21,694.583,733.177,773.01,814.099,856.463,900.12,920.54,941.187,962.061,983.161,1004.49,1026.04,1047.82,1069.82,1092.05,1114.5,1137.18,1160.08,1183.2,1206.55,1230.12,1253.91,1277.92,1302.15,1326.61,1351.28,31.0214,31.4306,31.5124,31.6433,31.7334,31.8217,31.8933,31.9606,32.5713,33.0673,33.4947,33.8535,34.1437,35.6445,37.1693,38.7032,40.231,41.7376,43.208,44.6273,46.8581,49.1244,51.4189,53.7345,56.064,58.4003,60.7361,63.0644,65.378,67.6698,71.3599,75.1661,
79.0884,83.1267,87.2807,91.5504,95.9356,100.436,105.052,109.783,113.1,116.4,119.677,122.928,126.146,129.329,132.47,135.565,138.61,141.599,144.529,147.394,150.189,152.911,155.554,158.114,160.585,325.929,362.339,366.621,384.399,402.743,421.66,441.159,461.248,481.937,503.232,525.144,547.679,570.847,594.656,619.113,644.228,670.008,696.462,723.597,751.422,779.945,809.174,839.117,858.338,877.77,897.413,917.266,937.33,957.603,978.085,998.776,1019.67,1040.78,1062.09,1083.61,1105.33,1127.26,1149.39,1171.72,
1194.26,1217,1239.94,1263.08,32.2214,32.7267,32.8278,32.9895,33.1006,33.2098,33.2981,33.3813,34.1745,34.7479,35.2466,35.6706,36.0198,37.5977,39.1938,40.7928,42.3796,43.939,45.4558,46.9148,48.8949,50.8768,52.8527,54.8151,56.7566,58.67,60.5484,62.3851,64.1734,65.907,68.9589,72.0684,75.233,78.4502,81.7176,85.0327,88.393,91.7962,95.2397,98.7212,101.446,104.135,106.785,109.391,111.947,114.45,116.894,119.274,121.587,123.827,125.989,128.069,130.062,131.964,133.769,135.473,137.072,277.12,306.629,308.962,
328.7,349.192,370.449,392.487,415.318,438.956,463.412,488.702,514.837,541.831,569.697,598.448,628.097,658.656,690.139,722.558,755.927,790.257,825.563,861.855,881.517,901.397,921.494,941.807,962.336,983.08,1004.04,1025.21,1046.6,1068.2,1090.02,1112.04,1134.28,1156.73,1179.39,1202.26,1225.35,1248.64,1272.13,1295.84,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,25.7771,26.4755,26.6152,26.8387,26.9923,27.1432,27.2653,27.3802,28.5971,29.2692,29.8687,30.3957,30.8502,32.1517,33.4634,34.773,36.0683,37.3369,38.5667,39.7455,41.294,42.8351,44.3625,45.8701,47.3519,48.8023,50.2157,51.5869,52.9107,54.1822,56.5272,58.9058,61.3156,63.7541,66.2189,68.7075,71.2174,73.7463,76.2916,78.851,81.422,84.0022,86.5891,89.1804,91.7735,94.3661,96.9557,99.5399,102.116,104.683,107.236,109.775,112.296,114.797,117.276,119.73,122.157,249.109,277.898,282.633,303.65,325.525,
348.274,371.914,396.46,421.927,448.333,475.691,504.019,533.332,563.645,594.974,627.334,660.742,695.212,730.76,767.402,805.152,844.027,884.04,904.113,924.408,944.926,965.665,986.626,1007.81,1029.21,1050.83,1072.68,1094.74,1117.02,1139.52,1162.24,1185.17,1208.33,1231.7,1255.28,1279.08,1303.1,1327.33,3,3,4,4,5,5,6,7,7,8,8,9,9,10,11,11,12,12,13,14,14,15,15,16,17,17,18,18,19,20,20,21,21,22,23,23,24,24,25,26,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,37,54,55,56,57,59,60,61,63,68,70,89,93,
96,100,104,107,112,116,120,125,305,338,375,407,443,1083,1200,1330,1446,1573,3847,4262,4722,5135,5584,13659,15134,16767,18234,19829],xb=[["Consumable","Consumable,Potion,Elixir,Flask,Scroll,Food & Drink,Item Enhancement,Bandage,Other".split(",")],["Container","Bag,Soul Bag,Herb Bag,Enchanting Bag,Engineering Bag,Gem Bag,Mining Bag,Leatherworking Bag,Inscription Bag,Tackle Box".split(",")],["Weapon","One-Handed Axes,Two-Handed Axes,Bows,Guns,One-Handed Maces,Two-Handed Maces,Polearms,One-Handed Swords,Two-Handed Swords,Obsolete,Staves,One-Handed Exotics,Two-Handed Exotics,Fist Weapons,Miscellaneous,Daggers,Thrown,Spears,Crossbows,Wands,Fishing Poles".split(",")],
["Gem","Red,Blue,Yellow,Purple,Green,Orange,Meta,Simple,Prismatic,Hydraulic,Cogwheel".split(",")],["Armor","Miscellaneous,Cloth,Leather,Mail,Plate,Bucklers,Shields,Librams,Idols,Totems,Sigils,Relic".split(",")],["Reagent",["Reagent"]],["Projectile",["Wand(OBSOLETE)","Bolt(OBSOLETE)","Arrow","Bullet","Thrown(OBSOLETE)"]],["Trade Goods","Trade Goods,Parts,Explosives,Devices,Jewelcrafting,Cloth,Leather,Metal & Stone,Meat,Herb,Elemental,Other,Enchanting,Materials,Item Enchantment,Weapon Enchantment - Obsolete".split(",")],
["Generic(OBSOLETE)",["Generic(OBSOLETE)"]],["Recipe","Book,Leatherworking,Tailoring,Engineering,Blacksmithing,Cooking,Alchemy,First Aid,Enchanting,Fishing,Jewelcrafting,Inscription".split(",")],["Money",["Money(OBSOLETE)"]],["Quiver",["Quiver(OBSOLETE)","Quiver(OBSOLETE)","Quiver","Ammo Pouch"]],["Quest",["Quest"]],["Key",["Key","Lockpick"]],["Permanent(OBSOLETE)",["Permanent"]],["Miscellaneous","Junk,Reagent,Pet,Holiday,Other,Mount".split(",")],["Glyph",{1:"Warrior",2:"Paladin",3:"Hunter",4:"Rogue",
5:"Priest",6:"Death Knight",7:"Shaman",8:"Mage",9:"Warlock",11:"Druid"}]],yb={164:[164,"Schmiedekunst","Eine hohe Schmiedefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schmiedepl\u00e4ne zu benutzen. Pl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schmiedepl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],165:[165,"Lederverarbeitung","Eine hohe Lederverarbeitungsfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],171:[171,"Alchemie","Eine hohe Alchemiefertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Rezepte zu benutzen. Alchemierezepte k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Rezepte oder Ihr erhaltet sie als Questbelohnung.",[]],182:[182,"Kr\u00e4uterkunde","Eine hohe Kr\u00e4uterkundefertigkeit erm\u00f6glicht es Euch, schwierigere Kr\u00e4uter zu ernten. Wenn Ihr ein bestimmtes Kraut nicht ernten k\u00f6nnt, steigert Eure Kr\u00e4uterkundefertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Kr\u00e4uter erntet.",
[[22119,[81708,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,11,0,0,26,0,0,0,0,0,68781],[0,6,189,0,5,0,0,0,917504,0,0,0,0,87571],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 5 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,1,55428],[19355,[55428,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,29,0,0,61,0,0,0,0,0,48361],[0,6,189,0,15,0,0,0,917504,0,0,0,0,87572],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 15 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,75,55480],[19356,[55480,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,47,0,0,97,0,0,0,0,0,48439],[0,6,189,0,35,0,0,0,917504,0,0,0,0,87573],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 35 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,150,55500],[19357,[55500,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,71,0,0,145,0,0,0,0,0,48442],[0,6,189,0,55,0,0,0,917504,0,0,0,0,87574],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 55 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,225,55501],[19358,[55501,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,89,0,0,181,0,0,0,0,0,48443],[0,6,189,0,70,0,0,0,917504,0,0,0,0,87575],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 70 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,300,55502],[19359,[55502,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,119,0,0,241,0,0,0,0,0,48444],[0,6,189,0,120,0,0,0,917504,0,0,0,0,87576],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 120 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,375,55503],[19360,[55503,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,359,0,0,721,0,0,0,0,0,48445],[0,6,189,0,240,0,0,0,917504,0,0,0,0,87577],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 240 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74497],[21619,[74497,"Lifeblood","Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting $s2 haste rating for $d. Can be used while stealthed or invisible.","spell_nature_wispsplodegreen",2E4,[0,0,0,0],j,0,0,[0,12E4,0],[[0,10,0,0,719,0,0,1441,0,0,0,0,0,74358],[0,6,189,0,480,0,0,0,917504,0,0,0,0,87594],j],j,"Uses your skill in Herbalism to absorb energy and nutrients from the earth, instantly healing minor wounds and granting 480 haste rating for $time(20). Can be used while stealthed or invisible.",
l,j,j,[0,32,16384,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],186:[186,"Bergbau","Eine hohe Bergbaufertigkeit erm\u00f6glicht es Euch, schwierigere Erzvorkommen abzubauen. Wenn Ihr ein bestimmtes Erzvorkommen nicht abbauen k\u00f6nnt, steigert Eure Bergbaufertigkeit, indem Ihr in niedrigstufigeren Gebieten leichtere Erzvorkommen abbaut.",[[17987,[53120,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,
0,0,j,[[0,6,29,0,3,0,0,0,2,0,0,0,0,45755],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 3.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53121],[17988,[53121,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,5,0,0,0,2,0,0,0,0,45756],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 5.",
l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53122],[17989,[53122,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,7,0,0,0,2,0,0,0,0,45757],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 7.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53123],[17990,[53123,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,10,0,0,0,2,0,0,0,0,45758],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 10.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53124],[17991,[53124,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,30,0,0,0,2,0,0,0,0,45759],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 30.",
l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53040],[17984,[53040,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.","ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,60,0,0,0,2,0,0,0,0,45636],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 60.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74496],[21618,[74496,"Toughness","All your hard work spent mining has made you exceptionally tough, increasing your Stamina by $s1.",
"ability_golemthunderclap",0,[0,0,0,0],j,0,0,j,[[0,6,29,0,120,0,0,0,2,0,0,0,0,74357],j,j],j,"All your hard work spent mining has made you exceptionally tough, increasing your Stamina by 120.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],197:[197,"Schneiderei","Eine hohe Schneiderfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Schnittmuster zu benutzen. Muster k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Schnittmuster oder Ihr erhaltet sie als Questbelohnung.",
[]],202:[202,"Ingenieurskunst","Eine hohe Ingenieursfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Baupl\u00e4ne zu benutzen. Baupl\u00e4ne k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben. Tote Gegner hinterlassen manchmal Baupl\u00e4ne oder Ihr erhaltet sie als Questbelohnung.",[]],333:[333,"Verzauberkunst","Eine hohe Verzauberungsfertigkeit erm\u00f6glicht es Euch, m\u00e4chtigere Formeln zu benutzen. Verzauberungsformeln k\u00f6nnt Ihr bei Lehrern \u00fcberall in der Welt erwerben und auch bei toten Gegnern und beim Questen finden.",
[]],393:[393,"K\u00fcrschnerei","Eine hohe K\u00fcrschnerfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Monster zu h\u00e4uten. Sobald Euer Fertigkeitswert 100 \u00fcbersteigt, ist die maximale Stufe der Monster, die Ihr h\u00e4uten k\u00f6nnt, Euer Fertigkeitswert geteilt durch 5.",[[17993,[53125,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,
3,0,0,0,1792,0,0,0,0,45760],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 3.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,75,53662],[18277,[53662,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,6,0,0,0,1792,0,0,0,0,46349],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 6.",
l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,150,53663],[18278,[53663,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,9,0,0,0,1792,0,0,0,0,46350],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 9.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,225,53664],[18279,[53664,"Master of Anatomy",
"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,12,0,0,0,1792,0,0,0,0,46351],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 12.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,300,53665],[18280,[53665,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.",
"inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,20,0,0,0,1792,0,0,0,0,46352],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 20.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,375,53666],[18281,[53666,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,40,0,0,0,1792,0,0,0,0,46353],j,
j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 40.",l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,450,74495],[21617,[74495,"Master of Anatomy","Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by $s1.","inv_misc_organ_01",0,[0,0,0,0],j,0,0,j,[[0,6,189,0,80,0,0,0,1792,0,0,0,0,74356],j,j],j,"Skinning all those dead animals has broadened your anatomical knowledge, increasing your critical strike rating by 80.",
l,j,j,[80,0,0,0,0,0,0,0,0,0],j,j,j,0],0,0,525,0]]],755:[755,"Juwelenschleifen","Eine hohe Juwelenschleiferfertigkeit erm\u00f6glicht es Euch, h\u00f6herstufigere Vorlagen zu benutzen. Vorlagen bekommt Ihr bei allen Juwelierskunstlehrern, von toten Gegnern und als Questbelohnung.",[]],773:[773,"Inschriftenkunde","Eine h\u00f6here Inschriftenfertigkeit erm\u00f6glicht es Euch, fortgeschrittenere Inschriften zu erlernen. Inschriften k\u00f6nnt Ihr bei den gelehrten Schreibern \u00fcberall in der Welt erwerben.",
[]]},zb={"0":"Any class"};zb[1]=locale.a_class[0];zb[2]=locale.a_class[1];zb[4]=locale.a_class[2];zb[8]=locale.a_class[3];zb[16]=locale.a_class[4];zb[32]=locale.a_class[5];zb[64]=locale.a_class[6];zb[128]=locale.a_class[7];zb[256]=locale.a_class[8];zb[1024]=locale.a_class[10];var Bb={};Bb[0]=locale.F_No;Bb[1]=locale.F_Yes;var Cb={};Cb[0]=locale.a_quality[0];Cb[1]=locale.a_quality[1];Cb[2]=locale.a_quality[2];Cb[3]=locale.a_quality[3];Cb[4]=locale.a_quality[4];Cb[5]=locale.a_quality[5];Cb[6]=locale.a_quality[6];
Cb[7]=locale.a_quality[7];var Db=[8919044,1116154,2026,2026,2026];function t(a,b){this.Ac=a;this.scope=b}t.prototype.Ac=j;t.prototype.scope=j;t.prototype.notify=function(a){this.Ac.apply(this.scope,a)};function I(a,b,c,d,f){function g(a){f?c.apply(d,f):c.apply(d,[a])}document.addEventListener?a.addEventListener(b,g,l):document.attachEvent&&a.attachEvent("on"+b,g)}function Eb(a,b,c,d){document.addEventListener?a.addEventListener(b,function(){c.notify(d)},l):document.attachEvent&&a.attachEvent("on"+b,function(){c.notify(d)})};function Fb(a){return Math.floor(10*a.vb)/10+(0==Math.floor(10*a.vb)%10?".0":"")}function Gb(a){return 0==a.delay%1E3?a.delay/1E3+".00":0==a.delay%100?a.delay/1E3+"0":Math.floor(a.delay/10)/100+""}function J(a,b){if(!a)return b.join(" ");var c;for(c=0;c<b.length;c++){if(-1==a.search(/\$/)){for(;c<b.length;c++)a+=" "+b[c];break}a=a.replace(/\$/,b[c])}return a}function K(a,b){return!a?""+b:-1==a.search(/\$/)&&b?a:a.replace(/\$/,""+b)}
function Ha(a){var b="",c=0,d,f;for(f in a)0<c&&(b+="&"),b+=f,d=a[f],""!==d&&(b+="="+encodeURIComponent(""+d)),c++;return b}
function Hb(a,b){if(!a)return[""];var c,d,f;for(f=a;d=a.match(/\$(\?.*)$/i);){a=a.replace(d[0],Ib(d[1],b?b.V:j));if(a==f)break;f=a}a=a.replace(/\$G(\w+):(\w+);/i,"$1 / $2");b?(d=b.f,a=a.replace(/\$pl\b/gi,""+b.e),a=a.replace(/\$max\b/gi,"Math.max"),a=a.replace(/\$hnd\b/gi,b.ma(16,0)?17==b.ma(16,0).ua&&j==b.ma(17,0)?"2":"1":"1"),a=a.replace(/\$ap\b/gi,""+Math.floor(d.pa)),a=a.replace(/\$rap\b/gi,""+Math.floor(d.jb)),a=a.replace(/\$ar\b/gi,""+Math.floor(d.la[0])),a=a.replace(/\$sp\b/gi,""+Math.floor(d.k[0])),
a=a.replace(/\$MWS\b/gi,L(d.Za,2)),a=a.replace(/\$mw/g,d.O[0][0]),a=a.replace(/\$MW/g,d.O[0][1]),a=a.replace(/\$z\b/gi,"[Location]")):(a=a.replace(/\$pl\b/gi,"[Player Level]"),a=a.replace(/\$max\b/gi,"[Maximum]"),a=a.replace(/\$hnd\b/gi,"[Hands]"),a=a.replace(/\$ap\b/gi,"[AP]"),a=a.replace(/\$rap\b/gi,"[rAP]"),a=a.replace(/\$ar\b/gi,"[Armor]"),a=a.replace(/\$sph\b/gi,"[SpDmg Holy]"),a=a.replace(/\$spn\b/gi,"[SpDmg Nature]"),a=a.replace(/\$spfr\b/gi,"[SpDmg Frost]"),a=a.replace(/\$spfi\b/gi,"[SpDmg Fire]"),
a=a.replace(/\$sps\b/gi,"[SpDmg Shadow]"),a=a.replace(/\$spa\b/gi,"[SpDmg Arcane]"),a=a.replace(/\$sp\b/gi,"[SpDmg]"),a=a.replace(/\$MWS\b/gi,"[Wpn Speed]"),a=a.replace(/\$mwb\b/g,"[Wpn minDmg]"),a=a.replace(/\$MWB\b/g,"[Wpn maxDmg]"),a=a.replace(/\$rwb\b/g,"[rWpn minDmg]"),a=a.replace(/\$RWB\b/g,"[rWpn maxDmg]"),a=a.replace(/\$mw\b/g,"[Wpn minDmg]"),a=a.replace(/\$MW\b/g,"[Wpn maxDmg]"),a=a.replace(/\$z/gi,"[Location]"));for(;c=a.match(/\$?\{([^{]*)\}(?:\.([\d]*))?/);)try{a=a.replace(c[0],function(){return Math.abs(Jb(parseFloat(eval("("+
c[1]+")")),c[2]?parseInt(c[2],10):0))})}catch(g){a=a.replace(c[0],"<span class='yellow'>"+c[1]+"</span>")}return a.split("|")}function Kb(a,b){var c="",d="",c="",f,g=a.match(/^\?(!?)(a|s)(\d+)(.+)?$/i);if(!g)return["",a];f=Lb(g[4],b);c=f[0];f=Lb(f[1],b);d=f[0];if("!"==g[1])var h=c,c=d,d=h;c=b!=j&&b.Ea(parseInt(g[3],10))?c:d;return[c,f[1]]}function Lb(a,b){var c=a.match(/^(?:(\[([^\]]*)\])|(\?))(.*)$/i);return c[1]?[c[2],c[4]]:Kb(a,b)}function Ib(a,b){var c=Kb(a,b);return c[0]+c[1]}
function Mb(a,b){return 0<a?J(locale.ydRange2,[a,b]):K(locale.ydRange,b)}function L(a,b){for(var c="",a=Math.round(a*Math.pow(10,b));0<b;b--)if(0==a%10)c="0"+c,a/=10;else break;return 0==b?Math.floor(a)+"."+c:Math.floor(a)/Math.pow(10,b)+c}function M(a){var b,a=Math.round(100*a);b=a%10+"";a/=10;b=Math.floor(a%10)+b;return b=Math.floor(a/10)+"."+b}function Nb(a){a=Math.round(10*a);return Math.floor(a/10)+"."+a%10}
function Ob(a){a=Math.round(10*a)/10;return 0==a%3600?a/3600+" "+locale.h:0==a%60?a/60+" "+locale.m:a+" "+locale.s};function Pb(){if("undefined"!=typeof window.innerWidth)return[window.innerWidth,window.innerHeight];var a=window.document.compatMode&&"CSS1Compat"==window.document.compatMode?window.document.documentElement:window.document.body;return[parseInt(a.clientWidth,10),parseInt(a.clientHeight,10)]}var Qb=j;function ha(){if(Qb===j){var a=window.location.pathname.replace(/\?.+$/,"").split("/").length-2;Qb="";for(var b=0;b<a;b++)Qb+="../"}return Qb}
function Rb(a){var b=document.createElement("div");b.style.clear="both";a.appendChild(b)}function Sb(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)}function Jb(a,b){return b?Math.floor(Math.pow(10,b)*a)/Math.pow(10,b):Math.floor(a)}function O(a){return"<tr><td colspan='2'>"+a+"</td></tr>"}function P(a,b){return"<tr><td vAlign='bottom'>"+a+"</td><td vAlign='bottom' style='white-space:nowrap; padding-left:50px' align='right'>"+b+"</td></tr>"}
var Tb=[{x:-1,y:-1},{x:-1,y:0},{x:-1,y:1},{x:0,y:-1},{x:0,y:1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:0}];
function Ub(a){for(var b=[],c=document.createElement("div"),d=0;9>d;d++)switch(b[d]=document.createElement("div"),b[d].innerHTML=a,b[d].style.position="absolute",b[d].style.textAlign="right",b[d].style.width="24px",b[d].style.top=Tb[d].y+"px",b[d].style.left=Tb[d].x+"px",b[d].style.zIndex=d,c.appendChild(b[d]),d){case 8:b[d].style.color="#FFFFFF";break;default:b[d].style.color="#000000"}c.style.position="relative";c.style.height="17px";c.style.marginTop="6px";c.style.fontSize="12px";return c}
function Vb(a,b){b["default"]||e("Default css class missing!");a.className=b["default"];a.wg=l;b.focus&&(a.onfocus=function(){this.wg=i;this.className=b["default"]+" "+b.focus});a.onblur=function(){this.wg=l;this.className=b["default"]};b.hover&&(a.onmouseover=b.focusHover?function(){this.className=this.wg?b["default"]+" "+b.focusHover:b["default"]+" "+b.hover}:function(){this.className=b["default"]+" "+b.hover},a.onmouseout=function(){this.className=this.wg&&b.focus?b["default"]+" "+b.focus:b["default"]})}
function ca(a){a.stack&&e(a.stack);e(a)}function Wb(a){return!a?a:a.replace(/\./," ")}window.Tools||(window.Tools={removeDots:Wb});function Xb(a,b){return 75<=b?6:165==a||182==a||186==a?55<=b?5:40<=b?4:25<=b?3:10<=b?2:1:65<=b?5:50<=b?4:35<=b?3:20<=b?2:10<=b?1:5<=b?0:-1}function Yb(a,b){var c=Xb(a,b);return 0>c?0:75*(c+1)};function Zb(a,b){this.message="Called abstract method "+a+"::"+b;this.name="NotImplementedException"}Zb.prototype=Error();function $b(){}$b.prototype=Error();function ac(a,b,c,d){this.oc=b;this.event=a;this.ul=c;this.Jk=d}ac.prototype={event:"",oc:{},ul:j,Jk:j,get:function(a){this.oc.hasOwnProperty(a)||e(Error("The key "+a+" is not defined for this event!"));return this.oc[a]},is:function(a){this.ul.Kn(a)||e(Error("The event "+a+" is not registered for the subject!"));this.Jk.Pn(a)||e(Error("The event "+a+" is not registered for the observer!"));return this.event===a}};function D(){this.Ce={}}
D.prototype={Ce:{},g:function(a,b){this.Ce.hasOwnProperty(a)&&e(Error("The event "+a+" is already registered!"));"object"!==typeof b&&e(Error("Given arguments are not the correct type!"));for(var c in b)"string"!==typeof b[c]&&e(Error("The argument "+b[c]+" on index "+c+" is not of the type string!"));this.Ce[a]={args:b,observers:[],propagators:[]}},fire:function(a,b){var c=this.We(a),d,f=0;d=c.args;for(f in b)d.hasOwnProperty(f)&&e(Error("The argument "+b[f]+" was not defined when registering the event!"));for(f in d)b.hasOwnProperty(f)&&
e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].Ac.notify([new ac(a,b,this,d[f])]);c=c.propagators;for(f in c)c[f].fire(a,b)},Gi:function(a){this.vm(a.event,a)},vm:function(a,b){var c=this.We(a),d,f=0;d=c.args;for(f in b.oc)d.hasOwnProperty(f)&&e(Error("The argument "+b.oc[f]+" was not defined when registering the event!"));for(f in d)b.oc.hasOwnProperty(f)&&e(Error("The required argument "+d[f]+" was found!"));d=c.observers;for(f in d)d[f].Ac.notify([new ac(a,
b.oc,this,d[f])]);c=c.propagators;for(f in c)c[f].fire(a,b.oc)},w:function(a){for(var b in a.ad){var c=this.We(a.ad[b]);a instanceof y||e(Error("You may only add GenericObserver as observer!"));c.observers.push(a)}},lb:function(a){for(var b in a.ad){var c=a.ad[b],d=this.We(c).observers,f;for(f in d)if(a==d[f]){d.splice(f,1);return}e(Error("Unable to remove observer +"+a+" for event "+c+"!"))}},ba:function(a,b){this.We(a).propagators.push(b)},We:function(a){var b=this.Ce[a];("undefined"===typeof b||
b===j)&&e(Error("The event "+a+" is not registered!"));return b},Kn:function(a){a=this.Ce[a];return"undefined"!==typeof a&&a!==j}};function y(a,b){if(a==j||b==j)return j;"object"!==typeof a&&e(Error("Given events to listen to are not the correct type!"));for(var c in a)"string"!==typeof a[c]&&e(Error("The event "+a[c]+" on index "+c+" is not of the type string!"));b instanceof t||e(Error("Given handler is not an instance of handler!"));this.ad=a;this.Ac=b}y.prototype={ad:{},Ac:j,Pn:function(a){for(var b in this.ad)if(this.ad[b]===a)return i;return l}};var bc={Rj:function(a,b){var c=j,d=j;try{c=u(a)}catch(f){d=f}b.notify([c,d])},Km:function(a,b){var c="",d=j;try{c=u(a)}catch(f){d=f}b.notify([c,d])},mo:function(a,b,c,d){fa("api/battlenet_profile.php?"+Ha({name:a,server:b,region:c}),new t(bc.Rj,bc),[d])},Nl:function(a,b,c){ea("api/profile.php",{action:a?"update":"add",id:a,serialized:JSON.stringify(b.toArray())},new t(bc.Km,bc),[c,b])},qp:function(a,b){fa("api/profile.php?"+Ha({id:a}),new t(bc.Rj,bc),[b])},np:function(a,b){ea("api/chardev_profile.php",
{action:"delete",id:a},b,[a])}};var cc={lp:"DatabaseIO: Error - ",jn:function(a,b){fa("api/character_class.php?"+Ha({id:a}),new t(cc.kn,cc),[b])},kn:function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ka("DatabaseIO.getCharacterClass")):e(new La(a));b&&b.notify([eval("("+a.responseText+")")])},ln:function(a,b){fa("api/character_race.php?"+Ha({id:a}),new t(cc.mn,cc),[b])},mn:function(a,b){var c=j;200==a.status?(c=parseInt(a.getResponseHeader("error"),10))&&e(new Ka("DatabaseIO.getCharacterRace")):
e(new La(a));b&&b.notify([eval("("+a.responseText+")")])}};function dc(a,b){this.k=a;this.Sa=b;this.Hg=l;this.cd=i;this.he=this.Ln=l;this.$c=ec;this.vd=this.k.Me&&1<this.k.Me.Sa}var ec=0;dc.prototype={k:j,Sa:0,Hg:l,cd:i,he:l,$c:ec,vd:l,Gd:function(){this.k.Me&&this.k.Me.Sa>this.Sa&&this.Sa++},vo:function(){1<this.Sa&&this.Sa--},Wo:ba("Hg"),Xo:function(a){this.he=(this.cd=a)?l:this.he},Oo:ba("$c"),No:function(a){this.cd=(this.he=a)?l:this.cd}};function fc(a){this.id=a[0];this.type=a[1];this.k=a[2]?new R(a[2]):j;this.Fk=a[3]}fc.prototype={id:0,type:0,k:j,Fk:0};function qa(a){var b;this.I=[j,j,j];this.G=[];this.Yb=a;this.id=a[0];this.da=a[1];this.Y=a[2];this.xl=this.W=a[3];this.ua=a[4];this.sc=a[5];this.e=a[6];this.Cb=a[7];this.qe=a[9];this.Sk=a[10];this.Uk=a[11];this.f=a[13];this.delay=a[14];this.K=[];for(b=0;b<a[15].length;b++)this.K[b]=a[15][b]!=j?new R(a[15][b]):j;this.Zj=a[17];this.lj=this.name=a[18];this.ia=a[19]!=j?new gc(a[19]):j;this.ug=a[20];this.U=a[21];this.td=a[22]!=j?new hc(a[22]):j;this.q=a[23];this.hc=a[24];this.xe=a[25];this.Pi=a[27];this.Hb=
a[28];this.unique=a[29];this.Tk=a[30];this.aj=a[31];this.Xi=a[33];this.ta=a[36]!=j?new ic(a[36]):j;this.description=a[37];this.vb=a[38];this.Dc=a[39];this.Cc=a[40];this.Oa=j;if(a[41]){this.Oa=[];for(b=0;b<a[41].length;b++)this.Oa[b]=new kc(a[41][b])}else if(a[42]){this.Oa=[];for(b=0;b<a[42].length;b++)this.Oa[b]=new lc(a[42][b])}this.Wb=a[43];this.ye=a[44];this.$h=a[45];this.Ok=a[46]}
qa.prototype={I:j,Jb:j,Q:j,Uc:j,id:0,da:0,Y:0,W:0,ua:0,sc:0,e:0,Cb:0,qe:0,Sk:0,Uk:0,f:0,delay:0,K:j,Zj:0,name:"",ia:0,ug:0,U:0,td:0,q:"",hc:"",xe:0,ye:0,Pi:0,Hb:0,unique:0,Tk:0,aj:0,Xi:0,ta:0,description:"",vb:0,Dc:0,Cc:0,$h:0,Ok:0,ca:-1,fa:-1,oa:-1,kc:-1,Oa:j,lj:"",Wb:j,xl:0,pe:0,yo:0,Ao:0,xo:j,zo:j,ih:function(a){this.Uc=a;for(var b=0;3>b;b++)this.I[b]&&this.I[b].ih(a)},pi:function(){return 200<=this.e},Hi:function(a,b){var c,d=l,f=-1,g=-1;-1!=this.oa&&e(new mc(this,a,b,nc));200>this.e&&e(new mc(this,
a,b,oc));for(c=0;c<Na.length;c++)a==Na[c]&&(d=i);d||e(new mc(this,a,b,pc));for(c=0;c<this.f.length;c++)this.f[c]&&(this.f[c][0]==b&&e(new mc(this,a,b,qc)),this.f[c][0]==a&&(f=c));if(this.Q)for(c=0;c<this.Q.G.length;c++)if((d=this.Q.G[c])&&5==d.types[0])d.cb[0]==b&&e(new mc(this,a,b,qc)),d.cb[0]==a&&(g=c);-1==f&&-1==g&&e(new mc(this,a,b,rc));this.oa=a;this.ca=b;-1!=f?(this.kc=this.f[f][1],this.fa=Math.floor(0.4*this.f[f][1]),this.f[f][1]-=this.fa):-1!=g&&(d=this.Q.G[g],this.kc=c=d.Oc[0],this.fa=Math.floor(0.4*
c),d.Z(c-this.fa))},restore:function(){var a;if(-1!=this.oa){for(a=0;a<this.f.length;a++)if(this.f[a]&&this.f[a][0]==this.oa){this.f[a][1]=this.kc;break}if(this.Q)for(a=0;a<this.Q.G.length;a++){var b=this.Q.G[a];b&&5==b.types[0]&&b.cb[0]==this.oa&&b.Z(this.kc)}}this.kc=this.oa=this.fa=this.ca=-1},Ti:function(a){if(this.Wb!=j){var b=0,c=0,d=0,a=Math.min(a,this.Wb[21]);this.f[b]!=j&&50<this.f[b][0]&&(this.f[9]=this.f[b],this.f[b]=j);if(4==this.Y){switch(this.ua){case 1:this.Hb=H[a][19+this.W];c=H[a][7];
break;case 3:this.Hb=H[a][11+this.W];c=H[a][8];break;case 5:case 20:this.Hb=H[a][15+this.W];c=H[a][7];break;case 7:this.Hb=H[a][23+this.W];c=H[a][7];break;case 11:c=H[a][9];break;case 12:c=H[a][8];break;case 16:this.Hb=H[a][44],c=H[a][9]}switch(this.xl){case 4:this.W=40<=a?4:3;this.hc[0]=locale.a_armor[this.W];break;case 3:this.W=40<=a?3:2,this.hc[0]=locale.a_armor[this.W]}}else if(2==this.Y){var f=1<<this.W;f&262156?(c=H[a][10],d=H[a][4]):f&43153?(c=H[a][11],d=H[a][this.ye&512?2:0]):f&1185122&&(c=
H[a][7],d=H[a][this.ye&512?3:1])}if(c){for(f=0;10>f;f++)0<this.Wb[f]&&(this.f[b++]=[this.Wb[f],Math.floor(this.Wb[f+10]*c/1E4)]);this.ye&512&&2==this.Y&&0<H[a][6]&&(this.f[b++]=[45,H[a][6]])}d&&(this.vb=d,this.Dc=Math.floor(this.vb*this.delay*(1-this.$h/2)/1E3),this.Cc=Math.floor(this.vb*this.delay*(1+this.$h/2)/1E3))}},gl:function(a){if(!(this.Q&&a==this.Q.id))if(this.restore(),0==a)this.Q=j,this.name=this.lj;else{if(this.Oa)for(var b=0;b<this.Oa.length;b++)if(this.Oa[b].id==a){this.Q=this.Oa[b].clone();
this.name=this.lj+" "+this.Q.name;return}e(Error("Unable to set random property (ID:"+a+")"))}},Pc:function(a){if(!a)return j;for(var b=0;b<this.G.length;b++){var c=this.G[b];if(7==c.types[0]&&7==a.types[0]||7!=c.types[0]&&7!=a.types[0])return this.G[b]=a,c}this.G.push(a);return j},ro:function(a){if(a)for(var b=0;b<this.G.length;b++)if(this.G[b].id==a.id){this.G.splice(b,1);break}},Qc:function(a,b){this.Pj(a,b,l)},Tj:function(a,b){this.Pj(a,b,i)},Pj:function(a,b,c){if(a){!c&&this.Uc!=j&&(0<a.unique||
a.Dk()==i)&&(this.I[b]==j||this.I[b].id!=a.id)&&!this.Uc.fj(a.id)&&e(new sc("Gem is unique and already in use!"));if(1!=this.U[b]&&6==a.W||1==this.U[b]&&6!=a.W)return;if(a.ta&&a.ta.bh>this.e){c||e(new sc("Your character doesn't match the gems level requirements!"));return}a.ih(this.Uc)}this.I[b]=a},Ki:function(a){this.I[a]=j},qi:function(){if(!this.td)return l;for(var a=0;3>a;a++)if(this.U[a]){if(this.I[a]==j)return l;switch(this.U[a]){case 1:if(6!=this.I[a].W)return l;break;case 2:if(!(Math.pow(2,
this.I[a].W)&297))return l;break;case 4:if(!(Math.pow(2,this.I[a].W)&308))return l;break;case 8:if(!(Math.pow(2,this.I[a].W)&282))return l}}return i},za:function(){var a=this.Uc.V,b,c;for(b=0;5>b;b++)(c=this.K[b])&&1==this.aj[b]&&a.add(this.K[b]);for(b=0;3>b;b++)(c=this.I[b])&&c.za(a);for(b=0;b<this.G.length;b++)this.G[b].za(a);this.td!=j&&this.qi()&&this.td.za(a);this.ta!=j&&this.ta.Jb.Ea(this.Uc)&&this.ta.Jb.za(a)},Mn:function(){return 0<this.unique},Dk:function(){return 0!=(this.xe&524288)},Fn:function(){for(var a=
0,b=0,c=0;3>c;c++)this.I[c]&&b++,this.U[c]&&a++;return b>a},clone:function(){return new qa(this.Yb)},ji:function(a){var b;for(b=0;b<this.f.length;b++)if(this.f[b]&&this.f[b][0]==a)return this.f[b][1];if(this.Q)for(b=0;b<this.Q.G.length;b++){var c=this.Q.G[b];if(c&&5==c.types[0]&&c.cb[0]==a)return c.Oc[0]}return 0}};function tc(a,b){this.id=b[0];this.name=b[1];this.description=b[2];this.jg=[];for(var c=0;c<b[3].length;c++){var d=new uc(b[3][c]);d&&(this.jg.push(d),F.set(d.k))}this.character=a;this.ea(Yb(this.id,a.e))}tc.prototype={id:0,name:"",description:"",jg:[],e:0,ea:function(a){var b=Yb(this.id,this.character.e);this.e=a>b?b:a},hn:function(){for(var a=0,b=j,c=0;c<this.jg.length;c++){var d=this.jg[c];d.pe>a&&d.pe<=this.e&&(a=d.pe,b=d)}return b==j?j:b.k}};function vc(a){var b,c;this.id=a[0];this.n=[];for(b=0;b<a[1].length;b++)c=new R(a[1][b]),this.n.push(new dc(c,1)),F.set(c);this.V=[];for(b=0;b<a[2].length;b++)this.V.push(new R(a[2][b]))}vc.prototype={n:[],V:[],id:0};function wc(a){this.id=a[0];this.name=a[1]}wc.prototype={id:0,name:""};function uc(a){this.id=a[0];this.k=a[1]?new R(a[1]):j;this.ng=a[3];this.pe=a[4]}uc.prototype={id:0,k:j,pe:0};function R(a){var b,c=a[17],d=j;if(c!=j)for(b=0;b<c.length;b++)(d=c[b])&&!F.contains(d[0])&&F.set(new R(d));this.e=85;this.Yb=a;this.id=a[0];this.name=a[1];this.q=a[3];this.duration=a[4];this.Pa=a[5];this.Xc=a[6];this.Wd=a[7];this.Pe=a[8];this.qg=a[9];this.Vi=this.qg==j?0:Math.max(this.qg[0],this.qg[1])/1E3;this.F=Array(3);for(b=0;3>b;b++)this.F[b]=a[10][b]?new xc(a[10][b]):j;this.Jc=a[11]?new yc(a[11]):j;this.$j=a[12]?a[12]:"";this.ph=a[14]?new zc(a[14]):j;this.Xa=a[15]?new Ac(a[15]):j;this.type=
[];for(b=0;b<a[16].length;b++)c=a[16][b],0>c&&(c=~c+1),this.type[b]=c;this.Me=a[18]?new Bc(a[18]):j;this.$c=a[20];this.Lc=a[21]?new Cc(a[21]):j;this.ea(this.e)}
R.prototype={e:0,Yb:j,id:j,name:j,q:j,duration:j,Pa:j,Xc:j,Wd:j,Pe:j,qg:j,Vi:0,F:j,Jc:j,$j:j,ph:j,Xa:j,Me:j,type:j,$c:0,Lc:j,md:0,Lb:function(a){for(var b=this.$j,c,d,f;(c=b.match(/\$(s|m|M)\(-?(\d+),(-?\d+),(-?\d+),(-?\d+),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)\)/i))!=j;)f=parseFloat(c[8]),d=Za(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.e),d=Xa(d?d[1]:1,parseInt(c[5],10),parseFloat(c[6]),parseFloat(c[7]),this.e),b=b.replace(c[0],Math.floor(f*(Math.abs(d[0])+("M"==c[1]?
Math.abs(d[1]):0))));for(;(c=b.match(/\$d\((\d+),(\d+),(\d+),(\d+(?:\.\d+)?)\)/i))!=j;)d=Za(parseInt(c[2],10),parseInt(c[3],10),parseInt(c[4],10),this.e),b=b.replace(c[0],d[0]);for(;c=b.match(/(\${[^}]*)\$time\((-?\d+(?:\.\d+)?)\)([^}]*})/i);)b=b.replace(c[0],c[1]+c[2]+c[3]);for(;c=b.match(/\$time\((-?\d+(?:\.\d+)?)\)/i);)b=b.replace(c[0],Ob(c[1]));return Hb(b.replace(/\$pl/ig,this.e),a)},ea:function(a){var b,c;this.e=a;if(this.Jc!=j){a=Za(this.Jc.ck,this.Jc.bk,this.Jc.yk,this.e);a!=j&&(this.Pe=a[0]);
for(c=0;c<this.F.length;c++)this.F[c]!=j&&(b=Xa(a!=j?a[1]:1,this.Jc.Ib,this.Jc.Uh[c],this.Jc.fk[c],this.e),b!=j&&(this.F[c].value=b[0],this.F[c].en=b[1]))}else for(c=0;c<this.F.length;c++)this.F[c]!=j&&this.F[c].ea(a)},zk:function(){return 0!=(this.type[0]&64)&&0>=this.duration},clone:function(){return new R(this.Yb)},toString:function(){return"Spell ["+this.id+"]: "+this.Lb(j)},tk:function(){for(var a=0;3>a;a++)if(this.F[a]&&23==this.F[a].Vd)return F.get(this.F[a].ne)},rn:function(a,b){if(!this.Lc||
a<this.Lc.gg)return 0;var c=0,c=0<this.Lc.Mg&&a>this.Lc.Mg?this.Lc.Mg-this.Lc.gg:a-this.Lc.gg;return c*this.F[b].Ig}};function hc(a){var b;this.id=a[0];this.types=[];this.Oc=[];this.cb=[];for(b=0;5>b;b++)this.types[b]=a[1][b],this.Oc[b]=a[2][b],this.cb[b]=a[3][b];this.K=[];for(b=0;3>b;b++)this.K[b]=1==this.types[b]||3==this.types[b]||7==this.types[b]?new R(a[4][b]):a[4][b];this.description=a[5];this.uc=a[6];this.eh=a[7]?new wc(a[7]):j;this.qe=a[8];this.Cb=a[9];this.ob=a[10]}
hc.prototype={id:0,types:[],Oc:[],cb:[],description:"",kj:"",uc:j,eh:j,qe:0,Cb:0,K:[],ob:0,Bk:function(a){if(a!=j&&this.uc!=j)for(var b=0;5>b;b++)if(!this.Ak(b,a.u.xc))return l;return i},Ak:function(a,b){var c=this.uc[1][a];c||(c=0);var d=this.uc[2][a];d||(d=0);var f=this.uc[3][a];f||(f=0);var g=this.uc[4][a];g||(g=0);if(!b||0==d&&0!=g&&b[c]!=g||2==d&&b[c]>=b[f])return l;if(3==d)if(0<g){if(b[c]<g+1)return l}else if(b[c]<=b[f])return l;return 0<c&&5==d&&b[c]<g?l:i},Z:function(a){5==this.types[0]||
4==this.types[0]?this.Oc[0]=a:3==this.types[0]&&this.K[0]!=j&&this.K[0].F[0]!=j&&(this.K[0].F[0].value=a);this.kj||(this.kj=this.description);this.description=this.kj.replace(/\$i/g,a)},kk:function(a){return 1>=this.Cb||a!=j&&this.Cb<=a.e},lk:function(a){return this.eh&&0<this.qe?a&&(a=a.qk(this.eh.id),a!=j&&a.e>=this.qe)?i:l:i},Ea:function(a){return this.kk(a)&&this.lk(a)&&this.Bk(a)},ga:function(a){var b=this.kk(a),c=this.lk(a),d=this.Bk(a),a="<table cellpadding = 0 cellspacing = 0>"+O("<span "+
(c&&b?d?"class='green'":"class='grey'":"class='red'")+">"+(7==this.types[0]&&this.K[0]?locale.use+": "+this.K[0].Lb(a).join("<br />"):this.description)+"</span>");b||(a+=O("<span class='red'>"+K(locale.reqLevel,this.Cb)+"</span>"));c||(a+=O("<span class='red'>"+locale.req+" "+this.eh.name+" ("+this.qe+")</span>"));return a+"</table>"},za:function(a){for(var b=0;3>b;b++)3==this.types[b]&&a.add(this.K[b])}};function Dc(a,b){var c;this.R=0;this.id=b[0];this.hj=a;this.xf=b[1];this.Vh=b[2];this.K=Array(5);for(c=this.Bb=0;c<b[3].length;c++)b[3][c]?(this.K[c]=new R(b[3][c]),F.set(this.K[c]),this.Bb++):this.K[c]=j;this.q=this.K[0].q;this.Vk=b[4];this.Db=[j,j,j];this.Na=b[5]}
Dc.prototype={id:0,K:j,Bb:0,Vk:0,R:0,hj:0,xf:0,Vh:0,id:0,Db:[],q:"Temp",Ke:function(){for(var a=0;3>a;a++)if(this.Db[a]!=j&&!this.Db[a].ie())return l;return i},Vo:function(a,b){this.Db[a]=b},getName:function(){return this.K[0]?this.K[0].name:j},rk:function(){return 0==this.R?j:this.K[this.R-1]},sn:function(){return this.R==this.Bb?j:this.K[this.R]},ie:function(){return this.Bb==this.R},In:function(a,b){return 4==b?3==a||31==a||35==a||41==a?(this.Na[0]&212992||0==this.Na[0])&&(this.Na[1]&2147483648||
0==this.Na[1])?i:l:this.Na[0]&21238021||0==this.Na[0]?i:l:1==b?7==a||37==a||44==a?(this.Na[0]&2064||0==this.Na[0])&&(this.Na[1]&268435456||0==this.Na[1])?i:l:(this.Na[0]&42476576||0==this.Na[0])&&(this.Na[1]&201326592||0==this.Na[1])?i:l:i}};function xc(a){this.Le=a[1];this.Vd=a[2];this.value=a[4];this.nd=53==this.Le?new hc(a[8]):a[8];this.Jl=a[9];this.Ig=a[11];this.ne=a[12];this.id=a[13];this.Yj=this.value}xc.prototype={id:0,Le:0,Vd:0,value:0,en:0,nd:j,Jl:0,Ig:0,ne:0,Yj:0,ea:function(a){0!=this.Ig&&(this.value=Math.floor(this.Yj+this.Ig*(a-1)))},vn:function(){return 0>=this.ne?j:F.get(this.ne)}};function Ac(a){this.tc=a[0];this.ob=a[1];this.If=a[2]}Ac.prototype={tc:0,ob:0,If:0};function yc(a){this.ck=a[0];this.bk=a[1];this.yk=a[2];this.Ib=a[3];this.Uh=a[4];this.fk=a[5]}yc.prototype={ck:0,bk:0,yk:0,Uh:0,fk:0,Ib:0};function zc(a){this.fi=a[2]}zc.prototype={fi:0};function Bc(a){this.Sa=a[0]}Bc.prototype={Sa:0};function Cc(a){this.gg=a[0];this.Mg=a[1]}Cc.prototype={gg:0,Mg:0};function mc(a,b,c,d){this.message="Unable to reforge "+a+", reducing "+b+" and adding "+c+(d?"!\n Cause:"+d.toString():"");this.add=c;this.red=b;this.Fa=a}mc.prototype=Error();mc.prototype.Fa=j;mc.prototype.red=-1;mc.prototype.add=-1;var pc=2,qc=3,rc=4,oc=5,nc=6;
function Ec(a,b){var c;switch(b){case Fc:c="You do not match the class requirement to wear this item!";break;case Gc:c="You do not match the requirement to wear this item!";break;case Hc:c="You are already wearing this item!";break;default:c="Unable to equip "+a.name+" due to unknown reason!"}this.Fa=a;this.message=c}Ec.prototype=Error();Ec.prototype.Fa=j;var Fc=0,Gc=1,Hc=2;function sc(a){this.message=a}sc.prototype=Error();function ic(a){this.Jb=new hc(a[0]);this.bh=a[1]}ic.prototype.Jb=j;ic.prototype.bh=0;function Ic(){}Ic.prototype={id:0,name:"",G:[],Yb:[],clone:m(j)};function kc(a){this.id=a[0];this.name=a[1];this.G=[];for(var b=0;5>b;b++)this.G[b]=a[2+b]?new hc(a[2+b]):j;this.Yb=a}kc.prototype=new Ic;kc.prototype.clone=function(){return new kc(this.Yb)};function lc(a){this.id=0-a[0];this.name=a[1];this.G=[];for(var b=0;5>b;b++)a[2+b]?(this.G[b]=new hc(a[2+b][1]),this.G[b].Z(a[2+b][0])):this.G[b]=j;this.Yb=a}lc.prototype=new Ic;lc.prototype.clone=function(){return new lc(this.Yb)};function gc(a){var b;this.id=a[0];this.name=a[1];this.Ld=[];for(b=0;b<a[3].length;b++)this.Ld[b]=a[3][b]!=j?new R(a[3][b]):j;this.Oi=a[4];this.On=a[5];this.j=a[6]}gc.prototype={id:0,name:"",Ld:[],Oi:[],za:function(a){for(var b=0;8>b;b++)this.Ld[b]!=j&&a.gi(this.id)>=this.Oi[b]&&a.V.add(this.Ld[b])}};function Jc(a){this.character=a;this.F=[this.Qf(),this.Qf(),this.Qf(),this.Qf()];this.af=[-1,-1];this.gf=[-1,-1];this.uf=[-1,-1];this.Oe=this.Jd=this.ge=j}
Jc.prototype={character:j,V:[],n:[],F:[],af:[-1,-1],gf:[-1,-1],uf:[-1,-1],ge:{},Jd:{},Oe:{},Mh:{},Qf:function(){var a=Array(321);a[13]=Array(7);a[22]=Array(7);a[29]=Array(5);a[30]=Array(96);a[35]=Array(7);a[55]=Array(7);a[71]=Array(7);a[79]=Array(7);a[98]=Array(96);a[101]=Array(25);a[107]=Array(25);a[108]=Array(25);a[123]=Array(7);a[135]=Array(7);a[137]=Array(7);a[142]=Array(7);a[143]=Array(7);a[174]=Array(7);for(var b=0;7>b;b++)a[174][b]=Array(5);a[175]=Array(5);a[189]=Array(38);a[199]=Array(7);
a[212]=Array(5);a[219]=Array(5);a[220]=[];for(b=0;32>b;b++)a[220][b]=[0,0,0,0,0];a[237]=Array(7);a[238]=Array(7);a[268]=Array(5);return a},rj:function(a){if(a)for(var b=0;b<a.length;b++)"object"===typeof a[b]?this.rj(a[b]):a[b]=0},add:function(a){a&&!this.Jd[a.id]&&(this.V.push(a),this.Jd[a.id]=i)},Ed:function(a){a&&!this.Oe[a.k.id]&&(this.n.push(a),this.Oe[a.k.id]=i)},Ea:function(a){return this.Jd[a]||this.Oe[a]?i:l},qn:function(){var a=[],b={},c,d;c=j;this.V=[];this.n=[];this.rj(this.F);this.Jd=
{};this.Oe={};this.Mh={};this.af=[-1,-1];this.gf=[-1,-1];this.uf=[-1,-1];this.character.za();for(d=0;d<Kc;d++)if(c=this.character.ma(d,0))if(c.za(),16==d&&(this.af=[c.Y,c.W]),17==d&&(this.gf=[c.Y,c.W]),18==d&&(this.uf=[c.Y,c.W]),c.ia!=j&&b[c.ia.id]!==i)b[c.ia.id]=i,a[a.length]=c.ia;for(d=0;d<a.length;d++)a[d].za(this.character);this.ge={};for(d=0;d<this.V.length;d++)this.yj(this.V[d],1,l,l);for(d=0;d<this.n.length;d++)c=this.n[d],!c.he&&!this.Mh[c.k.id]&&this.yj(c.k,c.Sa,i,c.Ln);return this.F},yj:function(a,
b,c,d){if(a&&(a.ea(this.character.e),!(79104!=a.id&&a.ph&&0!=a.ph.fi&&0==(a.ph.fi&1<<(this.character.d?this.character.d.xa-1:0))||!c&&!a.zk())))if(this.Mh[a.id]=i,a.Xa!=j&&-1!=a.Xa.tc){if(a.Xa.tc==this.af[0]&&a.Xa.If&1<<this.af[1]&&this.Ae(a,this.F[1],b,c,d),a.Xa.tc==this.gf[0]&&a.Xa.If&1<<this.gf[1]&&this.Ae(a,this.F[2],b,c,d),a.Xa.tc==this.uf[0]&&a.Xa.If&1<<this.uf[1]&&this.Ae(a,this.F[3],b,c,d),4==a.Xa.tc){var f,g,h=i;for(f=0;32>f&&h;f++)if(a.Xa.ob&1<<f&&(g=Ua[f],g=this.character.ma(g,0),!g||!(g.Y==
a.Xa.tc&&a.Xa.If&1<<g.W)))h=l;h&&this.Ae(a,this.F[0],b,c,d)}}else this.Ae(a,this.F[0],b,c,d)},Ae:function(a,b,c,d,f){var g=a.F,h=0,k,r=l;if(d&&!f)for(d=0;3>d;d++)if(g[d]!=j&&65==g[d].Le){r=i;break}for(d=0;3>d;d++)if(f=g[d],f!=j&&(h=f.id,k=f.value+a.rn(this.character.e,d),!(r&&65!=f.Le))){switch(h){case 68368:if(this.ge[47203])continue;break;case 47203:if(this.ge[68368])continue;break;case 46325:case 68163:if(!this.Dd([46325,68163]))continue;this.Dd([44537,68341,68343,90962,90963])||(k-=6);break;case 44537:case 90962:case 90963:case 68341:case 68343:if(!this.Dd([44537,
68341,68343,90962,90963]))continue;if(!this.Dd([46325,68163]))continue;break;case 3549:case 45922:case 48552:if(!this.Dd([3549,45922,48552]))continue;break;case 86186:case 97691:case 48553:if(!this.Dd([86186,97691,48553]))continue}this.ge[h]=i;this.xh(b,f.Vd,k*c,f.nd,f.Jl,h)}},Dd:function(a){for(var b in a)if(this.ge[a[b]])return l;return i},xh:function(a,b,c,d,f,g){var h;h=this.character.d?this.character.d.xa:0;switch(g){case 81812:c=120;break;case 88002:case 88004:case 88006:if(5!=h&&8!=h)return;
b=142;d=1;break;case 8697:case 8700:case 8694:if(5!=h&&8!=h)return;b=137;f=4;break;case 8699:case 8696:case 8693:if(1!=h)return;b=166}switch(b){case 13:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 22:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 29:if(-1==d)for(h=0;5>h;h++)this.xh(a,b,c,h,f,g);else a[b][d]+=c;break;case 30:a[b][d]+=c;break;case 35:a[b][d]+=c;break;case 55:0==d&&(d=127);for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 71:for(h=
0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 79:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 98:a[b][d]+=c;break;case 99:a[b]+=c;break;case 101:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 107:a[b][d]+=c;break;case 108:a[b][d]+=c;break;case 123:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 124:a[b]+=c;break;case 135:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 137:for(h=0;h<a[b].length;h++)if(f&
1<<h||-1==f)a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1);break;case 142:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=100*((1+a[b][h]/100)*(1+c/100)-1));break;case 143:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]=Math.max(c,a[b][h]));break;case 174:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h][f]+=c);break;case 175:a[b][d]+=c;break;case 189:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 199:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 212:a[b][d]+=
c;break;case 219:a[b][d]+=c;break;case 220:for(h=0;32>h;h++)d&1<<h&&(a[b][h][f]+=c);break;case 237:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 238:for(h=0;h<a[b].length;h++)d&Math.pow(2,h)&&(a[b][h]+=c);break;case 240:21444==g&&this.Ea(56416)&&(c+=10);a[b]+=c;break;case 268:if(-1==d)for(h=0;5>h;h++)this.xh(a,b,c,h,f,g);else a[b][d]+=c;break;default:a[b]+=c}}};function Lc(){this.n={};this.c=new D;this.c.g("change",["silent"]);this.c.g("remove_buff",["buff","silent"]);this.c.g("remove_stack",["buff","silent"])}var Mc;
Mc=function(a,b){fa("api/buffs.php",new t(function(c){try{var d=u(c),c={},f;for(f in d){c[f]=[];for(var g=0;g<d[f].length;g++)if("Food"===f){var h=new qa(d[f][g]);E.set(h);var k=h.K[0]!=j&&h.K[0].tk()?new Nc(h.name,h.q,h.K[0].tk(),b):j;k&&c[f].push(k)}else{var r=new R(d[f][g]);F.set(r);c[f].push(Oc(r,b))}}a.notify([c,j])}catch(v){a.notify([j,v])}},Lc),[])};
Lc.prototype={n:{},w:function(a){this.c.w(a)},set:function(a){this.n[a.k.id]=a;this.c.fire("change",{silent:l})},Gd:function(a){(a=this.n[a])&&a.Gd();this.c.fire("change",{silent:l})},ag:function(a,b,c){F.Id(a,new t(this.Oj,this),[a,b,i,i,c,ec])},add:function(a,b){F.Id(a,new t(this.Oj,this),[a,l,l,b,l,ec])},Oj:function(a,b,c,d,f,g){d=l;switch(a){case 79060:case 79062:this.rb([79060,79062])||(d=i);break;case 80353:case 32182:this.rb([80353,32182])||(d=i);break;case 79104:case 6307:case 469:this.rb([79104,
6307,469])||(d=i);break;case 79101:case 53138:case 30808:case 19506:this.rb([79101,53138,30808,19506])||(d=i);break;case 79057:case 54424:this.rb([79057,54424])||(d=i);break;case 77747:case 53646:this.rb([77747,53646])||(d=i);break;case 2895:case 49868:case 24907:this.rb([24907,49868,2895])||(d=i);break;case 53290:case 8515:case 55610:this.rb([8515,55610,53290])||(d=i);break;case 51701:case 29801:case 51470:case 24932:this.rb([51701,29801,51470,24932])||(d=i);break;case 6673:case 8076:case 57330:case 93435:this.rb([6673,
8076,57330,93435])||(d=i)}var h=F.get(a),k=[];if(h.$c){for(var r in this.n)0!=(this.n[r].k.$c&h.$c)&&k.push(this.n[r].k.id);d=!this.rb(k)}d||(this.n[a]!=j&&this.n[a].cd==(c?l:i)&&this.n[a].vd?this.n[a].Gd():(this.n[a]=new dc(h,1),this.n[a].Wo(b),this.n[a].Xo(c?l:i),this.n[a].Oo(g),this.n[a].No(f)));this.c.fire("change",{silent:c?i:l})},ah:function(a,b){b&&(!this.n[a]||!this.n[a].cd)?delete this.n[a]:this.Hj(a,i)},remove:function(a){this.Hj(a,l)},Hj:function(a,b){if(!(!this.n[a]||this.n[a].Hg||b&&
this.n[a].cd))if(this.n[a]&&1<this.n[a].Sa)this.n[a].vo(),this.c.fire("remove_stack",{buff:this.n[a],silent:b?i:l});else{var c=this.n[a];delete this.n[a];this.c.fire("remove_buff",{buff:c,silent:b?i:l})}},rb:function(a){for(var b=0;b<a.length;b++){if(this.n[a[b]]&&this.n[a[b]].Hg)return l;delete this.n[a[b]]}return i},Ea:function(a){return this.n[a]?i:l}};function Pc(a){this.j=Array(19);this.xc=[0,0,0,0,0];this.character=a;this.vf=j;for(a=0;a<this.j.length;a++)this.j[a]=[j,j,j,j,j]}var Qc=[1,2,3,16,[20,5],4,19,9,10,6,7,8,11,11,12,12,[21,17,13],[23,22,14,13,17],[28,26,25,15]],Kc=19;
Pc.prototype={j:[],Sg:j,Gc:0,kf:-1,xi:j,Kk:j,ci:l,di:j,vf:{},xc:[],character:j,Wf:function(a){for(var b=this.j[a].length-1;0<b;b--)this.j[a][b]=this.j[a][b-1];this.j[a][0]=j},Lj:function(a,b){16==b&&!this.character.Qh()&&17==a.ua&&this.j[17][0]!=j&&this.Wf(17);17==b&&!this.character.Qh()&&this.j[16][0]&&17==this.j[16][0].ua&&this.Wf(16)},mh:function(a){this.Qa();this.vf=this.Ii();this.wf();this.Yg(a)},dl:function(a,b,c){-1<c?(this.Kk=this.j[b][0].I[c],this.j[b][0].Tj(a,c)):(this.Sg=a)&&a.ih(this.character);
this.Gc=b;this.kf=c},Qi:function(a,b){if(this.j[b][0]!=j){var c=j;a!=j&&a.F[0]!=j&&a.F[0].nd&&(c=a.F[0].nd);this.di=c;this.xi=this.j[b][0].Pc(c);this.Gc=b;this.ci=i}},Qa:function(){if(-1<this.Gc&&(-1<this.kf&&(this.j[this.Gc][0].Tj(this.Kk,this.kf,i),this.Bl()),this.ci))this.j[this.Gc][0].ro(this.di),this.j[this.Gc][0].Pc(this.xi);this.vf&&(this.wf(),this.Yg(this.vf),this.vf=j);this.Sg=this.xi=j;this.kf=this.Gc=-1;this.ci=l;this.di=j},set:function(a,b){var c=l,d;if("object"==typeof Qc[a])for(d=0;d<
Qc[a].length;d++)b.ua==Qc[a][d]&&(c=i);else b.ua==Qc[a]&&(c=i);b.Ti(this.character.e);this.character.kg(b)||e(new Ec(b,Gc));this.character.vg(b)||e(new Ec(b,Fc));this.Mj(b,a)&&(this.Lj(b,a),c&&(this.Wf(a),(this.j[a][0]=b)&&b.ih(this.character)));return c},fj:function(a){var b,c,d,f;for(b=0;b<this.j.length;b++)if(d=this.j[b][0],d!=j)for(c=0;c<d.I.length;c++)if(f=d.I[c],f!=j&&f.id==a)return l;return i},Mj:function(a,b){var c;if(a.Mn()||a.Dk()==i)for(c=0;c<this.j.length;c++)c!=b&&this.j[c][0]!=j&&a.id==
this.j[c][0].id&&e(new Ec(a,Hc));return i},remove:function(a){this.j[a][0]!=j&&this.Wf(a)},dp:function(a,b){if(this.Mj(this.j[a][b],a)){this.Lj(this.j[a][b],a);var c=this.j[a][0];this.j[a][0]=this.j[a][b];this.j[a][b]=c}},get:function(a){return this.Gc==a&&-1==this.kf&&this.Sg!=j?this.Sg:0<=a&&a<this.j.length?this.j[a][0]:j},gi:function(a){for(var b=0,c=j,d=0;19>d;d++)c=this.get(d),c!=j&&c.ia!=j&&c.ia.id==a&&b++;return b},Bl:function(){var a=j,b=j,b=-1;this.xc=[0,0,0,0,0];for(var c=0;19>c;c++)if(a=
this.get(c))for(var d=0;3>d;d++)if(b=a.I[d])b=b.W,6==b&&this.xc[1]++,(0==b||3==b||5==b||8==b)&&this.xc[2]++,(2==b||4==b||5==b||8==b)&&this.xc[3]++,(1==b||3==b||4==b||8==b)&&this.xc[4]++},Ki:function(a){var b,c;for(b=0;b<this.j.length;b++)if(this.j[b][0]!=j)for(c=0;3>c;c++)this.j[b][0].I[c]&&this.j[b][0].I[c].id==a&&this.j[b][0].Qc(j,c)},wf:function(){var a;for(a=0;19>a;a++)this.j[a][0]&&this.j[a][0].restore()},Yg:function(a){this.wf();for(var b in a)if(this.j[b][0])if(-1==a[b][0])this.j[b][0].restore();
else try{this.j[b][0].Hi(a[b][0],a[b][1])}catch(c){e(c)}},Ii:function(){for(var a=[],b=0;19>b;b++)this.j[b][0]&&(a[b]=[this.j[b][0].oa,this.j[b][0].ca]);return a}};function ta(a,b){this.c=new D;this.c.g("talents_reset",[]);this.c.g("talent_tree_reset",["tree"]);this.c.g("talent_tree_selected",["tree"]);this.c.g("talent_point_added",["tree","row","col","remainingPoints"]);this.c.g("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.g("talent_distribution_set",["distribution"]);this.c.g("talents_init",[]);this.id=a[0];this.ko=0;this.aa=(this.Mb=b)?1:3;this.rows=b?6:11;this.cols=4;this.Pb=b?20:10;this.ib=b?3:5;this.Bc=b?4:1;this.e=Rc;this.l=[];
this.na=[];this.ke=[];this.Ib=[];this.Rd=[];this.$b=[];this.jj=[];this.ij=[];var c,d,f,g=[];for(c=0;c<this.aa;c++){this.$b[c]=a[c+1][0];this.jj[c]=a[c+1][2];this.ij[c]=a[c+1][1];this.l[c]=Array(this.rows);for(d=0;d<this.rows;d++)this.l[c][d]=Array(this.cols);for(d=0;d<a[c+1][3].length;d++)if(f=new Dc(c,a[c+1][3][d]),!this.Mb||f.In(this.ko,this.id))this.l[c][f.xf][f.Vh]=f,g[f.id]=f;for(d=0;d<this.rows;d++)for(f=0;f<this.cols;f++)if(this.l[c][d][f]!=j)for(var h=this.l[c][d][f],k=0;3>k;k++){var r=h.Vk[k];
r&&h.Vo(k,g[r])}this.ke[c]=[];for(d=0;d<a[c+1][4].length;d++)this.ke[c][d]=a[c+1][4][d]!=j?new R(a[c+1][4][d]):j;this.na[c]=[];for(d=0;d<a[c+1][5].length;d++)this.na[c][d]=new R(a[c+1][5][d])}this.mb(-1);this.c.fire("talents_init",{})}var Sc=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];
ta.prototype={c:j,Pb:10,e:0,aa:0,rows:0,cols:0,ib:0,Bc:1,l:[],Ib:[],Rd:[],Wc:"",sa:[],H:-1,Mb:l,ke:[],na:[],$b:[],jj:[],ij:[],w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},mb:function(a){this.H=a;this.Vf(i);this.c.fire("talent_tree_selected",{tree:a})},zc:function(){return this.Jm<this.Pb?0:this.yg()-this.Ag()},yg:function(){return this.e<this.Pb?0:this.Mb?Math.floor((this.e-this.Pb)/this.Bc+1):1+Math.min(35,this.e-9>>1)+Math.max(0,this.e-80)},Ag:function(){for(var a=0,b=0;b<this.aa;b++)a+=
this.sa[b];return a},ea:function(a){this.Jm=a;0>this.zc()&&this.Vf(i)},Vj:function(a,b,c){this.Aj(a,b,c,1)&&this.c.fire("talent_point_added",{tree:a,row:b,col:c,remainingPoints:this.zc()})},Qk:function(a,b,c){this.Aj(a,b,c,-1)&&this.c.fire("talent_point_removed",{tree:a,row:b,col:c,remainingPoints:this.zc()})},Aj:function(a,b,c,d){if(-1!=this.H&&this.l[a][b][c]!=j&&this.l[a][b][c].R+d<=this.l[a][b][c].Bb&&0<=this.l[a][b][c].R+d&&0<=this.zc()-d&&this.sa[a]>=this.ib*b&&(31<=this.sa[this.H]||a==this.H)&&
(this.H!=a||31<=this.sa[a]+d||this.Ag()==this.sa[a])){this.l[a][b][c].R+=d;this.sa[a]+=d;if(this.Em(a))return this.He(),i;this.l[a][b][c].R-=d;this.sa[a]-=d}return l},Em:function(a){var b=0,c,d,f,g=[];for(c=0;c<this.rows;c++){g[c]=[];for(d=0;d<this.cols;d++)if(g[c][d]=-1,f=this.l[a][c][d],f!=j&&0<f.R){if(b<c*this.ib||!f.Ke())return l;b+=f.R}}return i},reset:function(){this.Vf(l);this.He();this.c.fire("talents_reset",{})},Vf:function(a){for(var b=0;b<this.aa;b++)this.Ij(b);a||this.mb(-1)},Wk:function(a){a==
this.H&&this.Ag()!=this.sa[a]?(this.Vf(i),this.He(),this.c.fire("talents_reset",{})):(this.Ij(a),this.He(),this.c.fire("talent_tree_reset",{tree:a}))},Ij:function(a){for(var b,c=0;c<this.rows;c++)for(var d=0;d<this.cols;d++)b=this.l[a][c][d],b!=j&&(b.R=0);this.sa[a]=0},Ah:function(a){a=9<a?35<a?65+a-36:97+a-10:48+a;return unescape("%"+Sc[Math.floor(a/16)]+Sc[Math.floor(a%16)])},He:function(){this.Ib=[];this.Rd=[];this.Wc="";var a=0,b=0,c=-1,d="",f,g,h;for(f=0;f<this.aa;f++)for(g=0;g<this.rows;g++)for(h=
0;h<this.cols;h++)this.l[f][g][h]!=j?(this.Rd[a++]=this.l[f][g][h].R,this.Ib[b++]=this.l[f][g][h].R,-1==c?c=this.l[f][g][h].R:(c=6*c+this.l[f][g][h].R,d+=this.Ah(c),c=-1)):this.Ib[b++]=0;-1!=c&&(d+=this.Ah(6*c));for(g=0;g<d.length;g++)if(48==d.charCodeAt(g)){for(a=0;48==d.charCodeAt(g)&&g<d.length;)g++,a++;g!=d.length&&(g--,this.Wc+=","+this.Ah(a))}else this.Wc+=d.charAt(g)},Zk:function(a,b){var c=0,d,f,g,h,k=[];for(f=0;f<this.aa;f++)for(g=k[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.l[f][g][h]!=
j&&(d=parseInt(a[c],10),d=isNaN(d)?0:d,k[f]+=d,b&&c++),b||c++;c=0;d=-1;for(g=0;g<this.aa;g++){if(31<=k[g]){d=g;break}k[g]>c&&(d=g,c=k[g])}-1!=d&&this.mb(d);for(f=c=0;f<this.aa;f++)for(g=this.sa[f]=0;g<this.rows;g++)for(h=0;h<this.cols;h++)this.l[f][g][h]!=j&&(d=parseInt(a[c],10),d=isNaN(d)?0:d,this.l[f][g][h].R=d,this.sa[f]+=d,b&&c++),b||c++;this.He();this.c.fire("talent_distribution_set",{distribution:this.xg(l)})},xg:function(a){return a?this.Rd:this.Ib},za:function(a){var b=j,c,d,f;for(c=0;c<this.aa;c++){for(d=
0;d<this.rows;d++)for(f=0;f<this.cols;f++)this.l[c][d][f]!=j&&(b=this.l[c][d][f].rk(),b!=j&&a.add(b));if(c==this.H){for(d=0;d<this.na[c].length;d++)a.add(this.na[c][d]);for(d=0;d<this.ke[c].length;d++)a.add(this.ke[c][d])}}}};function Aa(){this.mg=[];this.c=new D;this.c.g("character_change",["character"])}Aa.prototype={mg:[],c:j,cursor:-1,Mm:function(a){this.mg.push(a);this.cursor=this.mg.length-1;this.c.fire("character_change",{character:a})},D:function(){return-1==this.cursor?j:this.mg[this.cursor]}};function va(){this.c=new D;this.c.g("race_change",["race"]);this.c.g("class_change",["class"]);this.c.g("level_change",["level"]);this.c.g("character_loaded",["character"]);this.c.g("stats_change",["stats"]);this.c.g("preview_stats_change",["previewStats"]);this.c.g("profession_change",["index","profession"]);this.c.g("profession_level_change",["index","level"]);this.c.g("item_change",["slot"]);this.c.g("gem_change",["slot","socket"]);this.c.g("enchant_change",["slot"]);this.c.g("reforge_change",
["slot"]);this.c.g("random_enchant_change",["slot"]);this.c.g("talents_reset",[]);this.c.g("talent_tree_reset",["tree"]);this.c.g("talent_tree_selected",["tree"]);this.c.g("talent_point_added",["tree","row","col","remainingPoints"]);this.c.g("talent_point_removed",["tree","row","col","remainingPoints"]);this.c.g("talent_distribution_set",["distribution"]);this.c.g("talents_init",[]);this.c.g("buffs_change",[]);this.c.g("shapeform_change",["new_shape","old_shape"]);this.c.g("presence_change",["new_presence",
"old_presence"]);var a=new t(function(a){this.c.Gi(a)},this);this.ja=[j,j];this.f=new Tc(this);this.Bi=new Tc(this);this.u=new Pc(this);this.V=new Jc(this);this.n=new Lc;this.ej=new y("talents_reset,talent_tree_reset,talent_tree_selected,talent_point_added,talent_point_removed,talent_distribution_set,talents_init".split(","),a);this.n.w(new y(["change","remove_buff","remove_stack"],new t(function(a){if(a.is("remove_buff")){var c=this.d?this.d.shape:j;if(c)for(var d in c.n)if(a.get("buff").k.id==c.n[d].k.id){this.qd(0);
break}}a.get("silent")||this.T();this.c.fire("buffs_change",{})},this)));this.Th=new y(["shapeform_change","presence_change"],new t(function(a){if(a.is("shapeform_change")){var c=a.get("old_shape"),d=a.get("new_shape"),f;if(c)for(f=0;f<c.n.length;f++)this.n.ah(c.n[f].k.id,i);if(d)for(f=0;f<d.n.length;f++)this.n.ag(d.n[f].k.id,1==this.d.id,i);this.c.Gi(a)}else a.is("presence_change")&&(c=a.get("old_presence"),d=a.get("new_presence"),c&&this.n.ah(c.k.id,i),d&&this.n.ag(d.k.id,i,i),this.c.Gi(a))},this));
this.ea(Rc);this.description=this.name=""}var Rc=85;
va.prototype={c:j,ej:j,Th:j,J:j,d:j,e:Rc,u:j,n:j,ja:j,f:j,Bi:j,V:j,description:"",name:"",w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},ea:function(a){if(a>=this.ii()&&85>=a){this.d!=j&&this.d.ea(a);this.e=a;for(var b=0;2>b;b++)this.ja[b]&&(0==Yb(this.ja[b].id,this.e)&&(this.ja[b]=j),this.ja[b].ea(this.e))}else e(new Uc(a));this.T();this.c.fire("level_change",{level:a})},jh:function(a){this.d!=j&&(this.d.l.lb(this.ej),this.d.lb(this.Th));if(a!=j){(this.J==j||!this.J.Ek(a.id))&&e(new Vc(this.J,
a));this.d=a;try{this.d.ea(this.e)}catch(b){b instanceof Uc?b.e>Rc?this.d.ea(Rc):this.d.ea(this.ii()):ca(b)}this.d.l.w(this.ej);this.d.w(this.Th)}else this.d=j;this.T();this.c.fire("class_change",{"class":a})},fl:function(a){a==j?this.jh(j):(this.d!=j&&!a.Ek(this.d.id)&&this.jh(j),this.J=a);this.T();this.c.fire("race_change",{race:a})},T:function(){Wc(this.f,l);this.c.fire("stats_change",{stats:this.f})},Va:function(){Wc(this.Bi,i);this.c.fire("preview_stats_change",{previewStats:this.Bi});this.u.Qa()},
mc:function(){this.c.fire("preview_stats_change",{previewStats:j})},kg:function(a){if(4==a.Y){if(0!=(1<<a.W&this.gn()))return i}else if(2==a.Y)return i;return l},vg:function(a){return 0==a.sc||1535==(a.sc&1535)||this.d!=j&&0!=(a.sc&1<<this.d.id-1)},Vm:function(a){switch(a){case 0:return 2;case 1:return 4;case 2:return 8;case 3:return 65536;case 4:return 1048608;case 5:return 16;case 6:return 524288;case 7:return 512;case 8:return 1024;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 2048;
case 13:return 2048;case 14:return 4096;case 15:return 4096;case 16:if(this.d!=j)switch(this.d.id){case 4:break;default:return 2236416}return 2105344;case 17:if(this.d!=j)switch(this.d.id){case 1:return 8404992|(1==this.d.l.H?4202496:0)|(this.Qh()?131072:0);case 2:return 8404992;case 3:return 12591104;case 4:return 12591104;case 6:return 12591104;case 7:return 8404992|(1==this.d.l.H?4202496:0)}return 8388608}return 0},pn:function(){var a=31;if(this.d!=j)switch(this.d.id){case 1:a=40<=this.e?16:8;
break;case 2:a=40<=this.e?16:8;break;case 3:a=40<=this.e?8:4;break;case 4:a=4;break;case 5:a=2;break;case 6:a=16;break;case 7:a=40<=this.e?8:4;break;case 8:a=2;break;case 9:a=2;break;case 11:a=4}return a},Wm:function(a){switch(a){case 0:case 2:case 4:case 7:case 8:case 9:case 10:case 11:return[4,this.pn()];case 3:return[4,2];case 5:case 6:return[4,3];case 1:case 12:case 13:case 14:case 15:return[4,1];case 18:if(this.d!=j)switch(this.d.id){case 9:case 8:case 5:return[2,524288];case 1:case 3:case 4:return[2,
327692];case 2:case 7:case 6:case 11:return[4,2048]}return[100,1]}return[-1,0]},gn:function(){if(this.d!=j)switch(this.d.id){case 1:return(40<=this.e?31:15)+64;case 2:return(40<=this.e?31:15)+2112;case 6:return(40<=this.e?31:15)+2048;case 3:return 40<=this.e?15:7;case 7:return(40<=this.e?15:7)+2112;case 11:return 2055;case 4:return 7;case 5:case 8:case 9:return 3}return 31},Qh:function(){return this.d!=j&&1==this.d.id&&0<this.d.l.l[1][6][1].R},vk:function(){return this.d==j?l:0==(1<<this.d.id&90)},
el:function(a,b){this.ja[a]=0<b?new tc(this,yb[b]):j;this.T();this.c.fire("profession_change",{index:a,profession:this.ja[a]})},To:function(a,b){this.ja[a].ea(b);this.T();this.c.fire("profession_level_change",{index:a,level:this.ja[a].e})},uk:function(a){var b=this.qk(164);return(7==a||8==a)&&this.u.get(a)!=j&&60<=this.u.get(a).e&&b!=j&&400<=b.e||9==a&&70<=this.e&&this.u.get(a)!=j&&80<=this.u.get(a).e?i:l},qk:function(a){return this.ja[0]&&this.ja[0].id==a?this.ja[0]:this.ja[1]&&this.ja[1].id==a?
this.ja[1]:j},Cd:function(a){this.V.Ea(a)&&!this.n.Ea(a)?this.n.ag(a,l,i):!this.V.Ea(a)&&this.n.Ea(a)&&this.n.ah(a,l)},za:function(){var a=this.n.n,b=0;this.d&&this.d.za(this.V);this.J&&this.J.za(this.V);for(b=0;2>b;b++)if(this.ja[b]){var c=this.ja[b].hn();c&&this.V.add(c)}if(this.d)switch(this.d.id){case 1:this.Cd(29801);break;case 3:this.Cd(53290);break;case 4:this.Cd(51701);this.Cd(31223);break;case 6:this.Cd(55610);break;case 7:this.Cd(51470);break;case 11:this.V.Ea(17007)&&this.d!=j&&0!=(1<<
this.d.xa&290)?this.n.ag(24932,l,l):this.n.ah(24932,l)}for(b in a)this.V.Ed(a[b])},Nn:function(a){return 16==a||17==a&&this.d!=j&&0!=(1<<this.d.id&154)||18==a&&this.d!=j&&0!=(1<<this.d.id&826)},load:function(a){var b,c=0,d,f;if(a!=j){this.name=a[0][0];this.description=a[0][1];this.fl(new Xc(this,a[0][2]));this.jh(new Yc(a[0][3]));this.ea(a[0][4]);this.d&&this.d.qd(a[0][5]?a[0][5]:0);b=a[0][6]?a[0][6]:0;if(0==b&&this.d!=j&&6==this.d.id)switch(a[4]){case 0:b=48263;break;case 1:b=48266;break;case 2:b=
48265;break;default:b=48263}this.d.te(b);if(this.d){(2===a[4]||1===a[4]||0===a[4])&&this.d.l.mb(a[4]);a[2]&&this.d.l.Zk(a[2],i);if(a[5])for(b=0;b<a[5].length;b++)a[5][b]&&(this.el(b,a[5][b][0]),this.ja[b].ea(a[5][b][1]));for(b=0;b<a[3].length;b++)a[3][b]&&this.d.$f(new fc(a[3][b]))}for(b=0;19>b;b++)if(a[1][b])if(a[1][b][0]){d=new qa(a[1][b][0]);try{this.u.set(b,d)}catch(g){if(g instanceof Ec)continue;ca(g)}for(c=0;3>c;c++)a[1][b][1+c]&&(f=new qa(a[1][b][1+c]),d.Qc(f,c),E.set(f.clone()));a[1][b][4]&&
d.Pc(new hc(a[1][b][4]));a[1][b][6]!=j&&0!=a[1][b][6]&&d.gl(a[1][b][6]);if(a[1][b][5]&&-1!=a[1][b][5][0]&&-1!=a[1][b][5][1])try{d.Hi(a[1][b][5][0],a[1][b][5][1])}catch(h){h instanceof mc||ca(h)}if(a[1][b][7])for(c=0;c<a[1][b][7].length;c++)d.Pc(new hc(a[1][b][7][c]));E.set(d.clone())}else this.u.remove(b);for(b in a[6])c=new R(a[6][b][0]),F.set(c),this.n.set(new dc(c,a[6][b][1]));this.T();this.c.fire("character_loaded",{character:this})}},ii:function(){return this.d!=j&&6==this.d.id?55:1},toArray:function(){var a=
[],b,c,d,f=this.d?this.d.xa:0,g=this.d!=j&&this.d.zb!=j?this.d.zb.k.id:0;this.d&&(this.d.qd(0),this.d.te(0));a[0]=[this.name,this.description,this.J?this.J.id:0,this.d?this.d.id:0,this.e,f,g];a[1]=[];for(b=0;19>b;b++)if(d=this.u.j[b][0],d==j)a[1][b]=j;else{a[1][b]=[];a[1][b][0]=d.id;a[1][b][1]=d.I[0]?d.I[0].id:0;a[1][b][2]=d.I[1]?d.I[1].id:0;a[1][b][3]=d.I[2]?d.I[2].id:0;a[1][b][4]=0<d.G.length?d.G[0].id:j;a[1][b][5]=[d.oa,d.ca];a[1][b][6]=d.Q?d.Q.id:0;a[1][b][7]=[];for(c=1;c<d.G.length;c++)a[1][b][7].push(d.G[c].id)}a[2]=
this.d?this.d.l.xg(i):[];a[3]=[];if(this.d)for(b=0;b<this.d.N.length;b++)for(c=0;c<this.d.N[b].length;c++)this.d.N[b][c]&&a[3].push(this.d.N[b][c].id);a[4]=this.d?this.d.l.H:-1;a[5]=[j,j];for(b=0;2>b;b++)c=this.ja[b],a[5][b]=c?[c.id,c.e]:j;a[6]=[];c=this.n.n;for(b in c)c[b]&&!c[b].he&&a[6].push([c[b].k.id,c[b].Sa]);this.d&&(this.d.qd(f),this.d.te(g));return a},fp:function(){var a,b,c,d={averageItemLevel:0,averageItemLevelEquipped:0},f,g,h,k=this.d!=j?this.d.l:j,r=[[],[],[]],v=[];for(a=0;19>a;a++)if(h=
this.u.j[a][0],h!=j){f=Va[a];g={};for(b=0;b<h.G.length;b++)c=h.G[b],7==c.types[0]?g.tinker=c.id:g.enchant=c.id;for(b=0;3>b;b++)h.I[b]&&(g["gem"+b]=h.I[b].id);h.Fn()&&(g.extraSocket=i);-1!=h.oa&&-1!=h.ca&&(g.reforge=7*Oa[h.oa]+113+Oa[h.ca]-(h.ca>h.oa?1:0));h.Q&&(g.suffix=h.Q.id);d[f]={icon:h.q,id:h.id,name:h.name,quality:h.da,tooltipParams:g}}if(this.d){for(a=0;a<this.d.N.length;a++)for(b=0;b<this.d.N[a].length;b++)(c=this.d.N[a][b])&&r[a].push({glyph:c.id,item:c.Fk,name:c.k.name,icon:c.k.q});b=[{selected:i,
name:-1!=k.H?k.$b[k.H]:"None",icon:"",build:k.xg(i).join(""),trees:[],glyphs:{prime:r[2],major:r[0],minor:r[1]}}]}else b=j;for(a=0;2>a;a++)(k=this.ja[a])&&v.push({id:k.id,name:Wa[k.id],rank:k.e});return JSON.stringify({name:this.name,race:this.J!=j?this.J.id:0,"class":this.d!=j?this.d.id:0,level:this.e,items:d,talents:b,professions:{primary:v,secondary:[]}})},Uj:function(a,b){this.u.Qa();this.mc();this.u.set(a,b);this.T();16==a||17==a?(this.c.fire("item_change",{slot:16}),this.c.fire("item_change",
{slot:17})):this.c.fire("item_change",{slot:a})},removeItem:function(a){this.u.Qa();this.mc();this.u.remove(a);this.T();this.c.fire("item_change",{slot:a})},Qc:function(a,b,c){this.u.Qa();this.mc();this.u.j[a][0].Qc(c,b);this.T();this.c.fire("gem_change",{slot:a,socket:b})},Ki:function(a,b){this.u.Qa();this.mc();this.u.j[a][0].Qc(j,b);this.T();this.c.fire("gem_change",{slot:a,socket:b})},ep:function(a,b){this.u.Qa();this.mc();this.u.dp(a,b);this.T();16==a||17==a?(this.c.fire("item_change",{slot:16}),
this.c.fire("item_change",{slot:17})):this.c.fire("item_change",{slot:a})},Pc:function(a,b){this.u.Qa();this.mc();this.u.j[a][0].Pc(b);this.T();this.c.fire("enchant_change",{slot:a})},Qi:function(a,b){this.u.Qi(b,a);this.Va()},so:function(){this.u.Qa();this.Va()},Qo:function(a,b){this.u.Qa();this.mc();this.u.j[a][0].gl(b);this.T()},Ri:function(a,b){this.u.dl(b,a,-1);this.Va()},Mi:function(){this.u.Qa();this.Va()},bl:function(a,b,c){this.u.dl(c,a,b);this.Va()},Pk:function(){this.u.Qa();this.Va()},
ma:function(a,b){return"undefined"===typeof b?this.u.j[a][0]:this.u.j[a][b]},fj:function(a){return this.u.fj(a)},gi:function(a){return this.u.gi(a)},oo:function(a,b,c){if(a=this.u.j[a][0])a.restore(),a.Hi(b,c),this.T()},Uo:function(a,b,c){var d=this.u.Ii();d[a]=[b,c];this.u.mh(d);this.Va()},mh:function(a){this.u.mh(a);this.Va()},to:function(){this.u.Qa();this.Va()},uo:function(){this.u.Qa();this.Va()},Ho:function(a){if(a=this.u.j[a][0])a.restore(),this.T()},Go:function(){this.u.wf();this.T();this.Va()},
no:function(a){var b=this.u.Ii();try{this.u.wf(),this.u.Yg(a),this.T(),this.Va()}catch(c){this.u.Yg(b),this.T(),this.Va(),e(c)}},Ed:function(a){this.n.add(a,l)},Gd:function(a){this.n.Gd(a)},qo:function(a){this.n.remove(a,l)},Jn:function(a){return this.n.Ea(a)},Eo:function(){var a=this.d!=j?this.d.l:j;a&&(a.reset(),this.T())},Do:function(a){var b=this.d!=j?this.d.l:j;b&&(b.Wk(a),this.T())},Rm:function(a,b,c){var d=this.d!=j?this.d.l:j;d&&(d.Vj(a,b,c),this.T())},wo:function(a,b,c){var d=this.d!=j?this.d.l:
j;d&&(d.Qk(a,b,c),this.T())},Jo:function(a){var b=this.d!=j?this.d.l:j;b&&(b.mb(a),this.T())},wn:function(){var a=this.d!=j?this.d.l:j;return a?a.H:-1},An:function(){return this.d!=j?this.d.l:j},cl:ba("name"),Mo:ba("description"),$f:function(a){this.d.$f(a);this.T()},Li:function(a){if(this.d!=j&&a!=j)for(var b=this.d.N[a.type],c=0;c<b.length;c++)if(b[c]!=j&&b[c].id==a.id){this.d.Li(a.type,c);this.T();break}},qd:function(a){this.d!=j&&(this.d.qd(a),this.T())},te:function(a){this.d!=j&&(this.d.te(a),
this.T())}};function Vc(a,b){this.J=a;this.d=b}Vc.prototype={J:j,d:j,toString:function(){return"Illegal combination of race ("+this.J+") and class("+this.d+")."}};function Uc(a){this.e=a}Uc.prototype={e:j};function Xc(a,b){this.character=a;this.id=b[0];this.name=b[1];this.pf=[];for(var c=0;c<b[2].length;c++)this.pf[c]=new uc(b[2][c])}
Xc.prototype={id:0,character:j,name:"",pf:[],za:function(a){for(var b,c,d=0;d<this.pf.length;d++)b=this.pf[d],b.k!=j&&(c=this.character.d,(c!=j&&1<<c.id-1&b.ng||0>=b.ng)&&a.add(b.k))},toString:function(){return"CharacterRace ("+this.name+","+this.pf+")"},Ek:function(a){switch(this.id){case 11:return 11!=a&&9!=a&&4!=a;case 3:return 11!=a;case 7:return 11!=a&&3!=a&&2!=a&&7!=a;case 1:return 11!=a&&7!=a;case 4:return 2!=a&&7!=a&&9!=a;case 22:return 2!=a&&7!=a;case 10:return 11!=a&&7!=a;case 9:return 11!=
a&&2!=a;case 2:return 11!=a&&5!=a;case 6:return 8!=a&&4!=a&&9!=a;case 8:return 2!=a;case 5:return 11!=a&&2!=a&&7!=a}return l}};function Yc(a){this.c=new D;this.c.g("shapeform_change",["new_shape","old_shape"]);this.c.g("presence_change",["new_presence","old_presence"]);this.c.g("glyph_added",["glyph"]);this.c.g("glyph_removed",["glyph"]);var b,c=0;this.Yb=a;this.f=[];this.e=-1;this.rd=j;this.N=[[j,j,j],[j,j,j],[j,j,j]];this.id=a[0];this.name=a[1];this.l=new ta(a[2],l);this.Wj=a[3];this.Bf={};this.og=[];for(b=0;b<a[4].length;b++)this.og[b]=new uc(a[4][b]);this.eg=[];for(c=0;c<a[5].length;c++)for(b=0;b<a[5][c].length;b++)this.eg.push(new fc(a[5][c][b]));
if(a[6]){this.rd=[];for(b=0;b<a[6].length;b++)this.rd[b]=new vc(a[6][b]),this.Bf[this.rd[b].id]=this.rd[b]}if(a[7]){this.Fc=[];for(b=0;b<a[7].length;b++)c=new R(a[7][b]),this.Fc.push(c),F.set(c)}if(a[9]){this.Fc=[];for(b=0;b<a[9].length;b++)F.set(new R(a[9][b]))}this.Xh=a[8]}
Yc.prototype={c:j,id:0,name:"",e:0,xa:0,shape:j,rd:j,Bf:j,N:j,eg:j,dg:0,l:j,zb:j,Fc:j,og:j,Wj:j,ba:function(a,b){this.c.ba(a,b)},w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},ea:function(a){this.e=a;this.l.ea(a);for(a=this.dg=25>a?0:50>a?1:75>a?2:3;3>a;a++)this.N[0][a]=j,this.N[1][a]=j,this.N[2][a]=j},qd:function(a){var b=this.shape;this.xa=a;0!=this.xa?this.Bf[this.xa]?this.shape=this.Bf[this.xa]:e(new $b):this.shape=j;this.c.fire("shapeform_change",{new_shape:this.shape,old_shape:b})},
te:function(a){var b=this.zb;if(0==a)this.zb=j,this.c.fire("presence_change",{new_presence:this.zb,old_presence:b});else{for(var c=0;c<this.Fc.length;c++)if(this.Fc[c].id==a){this.zb=new dc(this.Fc[c],1);this.c.fire("presence_change",{new_presence:this.zb,old_presence:b});return}e(Error("Unable to set presence "+a))}},za:function(a){var b,c;if(0!=this.xa){b=this.Bf[this.xa];for(c=0;c<b.n.length;c++)a.Ed(b.n[c]);for(c=0;c<b.V.length;c++)a.add(b.V[c])}this.zb&&a.Ed(this.zb);this.l.za(a);for(c=0;c<this.N.length;c++)for(b=
0;b<this.N[c].length;b++)this.N[c][b]&&a.add(this.N[c][b].k);for(c=0;c<this.og.length;c++)if(b=this.og[c],b.k!=j){if(b.k.type[8]&1048576)switch(this.id){case 1:if(86101==b.k.id&&0!=this.l.H||86110==b.k.id&&1!=this.l.H||86535==b.k.id&&2!=this.l.H)continue;break;case 2:if(86103==b.k.id&&0!=this.l.H||86102==b.k.id&&1!=this.l.H||86539==b.k.id&&2!=this.l.H)continue;break;case 6:if(86537==b.k.id&&0!=this.l.H||86536==b.k.id&&1!=this.l.H||86113==b.k.id&&2!=this.l.H)continue;break;case 7:if(86100==b.k.id&&
0!=this.l.H||86099==b.k.id&&1!=this.l.H||86108==b.k.id&&2!=this.l.H)continue;break;case 11:if(86093==b.k.id&&0!=this.l.H||86096==b.k.id&&(1!=this.l.H||0==(1<<this.xa&288))||86097==b.k.id&&(1!=this.l.H||0==(1<<this.xa&2))||86104==b.k.id&&2!=this.l.H)continue}(1<<this.id-1&b.ng||0>=b.ng)&&a.add(b.k)}},$f:function(a){var b,c=-1;0==this.dg&&e(Error("Unable to add Glyph, there are no empty slots available!"));for(b=0;b<this.dg;b++)this.N[a.type][b]==j?c=-1==c?b:c:this.N[a.type][b].id==a.id&&e(Error("Unable to add Glyph, this Glyph is already in use!"));
-1==c&&e(Error("Unable to add Glyph, there are no empty slots available!"));this.N[a.type][c]=a;this.c.fire("glyph_added",{glyph:a})},Li:function(a,b){this.N[a][b]=j;this.c.fire("glyph_removed",j)}};function Tc(a){this.character=a;this.reset();this.Yf=l}n=Tc.prototype;n.character=j;n.fb=[];n.attributes=[];n.Kd=[];n.cg=[];n.th=[];n.Sd=[];n.Df=[];n.A=[];n.L=[];n.Ub=[];n.O=[];n.k=[];n.la=[];n.Uh=[];n.cj=[];n.Xe=0;n.bf=0;n.Ph=0;n.hg=0;n.Hf=0;n.Ff=0;n.Zi=0;n.Gf=0;n.$i=0;n.ud=0;n.Ec=0;n.Ef=0;n.Yi=0;n.Mc=[];n.Kg=0;n.Cg=0;n.Lg=0;n.xb=0;n.ed=0;n.Hd=0;n.pa=0;n.rc=0;n.ti=0;n.df=0;n.cf=0;n.Ob=[];n.fd=[];n.Nb=[];n.ic=[];n.Kb=[];n.wc=[];n.Ma=0;n.La=0;n.Za=0;n.ab=0;n.$a=0;n.yb=0;n.jb=0;n.Ei=0;n.sf=0;n.Wg=0;
n.qf=0;n.rf=0;n.Fi=0;n.tf=0;n.nf=0;n.mf=0;n.jc=0;n.Ug=0;n.ld=0;n.Te=0;n.Yc=0;n.me=0;n.ig=0;n.je=0;n.Nh=0;n.ef=0;n.Yf=l;
n.reset=function(){var a;this.fb=[0,0,0,0,0,0,0];this.attributes=[0,0,0,0,0];this.Kd=[0,0,0,0,0];this.cg=[0,0,0,0,0];this.th=[0,0,0,0,0];this.Sd=[0,0,0,0,0];this.Df=[0,0,0,0,0];this.A=[];for(a=0;40>a;a++)this.A[a]=0;this.O=[0,0,0,0,0,0,0,0,0,0];this.ka=[[0,0],0,0,0,0,0,0,0];this.k=[0,0,0,0,0,0,0,0];this.la=[0,0,0,0,0,0,0];this.Ub=[0,0,0,0,0];this.$i=this.Gf=this.Zi=this.Ff=this.Hf=this.Ph=this.hg=this.bf=this.Xe=0;this.Mc=[];this.cf=this.df=this.ti=this.rc=this.pa=this.Hd=this.Lg=this.Cg=this.Kg=
this.Yi=this.Ef=this.Ec=this.ud=0;this.Ob=[0,0,0];this.fd=[0,0,0];this.Nb=[0,0,0];this.ic=[0,0,0];this.tf=this.Fi=this.rf=this.qf=this.Wg=this.sf=this.Ei=0;this.Kb=[0,0,0,0];this.wc=[0,0,0,0];for(a=this.Ug=this.jc=this.mf=this.nf=this.jb=this.ef=this.Nh=this.ig=this.me=this.Yc=this.Te=this.ld=this.wi=this.yb=this.$a=this.ab=this.ui=this.Za=this.La=this.Ma=this.ed=this.xb=0;6>a;a++)this.Mc[a]=0;for(a=0;7>a;a++)this.L[a]=0;this.je=0;this.cj=[0,0,0,0,0,0,0,0]};
function Wc(a,b){a.Yf&&e("Concurring calls of Stats::calculate");a.Yf=i;a.character.u.Bl();var c,d,f,g,h;g=0;var k=a.character.u,r=k.get(17)!=j&&2==k.get(17).Y,v=k.get(18)!=j&&2==k.get(18).Y,s=a.character.e,N=a.character.V.qn(l),q=N[0],da=N[1],Y=N[2],ja=N[3];f=a.character.J==j?0:a.character.J.id;var Pa=a.character.d,Ab=l,B=0,ka=0,jc=-1,Ea=j,aa=j;Pa&&(Ab=i,B=Pa.id,ka=Pa.xa,jc=Pa.l.H,Ea=Pa.Wj,Ea[s]&&(aa=Ea[s]));var Ea=[0,0,0,0,0],Qa=ib[B];if(11==B&&0<ka)switch(ka){case 1:Qa=jb;break;case 5:Qa=kb;break;
case 31:Qa=lb}a.reset();if(!Ab||!aa)aa=[0,0,0,0,0,0,0,0,0,0,0];a.Ph=aa[5];a.hg=aa[6];for(c=0;5>c;c++)Ea[c]=bb[f][c]+(Ab?aa[c]:0),a.Kd[c]=Math.floor(Ea[c]*(1+q[137][c]/100));if(1==ka||5==ka||8==ka)a.character.V.Ea(17002)?q[49]+=2:a.character.V.Ea(24866)&&(q[49]+=4);if(a.character.V.Ea(48411)&&(1==ka&&(q[290]+=4),5==ka||8==ka))q[79][0]+=4;a.Nh=q[142][0]/100;for(c=0;19>c;c++)if(h=a.character.uk(c),f=b?k.get(c):k.j[c][0],!(f==j||!a.character.kg(f)||!a.character.vg(f))){f.Ti(s);5!=c&&6!=c&&(g++,a.je+=
f.e);d=a;for(var C=f,Q=void 0,Q=0;Q<C.f.length;Q++)if(C.f[Q]!=j)if(50<=C.f[Q][0])switch(C.f[Q][0]){case 50:d.L[0]+=C.f[Q][1];break;case 51:d.L[2]+=C.f[Q][1];break;case 52:d.L[4]+=C.f[Q][1];break;case 53:d.L[1]+=C.f[Q][1];break;case 54:d.L[5]+=C.f[Q][1];break;case 55:d.L[3]+=C.f[Q][1];break;case 56:d.L[6]+=C.f[Q][1]}else 11<=C.f[Q][0]?d.A[C.f[Q][0]-11]+=C.f[Q][1]:d.attributes[Ta[C.f[Q][0]]]+=C.f[Q][1];-1!=C.ca&&-1!=C.fa&&(11<=C.ca?d.A[C.ca-11]+=C.fa:d.attributes[Ta[C.ca]]+=C.fa);d.L[0]+=C.Hb;4==C.Y&&
0<C.W&&(d.L[0]+=C.Hb*d.Nh);for(d=0;3>d;d++)if(f.I[d]){if(0>=f.U[d])if(h)h=l;else continue;Zc(a,f.I[d].ta.Jb)}f.qi()&&Zc(a,f.td);for(d=0;d<f.G.length;d++)h=f.G[d],h!=j&&Zc(a,h);if(f.Q){f=f.Q.G;for(d=0;5>d;d++)h=f[d],h!=j&&Zc(a,h)}}a.L[0]=Math.round((a.L[0]+q[22][0]+q[143][0])*(1+q[101][0]/100));for(c=1;c<a.L.length;c++)a.L[c]=Math.round((a.L[c]+q[22][c]+q[143][c])*(1+q[142][c]/100));a.je=0<g?a.je/g:0;a.cj=[0,q[133],q[132],q[137][1],q[137][0],q[137][3],q[137][4],q[137][2]];for(c=0;5>c;c++){a.attributes[c]+=
q[29][c];a.attributes[c]*=1+q[137][c]/100;a.attributes[c]+=a.Kd[c];a.attributes[c]=Math.floor(a.attributes[c]);0<Qa[c]&&(a.cg[c]=a.attributes[c]>=10*Qa[c]?a.attributes[c]*(q[268][c]/100+Qa[c])-10*Qa[c]:0);for(d=0;32>d;d++)a.A[d]+=Math.floor(q[220][d][c]/100*(a.attributes[c]-Ea[c]))}a.Sd[1]+=100*cb[B]+a.attributes[1]*aa[7];a.Df[3]+=100*db[B]+a.attributes[3]*aa[8];a.Kb[0]=a.A[26];for(c=0;4>c;c++)a.Kb[c]+=N[c][189][23],a.wc[c]+=a.Kb[c]/G[23][s-1]+N[c][240],0<c&&(a.wc[c]+=a.wc[0],a.Kb[c]+=a.Kb[0]);80<=
s&&(a.xb=a.A[38]+q[189][25],a.ed=1==B&&1==Pa.l.H?2+a.xb/G[25][s-1]:8==B&&2==Pa.l.H?2+a.xb/G[25][s-1]:8+a.xb/G[25][s-1]);a.Cg=(80>s?10:10+0.8*(s-80))*Math.max(0,a.attributes[2]-20)+(20<=a.attributes[2]?20:a.attributes[2]);a.Xe=a.Cg+a.Ph*(1+q[282]/100)+q[34]+q[230];a.Xe*=1+q[133]/100;a.Kg=15*Math.max(0,a.attributes[3]-20)+(20<=a.attributes[3]?20:a.attributes[3]);a.bf=a.Kg+a.hg+q[35][0];a.bf*=1+q[132]/100;a.df=a.A[17]+a.A[25]+q[189][17];a.cf=a.df/G[17][s-1];a.sf=a.A[18]+a.A[25]+q[189][18];a.Wg=a.sf/
G[18][s-1];a.rc=q[99]+a.A[27]+(0!=q[285]?a.L[0]/q[285]:0);a.pa+=a.rc;a.Hd+=q[166];a.pa+=sb[B]*s;for(c=0;5>c;c++)a.pa+=a.cg[c];a.rc*=1+a.Hd/100;a.pa*=1+a.Hd/100;a.jb=q[124]+a.A[27]+fb[B]*a.attributes[1]+gb[B]*s+hb[B];for(c=0;5>c;c++)a.jb+=a.attributes[c]*(q[212][c]/100);a.jb*=1+q[167]/100;a.Ob[0]=a.A[5]+a.A[20];a.Nb[0]=a.A[8]+a.A[21];for(d=0;d<a.attributes.length;d++)a.ic[0]+=a.Sd[d];for(c=0;3>c;c++)a.Ob[c]+=N[c][189][5]+N[c][189][20],a.fd[c]+=a.Ob[c]/G[5][s-1]+N[c][54],a.Nb[c]+=N[c][189][8]+N[c][189][21],
a.ic[c]+=a.Nb[c]/G[8][s-1]+N[c][52]+N[c][290]+N[c][71][0],0<c&&(a.fd[c]+=a.fd[0],a.Ob[c]+=a.Ob[0],a.ic[c]+=a.ic[0],a.Nb[c]+=a.Nb[0]);a.tf=a.A[6]+a.A[20];a.Fi=a.tf/G[6][s-1]+q[54]+ja[54];a.rf=a.A[9]+a.A[21];a.qf=a.rf/G[9][s-1]+q[290]+q[71][0]+q[52]+ja[290]+ja[71][0]+ja[52];for(d=0;d<a.attributes.length;d++)a.qf+=a.Sd[d];if(11==B&&5==ka){if(a.Za=2500,g=k.get(16))a.Ma=2500*g.Dc/g.delay,a.La=2500*g.Cc/g.delay}else if(11==B&&1==ka){if(a.Za=1E3,g=k.get(16))a.Ma=1E3*g.Dc/g.delay,a.La=1E3*g.Cc/g.delay}else(g=
k.get(16))?(a.Za=g.delay,a.Ma=g.Dc,a.La=g.Cc):(a.Za=2E3,a.Ma=22.6,a.La=22.6);a.Ma+=a.pa/14*a.Za/1E3;a.La+=a.pa/14*a.Za/1E3;a.Za/=(1+a.cf/100)*(1+q[138]/100+da[138]/100)*(1+q[319]/100+da[319]/100)*(1+q[192]/100+da[192]/100)*(1+q[193]/100+da[193]/100);a.ti=100*((1+a.cf/100)*(1+q[138]/100)*(1+q[319]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.Ma+=q[13][0]+da[13][0];a.La+=q[13][0]+da[13][0];a.Ma*=1+(q[79][0]+da[79][0])/100;a.La*=1+(q[79][0]+da[79][0])/100;a.ui=500*(a.Ma+a.La)/a.Za;r&&(g=k.get(17),a.yb=g.delay,
a.ab=g.Dc+a.pa/14*a.yb/1E3,a.$a=g.Cc+a.pa/14*a.yb/1E3,a.yb/=(1+a.cf/100)*(1+q[138]/100+Y[138]/100)*(1+q[319]/100+Y[319]/100)*(1+q[192]/100+Y[192]/100)*(1+q[193]/100+Y[193]/100),a.ab+=q[13][0]+Y[13][0],a.$a+=q[13][0]+Y[13][0],a.ab*=1+(q[79][0]+Y[79][0])/100,a.ab*=1+(q[122]+Y[122])/100,a.ab>>=1,a.$a*=1+(q[79][0]+Y[79][0])/100,a.$a*=1+(q[122]+Y[122])/100,a.$a>>=1,a.wi=500*(a.ab+a.$a)/a.yb);v&&(g=k.get(18),a.jc=g.delay,a.nf=g.Dc+a.jb/14*a.jc/1E3+q[13][0]+ja[13][0],a.mf=g.Cc+a.jb/14*a.jc/1E3+q[13][0]+
ja[13][0],a.jc/=(1+a.Wg/100)*(1+(q[140]+ja[140])/100)*(1+(q[141]+ja[141])/100)*(1+(q[320]+ja[320])/100)*(1+(q[192]+ja[192])/100)*(1+(q[193]+ja[193])/100),a.Ug=500*(a.nf+a.mf)/a.jc);a.Ei=100*((1+a.Wg/100)*(1+q[140]/100)*(1+q[141]/100)*(1+q[320]/100)*(1+q[192]/100)*(1+q[193]/100)-1);a.th[3]=Math.max(0,a.attributes[3]-10);a.Hf=a.th[3]+a.A[34]+q[238][1]/100*a.pa+q[135][1];a.Hf*=1+q[317]/100;a.Ff=a.A[19]+a.A[25]+q[189][19];a.Zi=100*((1+a.Ff/G[19][s-1]/100)*(1+q[65]/100)*(1+q[193]/100)-1);a.Gf=a.A[7]+a.A[20]+
q[189][7]+q[189][20];a.$i=a.Gf/G[7][s-1]+Math.min(q[55][1],q[55][2],q[55][3],q[55][4],q[55][5],q[55][6]);a.Ef=a.A[10]+a.A[21]+q[189][10]+q[189][21];a.Yi=a.Df[3]+a.Ef/G[10][s-1]+q[57]+q[290]+Math.max(da[57],Y[57]);for(c=0;6>c;c++)a.Mc[c]=Math.abs(a.A[36])+Math.abs(q[123][c]);if(a.character.vk()){a.Lg=5*(0.0010+Math.sqrt(a.attributes[3])*a.attributes[4]*wb[s-1]);a.ud=a.Lg;a.Ec=q[85]+a.A[32]+a.ud*(q[134]/100);for(c=0;5>c;c++)a.Ec+=q[219][c]/100*a.attributes[c]}else a.Ec=0,a.ud=0;a.ud+=aa[10];a.Ec+=aa[10];
0!=(1<<B&134)&&(a.ig=5+q[51]+(2==B&&1==jc?2.25*a.ed:0)+(1==B&&2==jc?1.5*a.ed:0)+(a.A[4]+q[189][4])/G[4][s-1]);a.Te=a.A[2]+q[189][2];if(Ab){if(a.Yc=2==B||1==B||6==B?q[49]+5+1/(tb[B-1]/(a.Te/G[2][s-1]+aa[9])+(vb[B-1]?1/vb[B-1]:0)):q[49]+eb[B]+a.Kd[1]*aa[9]+1/(tb[B-1]/(a.Te/G[2][s-1]+aa[9]*(a.attributes[1]-a.Kd[1]))+(vb[B-1]?1/vb[B-1]:0)),0!=(1<<B&94)){a.ld=a.A[3]+q[189][3];switch(B){case 1:case 2:case 6:a.ld+=0.27*(a.attributes[0]-Ea[0])}a.me=5+q[47]+1/(tb[B-1]/(a.ld/G[3][s-1])+(ub[B-1]?1/ub[B-1]:0))}}else a.Yc=
q[49]+a.Te/G[2][s-1];a.Xk=a.A[24]+Math.min(a.A[14]+q[189][14],a.A[15]+q[189][15],a.A[16]+q[189][16]);a.Fo=1-Math.pow(0.99,a.Xk/G[15][s-1]);a.ef=5-N[0][184]-N[1][184]-N[2][184]-N[3][184];a.fb[0]=a.Xe;a.fb[1]=a.bf;a.fb[2]=100;a.fb[3]=100+q[35][3]+Math.min(da[35][3],Y[35][3]);a.fb[4]=100;a.fb[5]=Math.floor(100+q[35][6]/10);a.fb[6]=a.je;a.O[0]=[[Math.floor(a.Ma),Math.ceil(a.La)],r?[Math.floor(a.ab),Math.ceil(a.$a)]:j];a.O[1]=[a.ui,r?a.wi:j];a.O[2]=a.pa;a.O[3]=[a.Za,r?a.yb:j];a.O[4]=a.ti;a.O[5]=a.fd[1];
a.O[6]=a.ic[1];a.O[7]=[Math.floor(a.wc[1]),r?Math.floor(a.wc[2]):j];a.O[8]=a.ed;v?(a.ka[0]=[Math.floor(a.nf),Math.ceil(a.mf)],a.ka[1]=a.Ug,a.ka[3]=a.jc):(a.ka[0]=[-1,-1],a.ka[1]=-1,a.ka[3]=-1);a.ka[2]=a.jb;a.ka[4]=a.Ei;a.ka[5]=a.Fi;a.ka[6]=a.qf;a.ka[7]=a.ed;a.k[0]=a.Hf;a.k[1]=a.Zi;a.k[2]=a.$i;a.k[3]=Math.min(a.Mc[1],a.Mc[2],a.Mc[3],a.Mc[4],a.Mc[5]);a.k[4]=a.ud;a.k[5]=a.Ec;a.k[6]=a.Yi;a.k[7]=a.ed;a.la[0]=a.L[0];a.la[1]=a.Yc;a.la[2]=a.me;a.la[3]=a.ig;a.la[4]=a.Xk;a.la[5]=a.ef+a.Yc+a.me;a.la[6]=a.ef+
a.Yc+a.ig+a.me;a.Ub[0]=a.L[6];a.Ub[1]=a.L[2];a.Ub[2]=a.L[3];a.Ub[3]=a.L[4];a.Ub[4]=a.L[5];a.Yf=l}function Zc(a,b){var c;if(b.Ea(a.character))for(c=0;c<b.types.length;c++)5==b.types[c]?11<=b.cb[c]?a.A[b.cb[c]-11]+=b.Oc[c]:a.attributes[Ta[b.cb[c]]]+=b.Oc[c]:4==b.types[c]&&(a.L[b.cb[c]]+=b.Oc[c])};var E={elements:{},set:function(a){E.elements[a.id]=a},get:function(a){return E.elements[a]},contains:function(a){return E.elements[a]||l},Id:function(a,b,c){E.get(a)?b.notify(c):Ja("api/item.php?"+Ha({id:a,lang:g_settings.language}),E.hi,[b,c],l)},Oh:function(a,b,c){a!=j&&(E.set(new qa(a)),b.notify(c))}};E.hi=new t(E.Oh,E);var F={elements:{},set:function(a){F.elements[a.id]=a},get:function(a){return F.elements[a]},contains:function(a){return F.elements[a]||l},Id:function(a,b,c){F.get(a)?b.notify(c):Ja("api/spell.php?"+Ha({id:a,lang:g_settings.language}),F.hi,[b,c],l)},Oh:function(a,b,c){a!=j&&(F.set(new R(a)),b.notify(c))}};F.hi=new t(F.Oh,F);function z(a,b){var c=document.createElement(a);if(b)for(var d in b)switch(d){case "class":c.className=b[d];break;case "action":c.action=b[d];break;case "method":c.method=b[d];break;case "clear":c.style.clear=b[d];break;case "display":c.style.display=b[d];break;case "href":c.href=b[d];break;case "src":c.src=b[d];break;case "target":c.target=b[d];break;case "name":c.name=b[d];break;case "id":c.id=b[d];break;case "backgroundImage":c.style.backgroundImage="none"===b[d].toLowerCase()||"inherit"===b[d].toLowerCase()?
b[d]:"url("+b[d]+")";break;case "text":"input"===a?c.value=b[d]:c.innerHTML=b[d];break;case "type":c.type=b[d];break;case "value":c.value=b[d];break;case "title":c.title=b[d];break;case "checked":c.checked=b[d];break;case "color":c.style.color=b[d];break;default:e(Error("Unknown parameter "+d+" with value "+b[d]))}return c}function A(a,b,c){b=z(b,c);"string"==typeof a?document.getElementById(a).appendChild(b):a.appendChild(b);return b}
function S(a,b){$c(a,b);a.className=(a.className?a.className+" ":"")+b}function $c(a,b){"string"===typeof a&&(a=document.getElementById(a));if(a)if(b instanceof RegExp)for(var c=a,d=c.className.split(" "),f=d.length,g=0;g<f;g++){if(b.exec(d[g])!==j){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}else{c=a;d=c.className.split(" ");f=d.length;for(g=0;g<f;g++)if(d[g]===b){d[g]=d[f-1];d.pop();c.className=d.join(" ");break}}}
function x(a,b){"string"===typeof a&&(a=document.getElementById(a));if("string"===typeof b)a.innerHTML+=b;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(b)}}function ad(a){a.appendChild(z("div",{clear:"both"}))}function T(a,b){"string"===typeof a&&(a=document.getElementById(a));"string"===typeof b?a.innerHTML+=b:a.appendChild(b);return a}function U(a){for("string"===typeof a&&(a=document.getElementById(a));a.firstChild;)a.removeChild(a.firstChild)}
function ga(a){"string"===typeof a&&(a=document.getElementById(a));if(a!=j){var b=a.nodeName.toLowerCase();if("input"===b&&"checkbox"==a.type)return a.checked;if("input"===b||"textarea"==b)return a.value;if("select"===b)return-1!=a.selectedIndex?a.options[a.selectedIndex].value:j}return j}
var V={Ve:function(a){var b=z("a",{"class":"info",href:"javascript:"});I(b,"mouseover",o.nb,o,[a]);I(b,"mouseout",o.hide,o,[]);I(b,"mousemove",o.move,o,[]);return b},bn:function(a,b,c){return T(z(a,b),V.Ve(c))},sb:function(a,b){"string"===typeof a&&(a=document.getElementById(a));I(a,"mousemove",o.move,o,[]);I(a,"mouseout",o.hide,o,[]);I(a,"mouseover",o.nb,o,[b])},rp:function(a,b){A(a,"span",{}).innerHTML="<span style='position: absolute'>"+b+"<span style='color: #808080; position: absolute; top: -1px; left: 1px;'>"+
b+"</span></span>"},Sm:function(a){Vb(a,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"})},mp:function(a,b){"string"===typeof a&&(a=document.getElementById(a));T(a,V.Ve(b))}};window.ChardevHTML||(window.ChardevHTML={});function ya(){this.Ha=new bd;this.c=new D;this.c.g("import",["name","server","region"]);this.c.g("save",["name","desc"]);this.c.g("update",[]);this.c.g("tab_change",["newTab","oldTab"]);this.c.g("csfolder_tab_change",["newTab","oldTab"]);var a,b,c=new W(1,2);c.nh(cd);var d=document.createElement("div"),f=document.createElement("div");a=document.createElement("div");this.b=document.createElement("div");this.b.className="gui_p";this.jl=z("div",{"class":"cs_sheet_p"});this.qb=new ua;this.zi=new dd;this.Ci=
document.createElement("div");this.Ci.style.paddingTop="20px";this.Hk=document.createElement("div");this.hk=document.createElement("div");this.il=document.createElement("div");this.jl.appendChild(this.Ha.b);this.Zg=new ed;this.Bg=new fd;this.Tc=new gd;this.Vg=new hd;a.appendChild(this.Vg.b);a.appendChild(this.hk);this.rg=new id([this.Hk,d,a,this.Zg.b,this.il,this.Tc.b],"Items,Gems,Enchants,Reforging,Sets,Buffs".split(","),"eqf");a=document.createElement("div");a.className="gui_lp_menu";a.appendChild(this.rg.Ng);
b=document.createElement("div");b.className="gui_lp_content";b.appendChild(this.rg.b);c.cols[0].style.width="300px";c.cols[1].style.width="660px";c.cells[0][0].appendChild(this.jl);c.cells[0][1].className="gui_list_p";c.cells[0][1].appendChild(a);c.cells[0][1].appendChild(b);a=new id([this.qb.b,this.Bg.b],["Talents","Glyphs"],"tsf");f.appendChild(a.Ng);f.appendChild(a.b);f.className="gui_tt";this.Eg=new jd(new t(this.Ee,this));this.yf=new kd;this.yf.c.ba("save",this.c);this.yf.c.ba("update",this.c);
this.$d=new id([c.b,f,this.zi.b,this.Eg.b,this.yf.b,this.Ci],"Character Sheet,Talents,Overview,Import,Save,Browse".split(","),"cp_mm");this.b.appendChild(this.$d.b);this.sh=new ld;d.appendChild(this.sh.b);this.$d.kh(new t(function(a,b){this.c.fire("tab_change",{newTab:a,oldTab:b})},this));this.rg.kh(new t(function(a,b){this.c.fire("csfolder_tab_change",{newTab:a,oldTab:b})},this))}var md=1,nd=2,od=3,pd=0,Ba=2,qd=4;
ya.prototype={Ha:j,c:j,$d:j,qb:j,Eg:j,yf:j,Zg:j,Bg:j,Tc:j,zi:j,Ee:function(a,b,c){this.c.fire("import",{name:a,server:b,region:c})},Ej:function(a,b){this.c.fire("save",{name:a,desc:b})},Fj:function(){},Hn:function(a,b,c,d){x(this.Hk,a.b);x(this.hk,b.b);x(this.Ci,c.b);x(this.il,d.b)}};var rd;
(function(){function a(a){return $("#"+a.id+("password"==a.type?"_plain":""))}function b(a,b){var f=$("<div class='fm_in_err_p' />").html(b);a.parent().append(f);a.addClass("fm_in_err_b")}rd=function(c,d){var f=a(c);f.parent().children().remove(".fm_in_err_p");f.removeClass("fm_in_err_b");if(!c.type.match(/input|password|secret/))return i;for(var g=c.restrictions.split(","),h=f.val(),k=i,r=0;r<g.length;r++)switch(g[r]){case "alnum":h.match(/^[a-zA-Z0-9]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^a-zA-Z0-9]+)/g,
'<span class="fm_malformed_character">$1</span>')),k=l);break;case "alpha":h.match(/^[a-zA-Z]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^a-zA-Z]+)/g,'<span class="fm_malformed_character">$1</span>')),k=l);break;case "num":h.match(/^[0-9]+$/)||(b(f,"Invalid characters found: "+h.replace(/([^0-9]+)/g,'<span class="fm_malformed_character">$1</span>')),k=l);break;case "email":h.match(/^.+\@.+\.\w{2,6}$/)||(b(f,"Invalid e-mail address"),k=l);break;default:var v;if(v=g[r].match(/^min\=(\d+)$/))h.length<
v[1]&&(b(f,"Input is too short - Minimum length: "+v[1]),k=l);else if(v=g[r].match(/^repeat of (\d+)$/)){v=d[v[1]];var s=a(v);h!=s.val()&&(b(f,"Input doesn't match "+v.title),k=l)}}"password"==c.type&&$("#"+c.id+"_hash").val(MD5(h));return k}})();window.FormValidator||(window.FormValidator={validate:rd});function ia(a,b,c){this.data=b;this.wl=c;this.map={};this.b=document.createElement("div");this.vc=[];this.userId=a;c=a=0;x(document.getElementById(this.wl),this.b);b=new W(0,2);b.nh(cd);b.b.className="ui_data_tab";for(a in this.data){this.map[a]=c;b.Rc();b.cells[c][0].className="ui_data_label";b.cells[c][0].innerHTML=this.data[a].label;b.cells[c][1].className="ui_data_data";if("select"==this.data[a].editable){var d=new sd(this.data[a].options);S(d.select.b,"ui_data_select");this.vc[c]=d}else"input"==
this.data[a].editable?(d=new td,S(d.input.b,"ui_data_input"),this.vc[c]=d):"battlenetprofilemanager"==this.data[a].editable?(this.vc[c]=new ud(this.data[a].realms),b.cells[c][0].appendChild(V.Ve("<div>These profiles will be shown in the import section of the character planner, so you can quickly import them, without having to type the character name or select region and realm.</div>"))):e(Error("Unknown editable "+this.data[a].editable));new vd(a,this.data[a].data,this.vc[c]);this.vc[c].readOnly(g_settings.userId!=
this.userId);b.cells[c][1].appendChild(this.vc[c].b);this.vc[c].setData(this.data[a].data);c++}this.b.appendChild(b.b)}ia.prototype={data:{},vc:[],b:j,map:{},userId:0,wl:""};function vd(a,b,c){y.call(this,["change"],new t(this.De,this));this.key=a;this.data=b;this.bi=c;this.bi.w(this)}vd.prototype=new y([],j);n=vd.prototype;n.key="";n.data=j;n.bi=j;n.De=function(a){if(a.is("change")){var b={};b[this.key]=a.get("data");fa("api/user.php?"+Ha(b),new t(this.xm,this),[])}};
n.xm=function(a){try{var b=u(a);this.data=b==j?"":b}catch(c){o.C(c)}this.bi.setData(this.data)};function ma(a,b){this.parent=document.getElementById(a);this.sg=b;this.ll()}
ma.prototype={parent:"",sg:"",page:1,Ai:function(a){fa("api/icons.php?"+Ha({page:a}),new t(this.Ql,this),[]);o.qa()},Ql:function(a){try{var b=u(a),c=b[0],d=Math.ceil(b[1]/b[2]);this.page=b[3];var f=z("div",{"class":"ui_avatar_container"}),g=A(f,"a",{"class":"close ui_avatar_close",href:"javascript:;"});I(g,"click",o.enable,o,[]);var h=A(f,"div",{"class":"ui_avatar_img_container"}),k;for(k in c){var r=A(h,"a",{title:c[k],href:"javascript:;"});A(r,"img",{"class":"ui_avatar_preview_img",src:"/images/icons/large/"+
c[k]+".png"});I(r,"click",this.ym,this,[c[k]])}var v=A(f,"div",{"class":"ui_avatar_container_lf"}),s=A(f,"div",{"class":"ui_avatar_container_c"}),N=A(f,"div",{"class":"ui_avatar_container_rf"});if(1<this.page){var q=A(v,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",text:locale.previous});I(q,"click",this.Ai,this,[this.page-1])}A(s,"span",{text:this.page+" "+locale.of+" "+d});if(this.page<d){var da=A(N,"a",{href:"javascript:;","class":"button button_light ui_avatar_page_btn",
text:locale.next});I(da,"click",this.Ai,this,[this.page+1])}ad(f);A(f,"div",{"class":"tt_note",text:"Press Escape to return"});o.sd(f)}catch(Y){o.C(Y)}},ym:function(a){o.qa();fa("api/user.php?"+Ha({Avatar:a}),new t(this.Bm,this),[])},Bm:function(a){this.sg=u(a);this.ll();o.enable()},ll:function(){U(this.parent);var a=A(this.parent,"a",{href:"javascript:;"});I(a,"click",this.Ai,this,[0]);this.sg?A(a,"img",{"class":"ui_avatar_img",src:"/images/icons/large/"+this.sg+".png"}):A(a,"span",{text:"Select an avatar"})}};function wd(a,b,c,d){var f=0,g="",c=c-11;switch(c){case 20:f=Math.floor(100*(d/G[5][b-1]))/100;b=Math.floor(100*(d/G[7][b-1]))/100;g=(0<f?"m:"+M(f)+"%":"")+(0<b?(0<f?", ":"")+"s:"+M(b)+"%":"");break;case 27:a&&(f=a.f.Hd,b=d*(1+f/100),g=(0<f?Math.floor(b)+", ":"")+Nb(b/14)+" "+locale.dps2);break;default:if(10>=c)f=G[c][b-1];else switch(c){case 21:f=G[8][b-1];break;case 24:f=G[15][b-1];break;case 25:f=G[17][b-1];break;case 26:f=G[23][b-1];break;case 38:f=G[25][b-1]}b=0<f?Math.floor(100*(d/f))/100:0;
g=0<b?M(b)+"%":""}return"<span class='green'>"+locale.equip+": "+K(locale.imprStats[c],d)+(g?"<span class='tt_rating_percent'>("+g+")<span>":"")+"</span>"}function xd(a,b,c){return a&&(a=a.f.cj[b])?"+"+c+" "+locale.ItemStatNames[b]+"<span class='tt_stat_with_mods'>("+Math.floor(c*(1+a/100))+")</span>":"+"+c+" "+locale.ItemStatNames[b]}function ra(a,b){return yd(a,b,0)}
function yd(a,b,c){var d="",f,g,h="",k="",r,v="",s="",b=b?b:a.Uc;r=b!=j?b.e:Rc;a.Ti(r);for(f=0;f<a.f.length;f++)a.f[f]&&0!=a.f[f][1]&&(a.f[f]&&11<a.f[f][0]&&50>a.f[f][0]?k+=O(wd(b,r,a.f[f][0],a.f[f][1])):h+=O(xd(b,a.f[f][0],a.f[f][1])));-1<a.ca&&(11>=a.ca?h+=O("<div class='green'>"+xd(b,a.ca,a.fa)+"</div>"):k+=O("<div class='green'>"+wd(b,r,a.ca,a.fa)+"</div>"));for(f=0;f<a.G.length;f++)g=a.G[f],d=O(g.ga(b)),7==g.types[0]&&g.K[0]?s+=d:v+=d;g="<table cellpadding='0px' cellspacing='0px' class='tooltip_table tt_item'>"+
O("<div class='tooltip_title' style='color:"+ab[a.da]+"; white-space:nowrap;'>"+a.name+"</div>");a.xe&8&&(g+=O("<span class='green'>"+locale.Heroic+"</span>"));if(a.xe&134217728)g+=O(locale.boa);else switch(a.Zj){case 1:g+=O(locale.bop);break;case 2:g+=O(locale.boe);break;case 3:g+=O(locale.bou)}1==a.unique?g+=O(locale.Unique):1<a.unique&&(g+=O(K(locale.UniqueMultiple,a.unique)));a.ta&&a.ta.bh&&(g+=O(K(locale.RequiresItemLevel,a.ta.bh)));a.xe&524288&&(g+=O(locale.UniqueEquipped));a.Ok&&(g+=O(locale.This_Item_Begins_a_Quest));
if(a.hc)switch(a.Y){case 4:0!=a.ua&&(g=0==a.ua||0==a.W?g+O(locale.a_slot[a.ua]):a.ta==j?g+P(locale.a_slot[a.ua],"<span"+((b!=j?b.kg(a):1)?"":" class='red'")+">"+a.hc[0]+"</span>"):g+O(a.hc[0]));break;case 2:g+=P(locale.a_slot[a.ua],a.hc[0]);break;case 1:g+=O(a.hc[0])}-1!=a.oa&&(g+=O("<span class='green'>"+locale.Reforged+"</span><span class='tooltip_reforge_info'>: "+a.fa+" "+locale.ItemStatNames[a.oa]+" \u21e8 "+a.fa+" "+locale.ItemStatNames[a.ca]+"</span>"));24==a.ua?g+=O(K(locale.Adds,Fb(a))):
a.vb&&(g+=P(Math.floor(a.Dc)+" - "+Math.ceil(a.Cc)+" "+locale.damage,locale.Speed+" "+Gb(a)),g+=O("("+K(locale.dps,Math.floor(10*a.vb)/10+(0==Math.floor(10*a.vb)%10?".0":""))+")"));0<a.Hb&&(g+=O(K(locale.armor,a.Hb)));g+=h;if(a.Oa)if(a.Q!=j)for(f=0;f<a.Q.G.length;f++)(d=a.Q.G[f])&&(g+=O(d.description));else g+=O("<span class='green'>&lt;"+locale.RandomEnchantment+"&gt;</span>");g+=v;for(f=0;3>f;f++)a.I[f]!=j?g+=O("<div class='tooltip_gem' style='background-image:url(/images/icons/gem/"+a.I[f].q+".png);'>"+
a.I[f].ta.Jb.ga(b)+"</div>"):a.U[f]&&(g=14==a.U[f]?g+O("<div class='tooltip_socket_empty' style='background-image:url(/images/socket_prismatic.png);'>"+locale.PrismaticSocket+"</div>"):g+O("<div class='tooltip_socket_empty' style='background-image:url(/images/socket_"+Math.log(a.U[f])/Math.log(2)+".png);'>"+locale.a_socket[Math.log(a.U[f])/Math.log(2)]+"</div>"));a.td&&(g+=O("<span class='"+(a.qi()?"green":"grey")+"'>"+locale.socketBonus+": "+a.td.description+"</span>"));a.ta&&(g+=O(a.ta.Jb.description));
a.ug&&(g+=O(locale.Durability+": "+a.ug+"/"+a.ug));if(0!=a.sc&&1535!=(a.sc&1535)&&0<a.sc){v=d="";for(f=0;11>f;f++)0!=(a.sc&1<<f)&&(d+=(d?", ":"")+locale.a_class[f],v+=(v?", ":"")+"<span class='character_class_"+(f+1)+"'>"+locale.a_class[f]+"</span>");d&&(g=b!=j&&!b.vg(a)?g+O("<span class='red'>"+locale.Classes+": "+d+"</span>"):g+O(locale.Classes+": "+v))}if(a.Cb||7==a.da)g=a.Wb?g+O(J(locale.RequiredLevelScaling,[Math.max(1,a.Wb[20]),a.Wb[21],Math.min(a.Wb[21],r)])):g+O("<span class='"+(r>=a.Cb?"":
"red")+"'>"+K(locale.reqLevel,a.Cb)+"</span>");a.yo&&(g+=O("<span class='red'>"+locale.req+" "+a.xo+" ("+a.pe+")</span>"));a.Ao&&(g+=O("<span class='red'>"+locale.req+" "+a.zo+"</span>"));a.Sk&&(g+=O("<span class='red' style='white-space:nowrap'>"+locale.req+" "+a.Tk+" - "+locale.a_reputation[a.Uk]+"</span>"));if(a.e&&(2==a.Y||4==a.Y))g+=O(K(locale.itemLevel,a.e));g+=k;for(f=0;5>f;f++)if(a.K[f]!=j&&(d=a.K[f].Lb(b),r=k="",d)){switch(a.aj[f]){case 0:r=locale.use;0<a.Xi[f]&&(k="("+Ob(a.Xi[f]/1E3)+" "+
locale.Cooldown+")");break;case 1:r=locale.equip;break;case 2:r=locale.hit}g+=O("<span class='green'>"+r+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.K[f].id+"'>")+d.join("<br/>")+" "+(g_settings.isPlanner?"":"</a>")+k+"</span>")}g+=s;if(a.ta!=j&&a.ta.Jb.uc)for(f=0;5>f;f++){s="#888888";if(a.ta.Jb.Ak(f,b!=j?b.u.xc:j))s="#FFFFFF";d=a.ta.Jb.uc;k=d[1][f]?d[1][f]:0;r=d[3][f]?d[3][f]:0;v=d[4][f]?d[4][f]:0;switch(d[2][f]?d[2][f]:0){case 0:0!=v&&(g+=O("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v?J(locale.Meta_RequiresExactlyPl,[v,locale.Meta_Category[k]]):K(locale.Meta_RequiresExactly,locale.Meta_Category[k]))+"</div>"));break;case 2:g+=O("<div class='tt_meta_condition' style='color:"+s+"'>"+J(locale.Meta_RequiresMore,[locale.Meta_Category[r],locale.Meta_Category[k]])+"</div>");break;case 3:g=0==v?g+O("<div class='tt_meta_condition' style='color:"+s+"'>"+J(locale.Meta_RequiresMore,[locale.Meta_Category[k],locale.Meta_Category[r]])+"</div>"):g+O("<div class='tt_meta_condition' style='color:"+
s+"'>"+(1<v+1?J(locale.Meta_RequiresAtLeastPl,[v+1,locale.Meta_Category[k]]):K(locale.Meta_RequiresAtLeast,locale.Meta_Category[k]))+NaN);break;case 5:0<k&&(g+=O("<div class='tt_meta_condition' style='color:"+s+"'>"+(1<v?J(locale.Meta_RequiresAtLeastPl,[v,locale.Meta_Category[k]]):K(locale.Meta_RequiresAtLeast,locale.Meta_Category[k]))+"</div>"))}}a.description&&(g+=O("<span style='color:#DDDD00'>\""+a.description+'"</span>'));if(1!=(c&1)){if(a.ia!=j){s=a.ia.On;c=0;k=[];if(b!=j)for(f=0;f<Kc;f++)if(d=
b.ma(f,0),d!=j&&d.ia!=j&&d.ia.id==a.ia.id){for(r=0;r<s;r++)a.ia.j[r]&&a.ia.j[r][0]==d.ua&&(k[r]=d.name);c++}g+=O("<div class='tooltip_set_name'>"+a.ia.name+" ("+c+"/"+s+")</div>");for(f=0;f<s;f++)g+=O("<span class='"+(k[f]?"tooltip_set_item_active":"tooltip_set_item_inactive")+"'>"+(k[f]?k[f]:a.ia.j[f]&&a.ia.j[f][1]?a.ia.j[f][1]:locale.Unknown)+"</span>");g+=O("<div class='tooltip_set_bonus_spacing'></div>");for(f=0;8>f;f++)(s=a.ia.Oi[f])&&(g+=O("<div class='"+(c>=s?"tooltip_set_bonus_active":"tooltip_set_bonus_inactive")+
"'>("+s+") "+locale.Set+": "+(g_settings.isPlanner?"":"<a class='tooltip_spell_desc_link' href='?spell="+a.ia.Ld[f].id+"'>")+a.ia.Ld[f].Lb(b).join("<br />")+(g_settings.isPlanner?"":"</a>")+"</div>"))}0<a.Pi&&(b=a.Pi,f="<span class='tooltip_sell_price'>",1E4<b&&(f+=Math.floor(b/1E4)+"<img alt='g' class='tooltip_coint' align='center' src='/images/tooltip/UI-GoldIcon.png' />",b%=1E4),100<b&&(f+=Math.floor(b/100)+"<img alt='s' class='tooltip_coint' align='center' src='/images/tooltip/UI-SilverIcon.png' />",
b%=100),b&&(f+=b+"<img alt='c' class='tooltip_coint' align='center' src='/images/tooltip/UI-CopperIcon.png' />"),g+=O(K(locale.SellPrice,f+"</span>")));g_settings.isPlanner==i&&a.Oa!=j&&(g+=O("<span style='white-space: normal; color:#808080; font-size:11px'>See Enchants to change the random enchantment</span>"))}return g+"</table>"};function Ca(a,b,c,d){a.ea(b!=j?b.e:85);var f="<table cellpadding = 0 cellspacing = 0 style='vertical-align: top'>",g="",h="",k="";if(!c||0==(c&1))f+=O("<span class='tooltip_title'>"+a.name+"</span>");h="";a.md&&5==a.Wd?(a.md[0]&&(h+=a.md[0]+" "+locale.Blood),a.md[1]&&(h+=(h?", ":"")+a.md[1]+" "+locale.Unholy),a.md[2]&&(h+=(h?", ":"")+a.md[2]+" "+locale.Frost)):a.Xc&&(g=1==a.Wd||6==a.Wd?a.Xc[0]/10:a.Xc[0],b!=j?(g=Math.max(Jb(g,2),Math.floor(a.Xc[1]*b.f.hg/100)),0<g&&(h=g+" "+locale.energy2[a.Wd])):
0<g?h=g+" "+locale.energy2[a.Wd]:0<a.Xc[1]&&(h=Jb(a.Xc[1],2)+"% "+locale.ofBaseMana));h=h?"<span style='white-space:nowrap'>"+h+"</span>":"";k="";a.Pa!=j&&0<a.Pa[1]&&(k=0<a.Pa[3]&&(a.Pa[1]!=a.Pa[3]||a.Pa[0]!=a.Pa[2])?K(locale.RangeEnemy,Mb(a.Pa[0],a.Pa[1]))+"<br />"+K(locale.RangeFriendly,Mb(a.Pa[2],a.Pa[3])):Mb(a.Pa[0],a.Pa[1]));if(h&&k)f+=P(h,k);else if(h||k)f+=O(h?h:k);g=a.Vi;k="";a.Vi&&(k=Ob(g)+" "+locale.cooldown);h="";if(0<a.Pe||k)h="<span style='white-space:nowrap'>"+(0<a.Pe?K(locale.cast,
Math.ceil(Math.pow(10,2)*(a.Pe/1E3))/Math.pow(10,2)):locale.instantCast)+"</span>";k?f+=P(h,k):h&&(f+=O(h));if(c&1)for(c=0;c<d.length;c++)f+=O("<span class='tooltip_talents_required'>"+d[c]+"</span");f+=O("<span class='tooltip_spell_description'>"+a.Lb(b).join("<br />")+"</span>");return f+"</table>"};function pa(){this.Xd=document.createElement("div");this.Xd.className="tt_msg_c"}
pa.prototype={v:j,content:j,hb:j,disabled:l,ei:l,Xd:j,x:0,y:0,Sf:j,gb:l,Dg:l,Po:ba("Dg"),So:function(a){this.content=document.createElement("div");this.v=document.createElement("div");this.v.className="tooltip_div";var b=new W(3,3);b.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";b.cells[0][1].className="tt_bg_t";b.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";b.cells[1][0].className="tt_bg_l";b.cells[1][1].appendChild(this.content);this.content.className="tt_bg";b.cells[1][2].className=
"tt_bg_r";b.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";b.cells[2][1].className="tt_bg_b";b.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Sf=b;this.v.appendChild(b.b);a.appendChild(this.v)},Yl:function(){this.content=document.createElement("div");this.v=document.createElement("div");this.v.className="tooltip_div";var a=new W(3,3);a.cells[0][0].innerHTML="<div class='tt_bg_lt'></div>";a.cells[0][1].className="tt_bg_t";a.cells[0][2].innerHTML="<div class='tt_bg_rt'></div>";a.cells[1][0].className=
"tt_bg_l";a.cells[1][1].appendChild(this.content);this.content.className="tt_bg";a.cells[1][2].className="tt_bg_r";a.cells[2][0].innerHTML="<div class='tt_bg_lb'></div>";a.cells[2][1].className="tt_bg_b";a.cells[2][2].innerHTML="<div class='tt_bg_rb'></div>";this.Sf=a;this.v.appendChild(a.b);document.body.appendChild(this.v)},Ge:function(a){this.v==j&&this.Yl();this.v.style.width="";this.v.style.whiteSpace="nowrap";this.content.innerHTML=a;this.v.style.display="block";350<this.Sf.b.offsetWidth?this.Gh(350):
this.v.style.width=this.Sf.b.offsetWidth+"px"},Gh:function(a){this.v.style.whiteSpace="normal";this.v.style.width=a+"px";this.v.firstChild.offsetWidth>a&&(this.v.style.width=this.v.firstChild.offsetWidth+"px")},uj:function(a,b){var c=Pb(),d=Math.max(document.documentElement.scrollTop,document.body.scrollTop);this.v&&(b+this.v.offsetHeight+24>c[1]+d&&(b=c[1]+d-this.v.offsetHeight-24),a+this.v.offsetWidth>document.body.scrollLeft+document.body.offsetWidth&&(a-=this.v.offsetWidth+20));return[Math.max(0,
a),Math.max(0,b)]},zh:function(a){for(var b=0,c=0,d=a.offsetWidth,f=a.offsetHeight;a!=j;)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return[b,c,d,f]},Rl:function(a){var b=a.scrollHeight,c=Pb(),d=document.body.scrollTop;a.style.marginLeft=Math.max(0,document.body.scrollLeft+(c[0]/2-a.scrollWidth/2))+"px";a.style.marginTop=Math.max(0,d+(c[1]/3-b/2))+"px"},am:function(){this.hb==j&&(this.hb=document.getElementById("tt_overlay"));var a=Pb();this.hb.style.width=Math.max(a[0],document.body.scrollWidth)+
"px";this.hb.style.height=Math.max(a[1],document.body.scrollHeight)+"px";this.hb.style.display="block";this.disabled=i;this.hb.onclick=j},move:function(){var a=this.uj(this.x+10,this.y+10);this.v&&(this.v.style.left=a[0]+"px",this.v.style.top=a[1]+"px")},En:function(a){a||(a=window.event);document.all&&document.getElementById?(this.x=a.clientX+document.documentElement.scrollLeft,this.y=a.clientY+document.documentElement.scrollTop):(this.x=a.pageX,this.y=a.pageY)},Cn:function(a){this.disabled&&(27==
a.keyCode?this.enable():13==a.keyCode&&(a.preventDefault(),this.enable()));17==a.keyCode&&(this.gb=i)},Dn:function(a){17==a.keyCode&&(this.gb=l)},Ze:function(){I(document,"mousemove",o.En,o,j);I(document,"keydown",o.Cn,o,j);I(document,"keyup",o.Dn,o,j)},ol:function(a,b){if(this.gb&&this.Dg)this.gb=l;else{var c=this.zh(b);this.Ge(a);c=this.uj(c[0]+c[2]+10,c[1]);this.v.style.left=c[0]+"px";this.v.style.top=c[1]+"px"}},hide:function(){this.v!=j&&(this.v.style.display="none")},sd:function(a){this.am();
x(this.hb,a);this.Rl(a)},ml:function(a){a+='<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>';this.sd(A(z("div",{"class":"tt_msg_c"}),"div",{text:a,"class":"tt_msg"}));this.hb.onclick=function(){o.enable()}},enable:function(){this.hb&&(U(this.hb),this.hb.style.display="none");this.ei=this.disabled=l},C:function(a){if(a instanceof Error||a instanceof Ka)a=a.message;var b='<div class="tt_error_msg"><div class="tt_error_msg_title">Error:</div>';if("object"===typeof a){for(var c in a)b+=
'<div class="tt_error_msg_content">'+a[c]+"</div>";b+="</div>"}else b+='<div class="tt_error_msg_content">'+a+"</div>";b+="</div>";this.ei?this.Xd.innerHTML=b+"<br />"+this.Xd.innerHTML:(this.ei=i,this.Xd.innerHTML=b+'<br /><span class="tt_close_notice">Left click or hit escape to continue.</span>');this.sd(this.Xd);this.hb.onclick=function(){o.enable()}},qa:function(){var a=document.createElement("div");a.className="tt_loading";a.innerHTML="Loading";this.sd(a)},pl:function(a,b){this.Ge(a+"</table>");
var c=this.zh(b);this.v.style.left=c[0]+c[2]+"px";this.v.style.top=c[1]+"px";300<this.v.offsetWidth&&this.Gh(300)},rl:function(a,b,c,d,f){f=this.zh(f);this.Ge(a);this.Gh(250);this.v.style.left=1==b&&1<d||2==b?f[0]-this.v.offsetWidth-10+"px":f[0]+f[2]+10+"px";this.v.style.top=5<c?f[1]+f[3]-this.v.offsetHeight+"px":f[1]+"px"},nb:function(a){this.gb&&this.Dg?this.gb=l:(this.Ge(a),this.move())},show:function(a){this.gb&&this.Dg?this.gb=l:this.Ge(a)}};var o=new pa;o.Po(i);window.__tooltip_init=o.Ze;
window.g_moveTooltip=function(){o.move.call(o)};window.g_hideTooltip=function(){o.hide.call(o)};window.Tooltip||(window.Tooltip={showError:o.C,showLoading:o.qa});function zd(a,b,c){var d=a.f,f="";switch(b){case 0:f+=O("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+Math.floor(d.fb[c])+"</span>");switch(c){case 0:f+=O(locale.TT_StatText.Health);break;case 1:f+=O(locale.TT_StatText.Mana);break;case 2:f+=O(locale.TT_StatText.Rage);break;case 3:f+=O(locale.TT_StatText.Energy);break;case 4:f+=O(locale.TT_StatText.Focus);break;case 5:f+=O(locale.TT_StatText.RunicPower);break;case 6:f+=O(locale.TT_StatText.ItemLevel)}break;case 1:var g=Math.floor(d.Kd[c]),
h=Math.floor(d.attributes[c]),k=h-g,r=Math.floor(d.cg[c]),v=Math.floor(d.th[c]),s=Math.round(100*d.Sd[c])/100,N=Math.round(100*d.Df[c])/100,f=f+O("<span class='tt_stat_title'>"+locale.CS_Stats[b][c]+" "+h+(0<k?" ("+g+"+<span class='green'>"+k+"</span>)":"")+"</span>");(3==c||4==c)&&!a.vk()?f+=O("<span class='tt_stat_no_benefit'>"+locale.TT_StatText.NoBenefit+"</span>"):(a="",2==c?a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesHealth,Math.floor(d.Cg)):3==c?a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesMana,
Math.floor(d.Kg)):4==c&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesManaRegen,Math.floor(d.Lg))),0<r&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesAP,r)),0<v&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesSP,v)),0<s&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesCrit,M(s))),0<N&&(a+=(a?"<br />":"")+K(locale.TT_StatText.IncreasesSpellCrit,M(N))),a&&(f+=O(a)));break;case 2:switch(c){case 0:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=P(locale.TT_StatText.AttackSpeed,
L(d.Za/1E3,2));f+=P(locale.TT_StatText.Damage,Math.floor(d.Ma)+" - "+Math.ceil(d.La));f+=P(locale.TT_StatText.DamagePerSecond,L(d.ui,1));0<d.yb&&(f+=O("<div style='padding:5px'></div>"),f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.OffHand+"</span>"),f+=P(locale.TT_StatText.AttackSpeed,L(d.yb/1E3,2)),f+=P(locale.TT_StatText.Damage,Math.floor(d.ab)+" - "+Math.ceil(d.$a)),f+=P(locale.TT_StatText.DamagePerSecond,L(d.wi,1)));break;case 1:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+
"</span>");break;case 2:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.MeleeAp,Math.floor(d.pa)+(0<Math.floor(d.rc)?" ("+(Math.floor(d.pa)-Math.floor(d.rc))+"<span class='green'>+"+Math.floor(d.rc)+"</span>)":""))+"</span>");f+=O(K(locale.TT_StatText.IncreasesMeleeDamage,L(d.pa/14,1)));break;case 3:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.AttackSpeed,L(d.O[3][0]/1E3,2)+(d.O[3][1]!=j?" / "+L(d.O[3][1]/1E3,2):""))+"</span>");break;case 4:f+=O("<span class='tt_stat_title'>"+
K(locale.TT_StatTitle.Haste,M(d.O[4]))+"</span>");f+=O(locale.TT_StatText.IncreasesAttackSpeed);f+=O(J(locale.TT_StatText.IncreasesHaste,[d.df,M(d.df/G[17][a.e-1])]));break;case 5:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.HitChance,L(d.O[5],2))+"</span>");f+=O(J(locale.TT_StatText.HitRating,[Math.floor(d.Ob[1]),L(d.Ob[1]/G[5][a.e-1],2)]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";if(0<d.yb){c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_NormalAttacks+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,nb[b]-d.O[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Ad(nb[3],d.O[5],G[5][a.e-1])+"</td></tr>";c+="<tr><td class='tt_miss_g' colspan='2'>"+locale.TT_SpecialAttacks+"</td></tr>"}for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+
(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,mb[b]-d.O[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Ad(mb[3],d.O[5],G[5][a.e-1])+"</td></tr>";f+=O(c+"</table>");break;case 6:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.CritChance,M(d.O[6]))+"</span>");f+=O(locale.TT_StatText.ExtraDamage);f+=O(J(locale.TT_StatText.CritRating,[Math.floor(d.Nb[1]),M(d.Nb[1]/G[8][a.e-1])]));break;case 7:r=0.25*d.O[7][0];v=d.O[7][1]==j?j:0.25*d.O[7][1];s=G[23][a.e-1]/0.25;f+=O("<span class='tt_stat_title'>"+
locale.CS_Stats[b][c]+" "+d.O[7][0]+(v!=j?" / "+d.O[7][1]:"")+"</span>");f+=O(K(locale.TT_StatText.ReduceDodgeParry,M(r)+"%"+(v!=j?"/"+M(v)+"%":"")));f+=O(J(locale.TT_StatText.ExpertiseRating,[Math.floor(d.Kb[1]),Math.floor(d.Kb[1]/G[23][a.e-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup>"+("<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_DodgeChance+"</td></tr>");
c+=Bd(a.e,rb,r,v);c+="<tr><td colspan='2'>"+Ad(rb[3],r,s)+"</td></tr>";c+="<tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_ParryChance+"</td></tr>";c+=Bd(a.e,qb,r,v);c+="<tr><td colspan='2'>"+Ad(qb[3],r,s)+"</td></tr>";f+=O(c+"</table>");break;case 8:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Mastery,M(d.O[8]))+"</span>"),f+=O(J(locale.TT_StatText.MasteryRating,[Math.floor(d.xb),M(d.xb/G[25][a.e-1])]))}break;case 3:switch(c){case 0:f+=
O("<span class='tt_stat_title'>"+locale.TT_StatTitle.MainHand+"</span>");f+=P(locale.TT_StatText.AttackSpeed,M(d.jc/1E3));f+=P(locale.TT_StatText.Damage,Math.floor(d.nf)+" - "+Math.ceil(d.mf));f+=P(locale.TT_StatText.DamagePerSecond,Nb(d.Ug));break;case 1:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.Dps+"</span>");break;case 2:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.RangedAp,Math.floor(d.jb))+"</span>");f+=O(K(locale.TT_StatText.IncreasesRangedDamage,Nb(d.jb/14)));break;
case 3:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.AttackSpeed,M(d.ka[3]/1E3))+"</span>");break;case 4:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Haste,M(d.ka[4]))+"</span>");f+=O(locale.TT_StatText.IncreasesAttackSpeedAndFocus);f+=O(J(locale.TT_StatText.IncreasesHaste,[d.sf,M(d.sf/G[18][a.e-1])]));break;case 5:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.HitChance,M(d.ka[5]))+"</span>");f+=O(J(locale.TT_StatText.HitRating,[Math.floor(d.tf),M(d.tf/G[6][a.e-
1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,pb[b]-d.ka[5]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Ad(pb[3],d.ka[5],G[6][a.e-1])+"</td></tr>";f+=O(c+"</table>");break;case 6:f+=O("<span class='tt_stat_title'>"+
K(locale.TT_StatTitle.CritChance,M(d.ka[6]))+"</span>");f+=O(locale.TT_StatText.ExtraDamage);f+=O(J(locale.TT_StatText.CritRating,[Math.floor(d.rf),M(d.rf/G[9][a.e-1])]));break;case 7:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Mastery,M(d.ka[7]))+"</span>"),f+=O(J(locale.TT_StatText.MasteryRating,[Math.floor(d.xb),M(d.xb/G[25][a.e-1])]))}break;case 4:switch(c){case 0:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.SpellPower,Math.floor(d.k[0]))+"</span>");f+=O(locale.TT_StatText.IncreasesDamageAndHealing);
break;case 1:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Haste,M(d.k[1]))+"</span>");f+=O(locale.TT_StatText.IncreasesSpellCasting);f+=O(J(locale.TT_StatText.IncreasesHaste,[d.Ff,M(d.Ff/G[19][a.e-1])]));break;case 2:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.HitChance,M(d.k[2]))+"</span>");f+=O(J(locale.TT_StatText.HitRating,[Math.floor(d.Gf),M(d.Gf/G[7][a.e-1])]));c="<table class='tt_miss_table' cellpadding='0' cellspacing='0'><colgroup><col width='50%' /><col width='50%' /></colgroup><tr><td class='tt_miss_title_l'>"+
locale.TT_TargetLevel+"</td><td class='tt_miss_title_r'>"+locale.TT_MissChance+"</td></tr>";for(b=0;4>b;b++)c+="<tr><td class='tt_miss_level'>"+(a.e+b)+"</td><td class='tt_miss'>"+M(Math.max(0,ob[b]-d.k[2]))+"%</td></tr>";c+="<tr><td colspan='2'>"+Ad(ob[3],d.k[2],G[7][a.e-1])+"</td></tr>";f+=O(c+"</table>");break;case 4:f+=O("<span class='tt_stat_title'>"+locale.TT_StatTitle.ManaRegen+"</span>");f+=O(K(locale.TT_StatText.ManaRegen,Math.floor(d.k[4])));break;case 5:f+=O("<span class='tt_stat_title'>"+
locale.TT_StatTitle.CombatRegen+"</span>");f+=O(K(locale.TT_StatText.CombatRegen,Math.floor(d.k[5])));break;case 6:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.CritChance,M(d.k[6]))+"</span>");f+=O(J(locale.TT_StatText.CritRating,[Math.floor(d.Ef),M(d.Ef/G[10][a.e-1])]));break;case 7:f+=O("<span class='tt_stat_title'>"+K(locale.TT_StatTitle.Mastery,M(d.k[7]))+"</span>"),f+=O(J(locale.TT_StatText.MasteryRating,[Math.floor(d.xb),M(d.xb/G[25][a.e-1])]))}break;case 5:f+=O("<span class='tt_stat_title'>"+
K(locale.TT_StatTitle_Defense[c],4==c||0==c?d.la[c]:M(d.la[c]))+"</span>");switch(c){case 0:f+=O(K(locale.TT_StatText.ReducesPhysical,M(100*(81<=a.e?d.la[0]/(d.la[0]+2167.5*a.e-158167.5):60<=a.e?d.la[0]/(d.la[0]+467.5*a.e-22167.5):d.la[0]/(d.la[0]+85*a.e+400)))));break;case 1:f+=O(J(locale.TT_StatText.DodgeRating,[d.A[2],M(d.A[2]/G[2][a.e-1])]));break;case 2:f+=O(J(locale.TT_StatText.ParryRating,[d.ld,M(d.ld/G[3][a.e-1])]));break;case 3:f+=O(J(locale.TT_StatText.BlockRating,[d.A[4],M(d.A[4]/G[4][a.e-
1])]));break;case 4:f+=O(K(locale.TT_StatText.Resilience,M(100*d.Fo)));break;case 5:f+=O(J(locale.TT_StatText.Avoidance,[M(d.ef),M(d.Yc),M(d.me)]))}break;case 6:f+=O("<span class='tt_stat_title'>"+K(locale.TT_ResistanceTitle[c],d.Ub[c])+"</span>"),f+=O(K(locale.TT_Resistance[c],0))}f&&(f="<table style='line-height:125%' class='tt_stat_text'>"+f+"</table>");return f}
function Ad(a,b,c){a=Math.floor((a-b)*c);return 0!=a?0<a?"<div class='tt_hit_cap'>"+K(locale.TillCap,a)+"</div>":"<div class='tt_hit_cap'>"+K(locale.OverCap,Math.abs(a))+"</div>":""}function Bd(a,b,c,d){var f,g="";for(f=0;4>f;f++)g+="<tr><td class='tt_miss_level'>"+(a+f)+"</td><td class='tt_miss'>"+M(Math.max(0,b[f]-c))+(d!=j?"/"+M(Math.max(0,b[f]-d)):"")+"%</td></tr>";return g};function Cd(a,b,c,d){var b=a.l[b][c][d],f=b.rk(),c=b.sn(),d=[],g="<table cellpadding='0px' cellspacing='0px'>";f!=j?(g+=O("<span class='tooltip_talent_name'>"+f.name+"</span>"),g+=O("<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.R+"/"+b.Bb+"</span>"),g+=O(Ca(f,j,1,[])),c!=j&&(g+=O("<div class='tooltip_talent_next_rank'>"+locale.Nextrank+"</div>"))):g+=P("<span class='tooltip_talent_name'>"+c.name+"</span>","<span class='tooltip_talent_rank'>"+locale.Rank+" "+b.R+"/"+b.Bb+"</span>");if(c!=
j){for(f=0;3>f;f++){var h=b.Db[f];h&&h.R!=h.Bb&&(d[d.length]=1<h.Bb?J(locale.requires_points_in,[h.Bb,h.getName()]):K(locale.requires_point_in,h.getName()))}f=a.ib;a.sa[b.hj]<b.xf*f&&(d[d.length]=J(locale.requires_points_in_tree,[b.xf*f,a.$b[b.hj]]));g+=Ca(c,j,1,[])}return g+"</table>"};function Dd(){this.b=z("div",{"class":"bb_p"});this.c=new D;this.c.g("remove_buff",["id"]);this.c.g("add_stack",["id"])}
Dd.prototype={c:j,b:j,update:function(a){U(this.b);for(var b in a)this.Cm(a[b])},Cm:function(a){var b=A(this.b,"div",{"class":"bb_buff",backgroundImage:"/images/icons/small/"+a.q+".png"});I(b,"contextmenu",this.Dh,this,[a.id]);I(b,"click",this.Bd,this,[a.id]);b.oncontextmenu=m(l);b.onmouseout=function(){o.hide()};b.onmousemove=function(){o.move()};a.vd&&b.appendChild(Ub(a.Pf.Sa));var c=a.ga(),c=a.vd?1<a.Pf.Sa?c+"<div class='tt_note'>Left click to increase and right click to decrease the stack</div>":
c+"<div class='tt_note'>Left click to increase the stack and right click to remove the Buff</div>":c+"<div class='tt_note'>Right click to remove the Buff</div>";I(b,"mouseover",o.nb,o,[c])},Dh:function(a){this.c.fire("remove_buff",{id:a})},Bd:function(a){this.c.fire("add_stack",{id:a})}};function bd(){this.c=new D;this.c.g("race_select",["race_id"]);this.c.g("class_select",["class_id"]);this.c.g("level_select",["level"]);this.c.g("profession_select",["index","id"]);this.c.g("profession_level_select",["index","level"]);this.c.g("stat_tooltip_show",["group","index","node"]);this.c.g("stat_tooltip_hide",["group","index","node"]);this.c.g("item_right_click",["slot","index"]);this.c.g("item_left_click",["slot","index"]);this.c.g("item_tooltip_show",["slot","index"]);this.c.g("item_tooltip_hide",
["slot","index"]);this.c.g("remove_buff",["id"]);this.c.g("add_stack",["id"]);this.c.g("select_shape",["shape_id"]);this.c.g("select_presence",["presence_id"]);var a,b,c,d,f;this.Di=new Ed(this);this.Af=new Fd;this.Af.ba("select_shape",this.c);this.jf=new Gd;this.jf.Qm("select_presence",this.c);this.Ne=new Dd;this.Ne.c.ba("remove_buff",this.c);this.Ne.c.ba("add_stack",this.c);this.b=document.createElement("div");c=document.createElement("div");c.className="cs_level_parent";this.e=document.createElement("select");
this.e.className="single_select";c.appendChild(this.e);I(this.e,"change",this.mm,this,j);a=document.createElement("div");a.className="cs_t";a.appendChild(this.Di.b);a.appendChild(this.Ne.b);a.appendChild(c);Rb(a);a.appendChild(this.Af.b);a.appendChild(this.jf.b);this.b.appendChild(a);a=new W(1,2);a.nh(cd);a.b.className="cs_m_grid";a.cols[0].width="180px";a.cols[1].width="160px";c=document.createElement("div");c.className="cs_m_grid_t";c.appendChild(a.b);f=A(c,"div",{"class":"cs_prof_p"});this.b.appendChild(c);
c=document.createElement("div");c.className="cs_m_grid_sl";d=new W(8,2);this.Ra=[];for(b=0;19>b;b++)this.Ra[b]=new Hd(this,b);for(b=0;8>b;b++)d.cells[b][0].appendChild(this.Ra[b].b),d.cells[b][1].appendChild(this.Ra[b+8].b);c.appendChild(d.b);b=new W(1,3);c.appendChild(b.b);b.cells[0][0].appendChild(this.Ra[16].b);b.cells[0][1].appendChild(this.Ra[17].b);b.cells[0][2].appendChild(this.Ra[18].b);b.b.className="cs_w_grid";a.cells[0][0].appendChild(c);this.f=[];this.ra=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ra[b]=
new Id;6==b&&this.ra[b].toggle();this.f[b]=[];for(c=0;c<locale.CS_Stats[b].length;c++)d=new Jd(b,c),d.ba("stat_tooltip_show",this.c),d.ba("stat_tooltip_hide",this.c),this.f[b][c]=d,this.ra[b].content.appendChild(this.f[b][c].b);this.ra[b].b.className="cs_st_p";this.ra[b].content.className="cs_st_c";c=A(this.ra[b].wa,"div",{"class":"stat_title_p"});A(c,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});a.cells[0][1].appendChild(this.ra[b].b)}this.lf=new W(2,2);this.lf.b.className=
"cs_prof_grid";this.Hc=[j,j];this.Tb=[j,j];this.Pl();for(b=0;2>b;b++)this.lf.cells[b][0].appendChild(this.Hc[b].b),this.lf.cells[b][1].appendChild(this.Tb[b].b);A(f,"div",{"class":"cs_prof_title",text:locale.Professions});f.appendChild(this.lf.b);this.Ra[18].Ui(l);this.ql(-1)}var Kd={1:24,2:8,3:52,4:56,5:44,6:24,7:40,8:44,9:44,11:8};
bd.prototype={c:j,b:j,character:j,Ne:j,Ra:[],f:[],hh:-1,ra:[],e:j,Af:j,jf:j,lf:j,Hc:[],Tb:[],w:function(a){this.c.w(a)},lb:function(a){this.c.lb(a)},Pl:function(){for(var a,b,c=0;2>c;c++){a=[[0,""]];for(b=0;b<$a.length;b++){var d=$a[b];a.push([d,locale.PrimaryProfessions[d]])}this.Hc[c]=new Ld([]);this.Hc[c].b.className="single_select cs_prof_sel";I(this.Hc[c].b,"change",this.nm,this,[c]);this.Tb[c]=new Ld([]);this.Tb[c].b.className="single_select cs_prof_level_sel";I(this.Tb[c].b,"change",this.om,
this,[c])}},nm:function(a){this.c.fire("profession_select",{index:a,id:parseInt(this.Hc[a].ha(),10)})},om:function(a){this.c.fire("profession_level_select",{index:a,level:parseInt(this.Tb[a].ha(),10)})},mm:function(){this.c.fire("level_select",{level:parseInt(this.e.options[this.e.selectedIndex].value,10)})},Mf:function(a){for(var b=0;b<this.e.options.length;b++)if(parseInt(this.e.options[b].value,10)==a){this.e.options[b].selected="true";break}},jp:function(a,b){var c;Sb(this.e);for(var d=a;d<=b;d++)c=
document.createElement("option"),c.value=d,c.innerHTML=d,this.e.appendChild(c)},ql:function(a){var b=0;0<a&&Kd[a]&&(b=Kd[a]);b|=64;for(a=0;a<this.ra.length;a++)0!=(1<<a&b)?this.ra[a].collapse():this.ra[a].expand()},Nf:function(a,b){for(var c,d,f,g=0;2>g;g++){var h=a[g];c=[[0,""]];for(d=0;d<$a.length;d++)f=$a[d],0>Xb($a[d],b)||0==g&&a[1]!=j&&a[1].id==f||1==g&&a[0]!=j&&a[0].id==f||c.push([f,locale.PrimaryProfessions[f]]);this.Hc[g].set(c);if(h!=j){this.Hc[g].select(h.id.toString());this.Tb[g].b.style.display=
"block";f=Yb(h.id,b);c=[];for(d=1;d<=f;d++)c.push([d,d]);this.Tb[g].set(c);this.Tb[g].select(h.e.toString())}else this.Tb[g].b.style.display="none"}},Io:function(a){-1!=a&&this.Ra[a].select();-1!=this.hh&&this.hh!=a&&this.Ra[this.hh].dn();this.hh=a},Ko:function(a){this.c.fire("class_select",{class_id:a})},Lo:function(a){this.c.fire("race_select",{race_id:a})},wk:function(a,b){this.Ra[a].gb(b)}};function Md(a,b){this.id=a;this.e=b}Md.prototype={id:0,e:0};function Hd(a,b){var c;this.Ha=a;this.b=document.createElement("div");this.Aa=[];this.r=b;this.b.className="cs_is_p  cs_is_p_"+(8>b?0:16>b?1:2);for(c=0;4>c;c++)this.Aa[c]=document.createElement("img"),this.Aa[c].className=0==c?"cs_is_img_large":"cs_is_img_small";this.Ka=new Nd(2);this.Ka.i[0].className="cs_is_ip cs_is_ip_"+(8>b?0:16>b?1:2);this.Ka.i[0].appendChild(this.Aa[0]);this.Ka.i[1].className="character_sheet_item_highlight";this.Ka.i[1].oncontextmenu=m(l);this.b.appendChild(this.Ka.i[0]);I(this.Ka.i[1],
"mouseover",this.sl,this,[0]);I(this.Ka.i[1],"mouseout",this.gb,this,[0]);I(this.Ka.i[1],"click",this.Bd,this,[0]);I(this.Ka.i[1],"contextmenu",this.Dj,this,[0]);this.Ya=[];for(c=0;3>c;c++){this.Ya[c]=new Nd(3);document.createElement("div");this.Ya[c].i[0].className="cs_is_hi";this.Ya[c].i[1].appendChild(this.Aa[c+1]);this.Ya[c].i[1].className="cs_is_hip";this.Ya[c].i[1].style.zIndex="";this.Ya[c].i[2].className="cs_is_hi_event_p";var d=A(this.Ya[c].i[2],"a",{"class":"cs_is_hi_event",href:"javascript:"});
d.oncontextmenu=m(l);I(d,"mouseover",this.sl,this,[c+1]);I(d,"mouseout",this.gb,this,[c+1]);I(d,"click",this.Bd,this,[c+1]);I(d,"contextmenu",this.Dj,this,[c+1]);this.b.appendChild(this.Ya[c].i[0])}this.j=[]}
Hd.prototype={b:j,Aa:[],r:-1,da:-1,selected:l,Ha:j,j:[],Ka:j,Ya:[],sl:function(a){if(this.j[a])if(1<=a){this.Aa[a].src="/images/icons/large/"+this.j[a].q+".png";this.Aa[a].className="cs_is_img_large";S(this.Ya[a-1].i[1],"cs_is_hip_enlarge");var b=this.j[a].ga()+"<div class='tt_note'>Press CTRL to prevent this tooltip from showing</div>";o.ol(b,this.Aa[a])}else o.ol(this.j[a].ga(),this.Aa[a]);this.Ha.c.fire("item_tooltip_show",{slot:this.r,index:a})},gb:function(a){1<=a&&(this.j[a]&&(this.Aa[a].src=
"/images/icons/gem/"+this.j[a].q+".png"),this.Aa[a].className="cs_is_img_small",$c(this.Ya[a-1].i[1],"cs_is_hip_enlarge"));o.hide();this.Ha.c.fire("item_tooltip_hide",{slot:this.r,index:a})},Bd:function(a){this.Ha.c.fire("item_left_click",{slot:this.r,index:a})},Dj:function(a){this.Ha.c.fire("item_right_click",{slot:this.r,index:a})},Ui:function(a){this.b.style.display=a?"block":"none"},select:function(){this.Ka.i[0].style.backgroundImage="url(/images/site/item_border_hover.png)";this.selected=i},
dn:function(){this.Ka.i[0].style.backgroundImage=-1<this.da?"url(/images/site/item_border_q"+this.da+".png)":"url(/images/site/item_border.png)";this.selected=l},update:function(a){this.j=a;for(var b=0;4>b;b++)a=this.j[b],a==j?0<b?(this.Aa[b].style.display="none",$c(this.Ya[b-1].i[0],/^cs_is_quality_\d+$/)):(this.Aa[b].src="/images/charsheet/slots/slot_"+this.r+".jpg",this.Ka.i[0].style.backgroundImage="url(/images/site/item_border.png)"):0<b?(this.Aa[b].style.display="block",S(this.Ya[b-1].i[0],
"cs_is_quality_"+a.da),this.Aa[b].src="/images/icons/gem/"+a.q+".png"):(this.da=a.da,this.Ka.i[0].style.backgroundImage=this.selected?"url(/images/site/item_border_hover.png)":a.Ck()?"url(/images/site/item_border_invalid.png)":-1<this.da?"url(/images/site/item_border_q"+this.da+".png)":"url(/images/site/item_border.png)",this.Aa[b].src=a.Ck()?"/images/icons/r/large/"+(a.q?a.q:"Temp")+".png":"/images/icons/large/"+(a.q?a.q:"Temp")+".png")}};function Gd(){this.b=document.createElement("div");this.c=new D;this.c.g("select_presence",["presence_id"])}
Gd.prototype={b:j,c:j,Qm:function(a,b){this.c.ba(a,b)},update:function(a,b){Sb(this.b);if(!(a==j||0==a.length)){for(var c=0;c<a.length;c++){var d=A(this.b,"div",{"class":"ps_presence",backgroundImage:"/images/icons/"+(a[c].id==b?"":"g/")+"small/"+a[c].q+".png"});I(d,"mouseover",o.show,o,["<div class='tooltip_spell_description'>"+a[c].description+"</div>"]);d.onmouseout=function(){o.hide()};d.onmousemove=function(){o.move()};I(d,"click",function(a){this.c.fire("select_presence",{presence_id:a})},this,
[a[c].id])}Rb(this.b)}}};var Od={1:447,2:493,3:511,4:1213,5:445,6:1143,7:441,8:1533,9:509,10:447,11:247,22:1469},Pd=[[1,3,4,7,11,22],[2,5,6,8,10,9]];
function Ed(a){this.Ha=a;var b=new W(1,2),a=new W(7,2),c;this.b=document.createElement("div");this.b.className="rcs_parent";this.se=document.createElement("div");this.se.className="rcs_icon_race_container";this.od=document.createElement("div");this.od.className="rcs_icon_container";this.J=document.createElement("div");this.J.className="character_race_icon";this.J.style.backgroundImage="url(/images/site/race_class/medium/slot_empty.png)";this.oe=document.createElement("img");this.oe.className="rcs_icon_s";
this.oe.src="/images/site/race_class/medium/slot_empty.png";this.J=new Nd(4);this.J.i[0].appendChild(this.oe);this.J.i[0].className="rcs_icon_l";this.J.i[1].className="rcs_shadow";this.J.i[2].className="rcs_border";this.J.i[3].className="rcs_event_l";b.cells[0][0].appendChild(this.J.i[0]);this.Nd=document.createElement("img");this.Nd.className="rcs_icon_s";this.Nd.src="/images/site/race_class/medium/slot_empty.png";this.d=new Nd(4);this.d.i[0].appendChild(this.Nd);this.d.i[0].className="rcs_icon_l";
this.d.i[1].className="rcs_shadow";this.d.i[2].className="rcs_border";this.d.i[3].className="rcs_event_l";b.cells[0][1].appendChild(this.d.i[0]);this.b.appendChild(b.b);b=document.createElement("div");b.innerHTML="<span class='rcs_select_header'>Select a Race:</span>";c=document.createElement("a");c.className="close rcs_close";c.onclick=function(){o.enable()};b.appendChild(c);this.se.appendChild(b);a.cells[0][0].innerHTML="<div class='rcs_faction_alliance'>Alliance</div>";a.cells[0][1].innerHTML=
"<div class='rcs_faction_horde'>Horde</div>";for(b=0;2>b;b++)for(c=0;c<Pd[b].length;c++){var d=document.createElement("div");d.className="rcs_race_icon";d.style.backgroundImage="url(/images/site/race_class/medium/chr_race_"+Pd[b][c]+".png)";I(d,"click",this.pm,this,[Pd[b][c]]);a.cells[1+c][b].appendChild(d)}this.se.appendChild(a.b);I(this.d.i[3],"click",this.kl,this,[]);I(this.J.i[3],"click",this.Zo,this,[]);I(this.d.i[3],"mouseover",this.Tf,this,[1,1]);I(this.J.i[3],"mouseover",this.Tf,this,[0,1]);
I(this.d.i[3],"mouseout",this.Tf,this,[1,0]);I(this.J.i[3],"mouseout",this.Tf,this,[0,0])}
Ed.prototype={b:j,se:j,od:j,J:j,oe:j,d:j,Nd:j,Sh:-1,Ha:j,Tf:function(a,b){a?this.d.i[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px":this.J.i[2].style.backgroundPosition=1!=b?"0px 0px":"48px 0px"},update:function(a,b){this.Sh=a;var c,d;if(-1!=a){this.oe.src="/images/site/race_class/resized_chr_race_"+a+".png";-1!=b?(this.Nd.src="/images/site/race_class/resized_"+b+".png",this.d.i[2].className="rcs_class_border",this.d.i[2].style.backgroundImage="url(/images/site/race_class/class_border_"+b+
".png)"):(this.Nd.src="/images/site/race_class/medium/slot_empty.png",this.d.i[2].className="rcs_border",this.d.i[2].style.backgroundImage="");Sb(this.od);c=document.createElement("div");c.innerHTML="<span class='rcs_select_header'>Select a Class:</span>";d=document.createElement("a");d.className="close rcs_close";d.onclick=function(){o.enable()};c.appendChild(d);this.od.appendChild(c);for(c=0;11>c;c++)0!=(Od[a]&1<<c)&&(d=document.createElement("div"),d.className="rcs_icon",d.style.backgroundImage=
"url(/images/site/race_class/medium/"+(c+1)+".png)",I(d,"click",this.gm,this,[c+1]),this.od.appendChild(d));c=document.createElement("div");c.className="clear_both";this.od.appendChild(c)}else this.oe.src="/images/site/race_class/medium/slot_empty.png"},gm:function(a){this.Ha.Ko(a)},pm:function(a){this.Ha.Lo(a)},kl:function(){-1!=this.Sh?o.sd(this.od):o.sd(this.se)},Zo:function(){o.sd(this.se)}};function Fd(){this.b=document.createElement("div");this.c=new D;this.c.g("select_shape",["shape_id"])}
Fd.prototype={c:j,b:j,Bd:function(a){this.c.fire("select_shape",{shape_id:a})},ba:function(a,b){this.c.ba(a,b)},update:function(a,b){var c,d;Sb(this.b);if(a!=j&&0!=a.length){c=document.createElement("div");for(var f=0;f<a.length;f++)d=document.createElement("div"),d.className="cs_shape",d.style.backgroundImage="url(/images/icons/"+(a[f].id==b?"":"g/")+"small/"+a[f].q+".png)",c.appendChild(d),I(d,"mouseover",o.show,o,["<div class='tooltip_spell_description'>"+a[f].description+"</div>"]),d.onmouseout=
function(){o.hide()},d.onmousemove=function(){o.move()},I(d,"click",this.Bd,this,[a[f].id]);this.b.appendChild(c);Rb(this.b)}}};function Jd(a,b){this.c=new D;this.c.g("stat_tooltip_show",["group","index","node"]);this.c.g("stat_tooltip_hide",["group","index","node"]);this.group=a;this.index=b;var c=document.createElement("div");c.className="stat_table_value_div";this.b=document.createElement("div");this.b.className="stat_table_name_div";this.b.innerHTML=locale.CS_Stats[a][b];this.b.appendChild(c);this.compareNode=document.createElement("span");this.compareNode.className="stat_table_stat_span stat_table_stat_compare_span";
this.Ca=document.createElement("span");this.Ca.className="stat_table_stat_span";this.Ca.innerHTML=0;c.appendChild(this.compareNode);c.appendChild(this.Ca);I(this.b,"mouseover",this.sm,this,[]);I(this.b,"mouseout",this.jm,this,[]);this.b.onmouseout=function(){o.hide()};this.Da=Qd[this.group][this.index]}var Qd=[[0,0,0],[0,0,0,0,0],[68,96,0,65,16,24,16,64,256],[132,160,0,129,16,24,16,256],[0,16,24,0,0,0,16,256],[0,16,16,16,0,16,16],[0,0,0,0,0]];
Jd.prototype={group:-1,index:-1,name:"",gj:"",b:j,value:0,Ca:j,Da:0,c:j,sm:function(){this.c.fire("stat_tooltip_show",{group:this.group,index:this.index,node:this.b})},jm:function(){this.c.fire("stat_tooltip_hide",{group:this.group,index:this.index,node:this.b})},w:function(a){this.c.w(a)},ba:function(a,b){this.c.ba(a,b)},Z:function(a){this.value=a;this.Ca.innerHTML="";(-1===a||"object"===typeof a&&-1===a[0])&&this.Da&128?this.Ca.innerHTML+="N/A":this.Da&64?(this.Lh(a[0]),a[1]!=j&&(this.Ca.innerHTML+=
"/",this.Lh(a[1]))):this.Lh(a)},Lh:function(a){this.Ca.innerHTML=this.Da&16?this.Ca.innerHTML+((this.Da&8?"+":"")+L(a,2)+"%"):this.Da&32?this.Ca.innerHTML+L(a,1):this.Da&256?this.Ca.innerHTML+L(a,2):this.Da&1?this.Ca.innerHTML+L(a/1E3,2):this.Da&4?this.Ca.innerHTML+(a[0]+"-"+a[1]):this.Ca.innerHTML+Math.floor(a)},Bo:function(){this.compareNode.innerHTML=""},pd:function(a){var b;this.compareNode.innerHTML="";if(!((-1===a||"object"===typeof a&&-1===a[0])&&this.Da&128))if(this.Da&64){if(!(this.Da&4))if(b=
this.Ih(a[0],this.value[0]),a[1]!=j){if(a=this.Ih(a[1],this.value[1]),b||a)this.compareNode.innerHTML=(b?b:"0")+"/"+(a?a:"0")}else b!=j&&(this.compareNode.innerHTML=b)}else b=this.Ih(a,this.value),this.compareNode.innerHTML=b?b:""},Ih:function(a,b){var c;c=0!=(272&this.Da)?Math.floor(100*(a-b))/100:Math.floor(a-b);return 0!=c?this.Da&1?"<span class='stat_table_stat_span "+(0<c?"compare_red":"compare_green")+"'>"+(0<c?"+":"-")+M(Math.abs(c)/1E3)+"</span>":"<span class='stat_table_stat_span "+(0<c?
"compare_green":"compare_red")+"'>"+(0<c?"+":"-")+(0!=(this.Da&16)?M(Math.abs(c)):Math.abs(c))+"</span>":j}};function Rd(){}Rd.prototype={b:j,ha:function(){e(new Zb("SimpleUserControl","getValue"))},Z:function(){e(new Zb("SimpleUserControl","setValue"))}};function Sd(){this.b=document.createElement("input");this.b.className="input"}Sd.prototype=new Rd;Sd.prototype.b=j;Sd.prototype.Z=function(a){this.b.value=a};Sd.prototype.ha=function(){return this.b.value};function Ld(a){this.b=document.createElement("select");this.b.className="single_select";this.set(a)}function Td(a){var b=[],c=0,d;for(d in a)b[c++]=[d,a[d]];return new Ld(b)}Ld.prototype=new Rd;n=Ld.prototype;n.b=j;n.options=[];n.cl=function(a){this.b.name=a};n.set=function(a){var b;for(this.options=[];this.b.firstChild;)this.b.removeChild(this.b.firstChild);for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])};
n.select=function(a){for(var b=0;b<this.options.length;b++)if(this.options[b].value===a){this.options[b].selected=i;break}};n.ha=function(){return this.b.options[this.b.selectedIndex].value};n.Z=function(a){this.select(a)};function Ud(a){var b;this.b=document.createElement("select");this.b.className="multi_select";this.b.multiple="true";this.options=[];for(b=0;b<a.length;b++)this.options[b]=document.createElement("option"),this.options[b].value=a[b][0],this.options[b].innerHTML=a[b][1],this.b.appendChild(this.options[b])}Ud.prototype.b=j;Ud.prototype.options=[];
Ud.prototype.select=function(a){if(a!=(1<<this.options.length+1)-1)for(var b=0;b<this.options.length;b++)this.options[b].selected=0!=(a&1<<parseInt(this.options[b].value,10))};Ud.prototype.ha=function(){var a=0,b,c,d=0;for(b=0;b<this.options.length;b++)c=1<<parseInt(this.options[b].value,10),d+=c,this.options[b].selected==i&&(a+=c);0==a&&(a=d);return a};function W(a,b){var c,d;this.b=document.createElement("table");this.b.cellSpacing="0";this.b.cellPadding="0";this.rows=Array(a);this.cells=Array(a);this.pg=document.createElement("colgroup");this.cols=Array(b);this.b.appendChild(this.pg);for(d=0;d<b;d++)this.cols[d]=document.createElement("col"),this.pg.appendChild(this.cols[d]);this.tbody=document.createElement("tbody");this.b.appendChild(this.tbody);for(c=0;c<a;c++){this.rows[c]=document.createElement("tr");this.tbody.appendChild(this.rows[c]);
this.cells[c]=Array(b);for(d=0;d<b;d++)this.cells[c][d]=document.createElement("td"),this.rows[c].appendChild(this.cells[c][d])}}var cd="top";
W.prototype={cells:[],rows:[],cols:[],b:j,tbody:j,vAlign:"",pg:j,nh:function(a){var b,c;this.vAlign=a;for(b=0;b<this.cells.length;b++)for(c=0;c<this.cells[b].length;c++)this.cells[b][c].vAlign=a},Rc:function(){var a=this.rows.length,b;this.rows[a]=document.createElement("tr");this.cells[a]=[];for(b=0;b<this.cols.length;b++)this.cells[a][b]=document.createElement("td"),this.cells[a][b].vAlign=this.vAlign,this.rows[a].appendChild(this.cells[a][b]);this.tbody.appendChild(this.rows[a]);return a},Nm:function(){var a=
this.cols.length,b=this.rows.length;this.cols[a]=document.createElement("col");this.pg.appendChild(this.cols[a]);for(var c=0;c<b;c++)this.cells[c][a]=document.createElement("td"),this.cells[c][a].vAlign=this.vAlign,this.rows[c].appendChild(this.cells[c][a]);return a},Jh:function(){var a=this.rows.length,b=j,c;this.rows[a]=document.createElement("tr");this.cells[a]=[];b=document.createElement("td");b.colSpan=this.cols.length;b.vAlign=this.vAlign;this.rows[a].appendChild(b);for(c=0;c<this.cols.length;c++)this.cells[a][c]=
b;this.tbody.appendChild(this.rows[a]);return a},show:function(){this.b.style.display="table"},hide:function(){this.b.style.display="none"}};function Id(){this.b=document.createElement("div");this.wa=document.createElement("div");this.content=document.createElement("div");this.b.appendChild(this.wa);this.b.appendChild(this.content);this.wa.pp=m(l);this.wa.onmousedown=m(l);I(this.wa,"click",this.toggle,this,[]);this.collapse()}Id.prototype={b:j,content:j,wa:j,Eb:j,collapse:function(){this.content.style.display="none";this.Eb=l},expand:function(){this.content.style.display="block";this.Eb=i},toggle:function(){this.Eb?this.collapse():this.expand()}};function Nd(a){if(0<a){this.i=[];this.i[0]=document.createElement("div");this.i[0].style.position="relative";for(var b=1;b<a;b++)this.i[b]=document.createElement("div"),this.i[b].style.position="absolute",this.i[b].style.zIndex=b,this.i[0].appendChild(this.i[b])}}Nd.prototype={i:j};function id(a,b,c){this.Rf=new Vd(a.length);this.Bh=new Wd(b,c,this.show,this);this.b=this.Rf.b;this.Ng=this.Bh.b;for(b=0;b<a.length;b++)this.Rf.j[b].appendChild(a[b])}id.prototype={Ng:j,b:j,Eb:0,Bh:j,Rf:j,hd:j,kh:ba("hd"),show:function(a){var b=this.Eb;this.Eb=a;this.Rf.show(a);this.Bh.select(a);this.hd&&this.hd.notify([a,b])}};function Wd(a,b,c,d){var f=document.createElement("div");this.b=document.createElement("div");this.b.className=b+"_sel";this.Qe=b;this.links=[];for(var g=0;g<a.length;g++)this.links[g]=document.createElement("a"),this.links[g].className=b+"_i"+g+(0==g?"_a "+b+"_i_a_base":" "+b+"_i_base"),this.links[g].innerHTML="<span class='"+b+"_l_f'>"+a[g]+"</span>",I(this.links[g],"click",c,d,[g]),this.b.appendChild(this.links[g]);f.className="clear_both";Rb(f)}n=Wd.prototype;n.Qe="";n.links=j;n.b=j;
n.selected=0;n.select=function(a){this.links[this.selected].className=this.Qe+"_i"+this.selected+" "+this.Qe+"_i_base";this.links[a].className=this.Qe+"_i"+a+"_a "+this.Qe+"_i_a_base";this.selected=a};function Vd(a){this.j=[];this.b=document.createElement("div");for(var b=0;b<a;b++)this.j[b]=document.createElement("div"),this.j[b].style.display=0==b?"block":"none",this.j[b].style.width="100%",this.j[b].style.height="100%",this.b.appendChild(this.j[b]);this.Eb=0}Vd.prototype={j:j,b:j,Eb:0,hd:j,show:function(a){if(a!=this.Eb){var b=this.Eb;this.j[a].style.display="block";this.j[b].style.display="none";this.Eb=a;this.hd&&this.hd.notify([a,b])}},kh:function(a,b){this.hd=new t(a,b)}};function Xd(a,b){this.map={};if(a)for(var c in a)this.map[c]=a[c];this.parent=b;this.Zd=document.createElement("input");I(this.Zd,"change",this.Ch,this,[]);I(this.Zd,"keyup",this.Ch,this,[]);I(this.Zd,"blur",this.Ch,this,[])}Xd.prototype={filter:function(a){Sb(this.parent);for(var b in this.map)(!a||RegExp(a,"i").exec(b))&&this.parent.appendChild(this.map[b])},Yo:function(){Sb(this.parent);for(var a in this.map)this.parent.appendChild(this.map[a])},Ch:function(){this.filter(this.Zd.value)}};function Yd(){this.P={};this.b=z("div",{"class":"ba_p"});this.Sc=new Id;this.Sc.wa.appendChild(z("a",{href:"javascript:;",text:locale.RF_BatchHeader}));this.Sc.wa.className="collapse_h ba_collapse_h";this.Sc.content.className="collapse_c ba_collapse_c";this.Sc.b.className="collapse ba_collapse";this.Qg=this.Sc.content;T(this.b,this.Sc.b)}
Yd.prototype={P:j,Sc:j,Qg:j,b:j,Je:function(a,b,c){var d=A(this.Qg,"div",{"class":"ba_op_container"}),b=A(d,"a",{text:b,href:"javascript:;","class":"ba_simple_op_link"});Eb(b,"click",c,[a]);this.P[a]={id:a,node:d};return this.P[a]},Sj:function(a,b,c,d){var f;f=A(this.Qg,"div",{"class":"ba_op_container"});b=A(f,"div",{"class":"ba_op_title",text:b});d&&T(b,V.Ve(d));d=A(f,"div",{});T(d,c);this.P[a]={id:a,node:f};return this.P[a]},remove:function(a){"undefined"!==typeof this.P[a]&&this.P[a]!==j&&(this.Qg.removeChild(this.P[a].node),
delete this.P[a])},show:function(a){this.Kj(a);this.P[a].b.display.style="none"},hide:function(a){this.Kj(a);this.P[a].b.display.style=""},Kj:function(a){("undefined"===typeof this.P[a]||this.P[a]===j)&&e(Error("No batch operation with id '"+a+"' found!"))}};function Zd(){this.b=document.createElement("div");this.c=new D;this.c.g("change",["data"])}Zd.prototype={b:j,disabled:l,oi:l,c:j,setData:function(){e(new Zb("Editable","setData"))},readOnly:ba("oi"),w:function(a){this.c.w(a)}};function $d(a){return a?'<a href="javascript:;" title="Click to edit">'+a+"</a>":"<span class='ui_data_nothing'>None</span>"};function td(){Zd.call(this);this.v=z("div",{});this.input=new Sd;I(this.input.b,"blur",this.Be,this,[l]);I(this.v,"click",this.Be,this,[i]);this.form=z("form",{action:"javascript:"});this.form.appendChild(this.input.b);I(this.form,"submit",this.De,this,[])}td.prototype=new Zd;n=td.prototype;n.input=j;n.v=j;n.form=j;n.data=j;n.setData=function(a){this.data=a;this.input.Z(a);this.disabled=l;a=this.input.ha();this.v.innerHTML=$d(a);x(this.b,this.v)};
n.Be=function(a){a?!this.disabled&&!this.oi&&(x(this.b,this.form),this.input.b.focus()):(x(this.b,this.v),this.input.Z(this.data))};n.De=function(){this.c.fire("change",{data:this.input.ha()});x(this.b,z("img",{src:"/images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function sd(a){Zd.call(this);this.options=a;this.v=z("div",{});this.select=Td(a);this.select.b.className+=" single_select_focussable";I(this.select.b,"blur",this.Be,this,[l]);I(this.v,"click",this.Be,this,[i]);I(this.select.b,"change",this.De,this,[])}sd.prototype=new Zd;n=sd.prototype;n.select=j;n.v=j;n.data=j;n.options=[];n.setData=function(a){this.data=a;this.select.Z(a);this.disabled=l;this.v.innerHTML=$d(this.options[a]);x(this.b,this.v)};
n.Be=function(a){a?!this.disabled&&!this.oi&&(x(this.b,this.select.b),this.select.b.focus()):(x(this.b,this.v),this.select.Z(this.data))};n.De=function(){this.c.fire("change",{data:this.select.ha()});x(this.b,z("img",{src:"/images/site/bar_loading.gif","class":"ui_bar_loading"}));this.disabled=i};function ud(a){var b=[],c=0,d,f,g;Zd.call(this);this.Xg=a;this.b.className="bnpm_c";this.content=document.createElement("div");this.content.className="bnpm_content";this.Zc=document.createElement("div");this.qc=document.createElement("a");this.qc.className="add bnpm_add_link";this.qc.href="javascript:";this.qc.innerHTML="Add a Battle.net Profile";I(this.qc,"click",this.dm,this,[]);d=new W(2,3);d.b.className="bnpm_grid";this.Zc.appendChild(this.qc);this.b.appendChild(this.content);this.b.appendChild(this.Zc);
this.Qb=new Sd;this.Ic=new Ld([]);this.Ic.b.className+=" single_select_focussable";this.kb=new Ld([]);this.kb.b.className+=" single_select_focussable";d.cols[0].width="160px";d.cols[1].width="160px";d.cols[2].width="160px";d.cells[0][0].innerHTML="Name";d.cells[0][1].innerHTML="Region";d.cells[0][2].innerHTML="Realm";d.cells[1][0].appendChild(this.Qb.b);d.cells[1][1].appendChild(this.kb.b);d.cells[1][2].appendChild(this.Ic.b);this.Qb.b.className+=" bnpm_input";this.kb.b.className+=" bnpm_select";
this.Ic.b.className+=" bnpm_select";this.bg=document.createElement("div");this.bg.className="bnpm_add_parent";g=document.createElement("div");g.className="group bnpm_input_parent";g.appendChild(d.b);d=document.createElement("form");d.action="javascript:";I(d,"submit",this.tm,this,[]);d.appendChild(g);g=document.createElement("div");f=document.createElement("input");f.type="button";Vb(f,{"default":"button button_light bnpm_add_cancel_btn",hover:"button_light_hover"});f.value="Cancel";I(f,"click",this.em,
this,[]);g.appendChild(f);f=document.createElement("input");f.type="submit";Vb(f,{"default":"button button_light bnpm_add_add_btn",hover:"button_light_hover"});f.value="Add";g.appendChild(f);g.className="bnpm_add_ctrl_parent";d.appendChild(g);this.bg.appendChild(d);I(this.kb.b,"change",this.qm,this,[]);for(var h in a)b[c++]=[h,locale.Regions[h]];this.kb.set(b);this.kb.select("us");ae(this,this.kb.ha())}ud.prototype=new Zd;n=ud.prototype;n.b=j;n.content=j;n.Zc=j;n.bg=j;n.qc=j;n.Xg=j;n.Qb=j;n.Ic=j;
n.kb=j;
n.setData=function(a){var b,c;this.content.innerHTML="";for(var d in a){b=a[d];c=document.createElement("div");c.className="group bnpm_entry";var f=A(c,"a",{href:"javascript:;","class":"remove bnpm_remove"});I(f,"click",this.Dh,this,[b,c]);A(c,"span",{text:b.Name,"class":"bnpm_name"});A(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});A(c,"span",{text:locale.CharacterClass[b.CharacterClassID],"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass"});A(c,"span",
{text:", "+b.Region.toUpperCase()+"-"+b.Realm,"class":"bnpm_origin"});A(c,"br",{});A(c,"a",{href:ha()+"Planner.html"+("?"+Ha({name:b.Name,realm:b.Realm,region:b.Region})),text:"Static link to import this character from Battle.net into chardev","class":"bnpm_static_link"});this.content.appendChild(c)}this.disabled=l;x(this.Zc,this.qc)};n.em=function(){x(this.Zc,this.qc)};n.dm=function(){x(this.Zc,this.bg)};
n.Dh=function(a,b){this.disabled||(this.c.fire("change",{data:JSON.stringify({removeBattleNetProfile:a})}),b.innerHTML="<img src='/images/site/bar_loading.gif' class='bnpm_bar_loading' />")};
n.tm=function(){var a;if(a=!this.disabled)a=this.Qb.ha(),2>a.length?(o.C("Character name is too short!"),a=l):12<a.length?(o.C("Character name is too long!"),a=l):a=i;a&&(this.disabled=i,this.c.fire("change",{data:JSON.stringify({addBattleNetProfile:{Name:this.Qb.ha(),Realm:this.Ic.ha(),Region:this.kb.ha()}})}),this.Zc.innerHTML="<img src='/images/site/bar_loading.gif' class='ui_bar_loading' />")};n.qm=function(){ae(this,this.kb.ha())};
function ae(a,b){var c=[],d=0,f;for(f in a.Xg[b])c[d++]=[a.Xg[b][f],a.Xg[b][f]];a.Ic.set(c)};new Zd;function ld(){this.c=new D;this.c.g("socket_left_click",["socket"]);this.c.g("socket_right_click",["socket"]);this.c.g("socket_used_gem",["socket","gemId"]);this.c.g("used_gem_tooltip_show",["socket","gemId"]);this.c.g("used_gem_tooltip_hide",["socket","gemId"]);this.c.g("socket_all",["gemId"]);this.c.g("socket_all_color",["color","gemId"]);this.c.g("remove_all_gems",[]);this.c.g("remove_all_gems_by_id",["gemId"]);this.b=z("div",{});this.Ba=[new Nd(5),new Nd(5),new Nd(5)];this.P=new Yd;S(this.P.b,
"ra_group");this.b.appendChild(this.P.b);this.P.Je("remove_all",locale.SI_RemoveAllGems,new t(function(){this.Og(be)},this));this.$e=A(this.b,"div",{"class":"si_main"});this.gj=A(this.$e,"div",{"class":"si_tt_p"});this.Ad=A(this.$e,"div",{"class":"ra_group si_used_parent"});this.tl=A(this.$e,"div",{"class":"si_socket_parent"});for(var a=0;3>a;a++)this.Ba[a].i[0].className="si_gem_p",this.Ba[a].i[1].className="si_bg",this.Ba[a].i[2].className="si_no_highlight",this.Ba[a].i[4].className="si_event",
this.Ba[a].i[4].oncontextmenu=m(l),I(this.Ba[a].i[4],"mouseover",this.eo,this,[a]),I(this.Ba[a].i[4],"mouseout",this.co,this,[a]),this.Ba[a].i[4].onmousemove=function(){o.move()},I(this.Ba[a].i[4],"click",this.bo,this,[a]),I(this.Ba[a].i[4],"contextmenu",this.c.fire,this.c,["socket_right_click",{socket:a}]);this.Jg=document.createElement("div");this.b.appendChild(this.Jg);this.gh(-1);this.Gg=new pa;this.Gg.So(this.gj);this.Gg.v.className="fixed_tooltip_div";this.Si(l)}var be=0;
ld.prototype={Xb:-1,gj:j,b:j,$e:j,Ba:[],r:0,character:j,Ad:j,Fa:j,c:j,Jg:j,P:j,Gg:j,Si:function(a){this.$e.style.display=a?"block":"none"},hl:function(a){this.Jg.style.display=a?"block":"none"},Ro:function(a){this.Jg.appendChild(a)},update:function(a,b){if(a==j)this.Si(l);else{this.Si(i);(this.Fa==j||a.id!=this.Fa.id)&&this.gh(-1);this.Fa=a;var c,d,f,g,h=0,k;this.Gg.show(a.yn());f=a.Gn();U(this.tl);k=A(this.tl,"div",{});for(c=0;c<a.U.length;c++)if(0<a.U[c]||f){0>=a.U[c]?(f=l,g="prismatic"):g=14==
a.U[c]?"prismatic":Math.log(a.U[c])/Math.log(2);d=this.Ba[c];d.i[1].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_large.png)";if(a.bd(c)==j)d.i[3].className="si_braces",d.i[3].style.backgroundImage="url(/images/socket_interface/socket_"+g+"_braces_open.png)",Sb(d.i[1]);else{var r=document.createElement("img");r.src="/images/icons/large/"+a.bd(c).q+".png";r.className="si_gem_icon";x(d.i[1],r);d.i[3].className="si_braces";d.i[3].style.backgroundImage="url(/images/socket_interface/socket_"+
g+"_braces_closed.png)"}T(k,d.i[0]);h++}k.className="si_sp_"+h+"_gems";U(this.Ad);T(A(this.Ad,"span",{"class":"si_used_title_fix",text:locale.SI_UsedGems}),V.Ve("Gems already present on your gear"));for(var v in b)c=b[v],d=A(this.Ad,"a",{"class":"si_used_gem",backgroundImage:"/images/icons/small/"+c.q+".png"}),I(d,"mouseover",this.jo,this,[c]),I(d,"mouseout",this.io,this,[c]),I(d,"click",this.ho,this,[c.id]),d.onmousemove=function(){o.move()};Rb(this.Ad);this.gh(this.Xb)}},eo:function(a){S(this.Ba[a].i[2],
"si_highlight");this.Fa!=j&&this.Fa.bd(a)&&o.nb(this.Fa.bd(a).ga())},co:function(a){$c(this.Ba[a].i[2],"si_highlight");o.hide()},jo:function(a){this.c.fire("used_gem_tooltip_show",{socket:this.Xb,gemId:a.id});o.nb(a.ga()+"<div class='tt_note'>Left click to socket</div>")},io:function(a){o.hide();this.c.fire("used_gem_tooltip_hide",{socket:this.Xb,gemId:a.id})},ho:function(a){this.c.fire("socket_used_gem",{socket:this.Xb,gemId:a})},bo:function(a){this.gh(a);this.c.fire("socket_left_click",{socket:a})},
Og:function(a){if(a==be)this.c.fire("remove_all_gems",{});else{var b=this.Fa.bd(this.Xb).id;switch(a){case 3:this.c.fire("remove_all_gems_by_id",{gemId:b});break;case 1:this.c.fire("socket_all_gems",{gemId:b});break;case 2:this.c.fire("socket_all_gems",{gemId:b,color:this.Fa.U[this.Xb]})}}},gh:function(a){this.P.remove("remove_color");this.P.remove("add_all");this.P.remove("add_color");if(-1!=a){var b=this.Fa.bd(a);this.Ad.style.display="block";S(this.Ba[a].i[0],"si_gem_p_selected");b!=j&&(this.P.Je("remove_color",
K(locale.SI_RemoveGems,b.name),new t(function(){this.Og(3)},this)),this.P.Je("add_all",K(locale.SI_SocketAll,b.name),new t(function(){this.Og(1)},this)),1<this.Fa.U[a]&&this.P.Je("add_color",J(locale.SI_SocketAllColor,[b.name,locale.SI_SocketColors[this.Fa.U[a]]]),new t(function(){this.Og(2)},this)));this.hl(i)}else this.Ad.style.display="none",this.hl(l);-1!=this.Xb&&this.Xb!=a&&$c(this.Ba[this.Xb].i[0],"si_gem_p_selected");this.Xb=a}};function ed(){this.c=new D;this.c.g("reforge",["reduce","add"]);this.c.g("reforge_all",["reforge_array"]);this.c.g("reforge_preview",["reforge_array"]);this.c.g("reforge_item_preview",["reduce","add"]);this.c.g("restore",[]);this.c.g("restore_all",[]);this.c.g("remove_reforge_preview",[]);this.c.g("remove_reforge_item_preview",[]);this.c.g("wowreforge_export",[]);this.b=z("div",{});this.P=new Yd;S(this.P.b,"ra_group");T(this.b,this.P.b);var a=z("form",{action:"javascript:;"});this.Ml=A(a,"input",
{"class":"input rf_wowreforgeurl"});var b=A(a,"input",{type:"submit",text:locale.RF_ImportWoWReforge,"class":"button button_light"});this.P.Sj("wowreforge_import",locale.RF_WoWReforgeImport,a,locale.RF_WoWReforgeImportHelp);I(a,"submit",this.Im,this,j);I(b,"mouseover",function(){var a=this.Gj();a!=j&&this.c.fire("reforge_preview",{reforge_array:a})},this,j);I(b,"mouseout",function(){this.c.fire("remove_reforge_preview")},this,j);a=z("div",{});b=A(a,"input",{type:"submit",text:locale.RF_ExportWoWReforge,
"class":"button button_light"});this.P.Sj("wowreforge_import",locale.RF_WoWReforgeExport,a,locale.RF_WoWReforgeExportHelp);I(b,"click",this.Hm,this,j);a=this.P.Je("restore_all",locale.RF_RestoreAll,new t(function(){this.c.fire("restore_all")},this));I(a.node,"mouseover",function(){this.c.fire("reforge_preview",{reforge_array:[]})},this,j);I(a.node,"mouseout",function(){this.c.fire("remove_reforge_preview")},this,j);this.content=A(this.b,"div",{})}
ed.prototype={c:j,b:j,content:j,Ml:j,P:j,update:function(a){var b=[],c=[],d,f,g,h,k,r,v;U(this.content);if(a){v=z("div",{"class":"rf_title_c"});A(v,"span",{text:"Reforge ","class":"rf_title"});d=A(v,"a",{text:a.name,"class":"item_quality_"+a.da+" rf_item_name",href:"javascript:"});V.sb(d,a.ga());for(d=0;d<Na.length;d++)f=Na[d],g=a.ji(f),0<g?b.push([f,g]):c.push(f);if(a.pi())if(0==b.length)x(this.content,v),A(this.content,"div",{text:"This items has no reforgable stats!","class":"rf_error"});else{var s=
new W(0,c.length+2);s.b.className="rf_grid";r=s.Jh();T(s.cells[r][0],v);r=s.Rc();for(d=0;d<c.length;d++)s.cells[r][2+d].innerHTML=locale.ItemStatNamesShort[c[d]],s.cells[r][2+d].className="rf_to_stat";for(d=0;d<b.length;d++){r=s.Rc();h=0==d%2?"row_bg1":"row_bg2";s.cells[r][0].innerHTML=locale.ItemStatNames[b[d][0]];s.cells[r][0].className=h+" rf_from_stat";s.cells[r][1].innerHTML=b[d][1];s.cells[r][1].className=h+" rf_from_value";d==b.length-1&&(S(s.cells[r][0],"rf_from_stat_bottom"),S(s.cells[r][1],
"rf_from_value_bottom"));for(f=0;f<c.length;f++)v=z("div",{"class":h+" rf_cell"}),0==d&&S(v,"rf_cell_top"),d==b.length-1&&S(v,"rf_cell_bottom"),0==f&&S(v,"rf_cell_left"),f==c.length-1&&S(v,"rf_cell_right"),a.ca==c[f]&&a.oa==b[d][0]?(s.cells[r][1].className+=" red",k=A(v,"a",{"class":"rf_to_value rf_to_active",text:a.fa,href:"javascript:"}),I(k,"click",this.Jj,this,[]),I(k,"mouseover",this.Cj,this,[-1,-1]),I(k,"mouseout",this.Bj,this,[]),V.sb(k,"<div class='rf_tt_c'>Click to restore <span class='green'>"+
a.fa+"</span> <span class='green'>"+locale.ItemStatNames[b[d][0]]+"</span> from <span class='red'>"+locale.ItemStatNames[c[f]]+"</span></div>")):(g=b[d][1],a.oa==b[d][0]&&(g=a.kc),g=Math.floor(0.4*g),k=A(v,"a",{"class":"rf_to_value",text:g,href:"javascript:"}),I(k,"click",this.wm,this,[b[d][0],c[f]]),I(k,"mouseover",this.Cj,this,[b[d][0],c[f]]),I(k,"mouseout",this.Bj,this,[]),V.sb(k,"<div class='rf_tt_c'>Click to reforge <span class='green'>"+g+"</span> <span class='red'>"+locale.ItemStatNames[b[d][0]]+
"</span> into <span class='green'>"+locale.ItemStatNames[c[f]]+"</span></div>")),x(s.cells[r][2+f],v)}d=s.Jh();s.cells[d][0].className="rf_b";k=A(s.cells[d][0],"a",{"class":"button button_light link_button",href:"javascript:",text:"Restore"});I(k,"click",this.Jj,this,[]);T(this.content,s.b)}else x(this.content,v),A(this.content,"div",{text:"This items is not reforgable!","class":"rf_error"})}},wm:function(a,b){this.c.fire("reforge",{reduce:a,add:b})},Jj:function(){this.c.fire("restore",{})},Bj:function(){this.c.fire("remove_reforge_item_preview",
{})},Cj:function(a,b){this.c.fire("reforge_item_preview",{reduce:a,add:b})},Im:function(){var a=this.Gj();a!=j&&this.c.fire("reforge_all",{reforge_array:a})},Gj:function(){var a=ga(this.Ml);if(!a)return j;var b=a.match(/reforge=((?:\d|-){34})/i);if(!b[1])return o.C(K(locale.RF_WoWReforge_UnableToParse,a)),j;for(var a=b[1],b=[],c=0;17>c;c++)"-"==a[2*c]||"-"==a[2*c+1]||(b[Sa[c]]=[Ra[parseInt(a[2*c],10)],Ra[parseInt(a[2*c+1],10)]]);return b},Hm:function(){this.c.fire("wowreforge_export",{})}};function ce(){this.b=z("div",{"class":"rs_p"})}
ce.prototype={b:j,update:function(a){for(var b=new W(1,Na.length+1),c=[0,0,0,0,0,0,0,0],d=0;d<Na.length;d++)b.cells[0][1+d].innerHTML="<div class='rs_header'>"+locale.ItemStatNamesShort[Na[d]]+"</div>";for(d=0;18>d;d++){var f=a.j[d];if(f&&-1!=f.oa){var g=b.Rc(),h=A(b.cells[g][0],"div",{"class":"row_bg"+(1+g%2)+" rs_cell rs_cell_l"}),k=A(h,"a",{text:f.name,"class":"item_quality_"+f.da,href:"javascript:;"});V.sb(k,f.ga());1==g&&S(h,"rs_cell_top");for(h=0;h<Na.length;h++)f.oa==Na[h]?(A(b.cells[g][1+
h],"span",{"class":"rs_stat red",text:"-"+f.fa}),c[h]-=f.fa):f.ca==Na[h]?(A(b.cells[g][1+h],"span",{"class":"rs_stat green",text:"+"+f.fa}),c[h]+=f.fa):A(b.cells[g][1+h],"span",{"class":"grey",text:"0"}),S(b.cells[g][1+h],"rs_cell row_bg"+(1+g%2)),1==g&&S(b.cells[g][1+h],"rs_cell_top");S(b.cells[g][1],"rs_cell_lp");S(b.cells[g][8],"rs_cell_rp")}}g=b.Rc();for(h=0;h<Na.length;h++)0<c[h]?A(b.cells[g][1+h],"div",{"class":"rs_stat_sum green",text:"+"+Math.abs(c[h])}):0>c[h]&&A(b.cells[g][1+h],"div",{"class":"rs_stat_sum red",
text:"-"+Math.abs(c[h])});U(this.b);A(this.b,"div",{"class":"rs_title",text:"Reforge Summary"});T(this.b,b.b)}};function fd(){this.b=z("div",{"class":"gi_p"});this.c=new D;this.c.g("add_glyph",["glyph"]);this.c.g("remove_glyph",["glyph"])}
fd.prototype={b:j,c:j,update:function(a,b){var c,d;U(this.b);if(0==b.yc())A(this.b,"div",{"class":"gi_error",text:"You have to select a Class before you can use Glyphs!"});else if(0==b.mk())A(this.b,"div",{"class":"gi_error",text:"You have to reach Level 25 before you can use Glyphs!"});else{c=A(this.b,"div",{"class":"gi_glyphs_p"});A(this.b,"div",{"class":"gi_list_h",text:"Available Glyphs"});var f=A(this.b,"div",{"class":"gi_list_p"}),g=A(c,"div",{"class":"gi_glyphs_c"}),h=A(c,"div",{"class":"gi_glyphs_c"}),
k=A(c,"div",{"class":"gi_glyphs_c"});A(g,"div",{"class":"gi_list_h",text:"Prime Glyphs"});A(h,"div",{"class":"gi_list_h",text:"Major Glyphs"});A(k,"div",{"class":"gi_list_h",text:"Minor Glyphs"});var r=[0,0,0],v={};for(c=0;c<b.N.length;c++){2==b.N[c].Fb.type?(d=g,r[2]++):0==b.N[c].Fb.type?(d=h,r[0]++):(d=k,r[1]++);v[b.N[c].id]=i;var s=A(d,"div",{"class":"gi_glyph_c"});A(s,"img",{"class":"gi_glyph_icon",src:"/images/icons/half/"+b.N[c].Fb.k.q+".png"});d=A(s,"a",{"class":"gi_glyph",href:"javascript:",
text:b.N[c].getName()});d.oncontextmenu=m(l);V.sb(d,b.N[c].ga()+"<div class='gi_note'>Right click to remove</div>");s.oncontextmenu=m(l);I(s,"contextmenu",this.c.fire,this.c,["remove_glyph",{glyph:b.N[c]}])}for(c=0;c<b.mk();c++)if(c>=r[0]&&(s=A(h,"div",{"class":"gi_glyph_c gi_empty"}),d=A(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),V.sb(d,"Select a Glyph from the list below")),c>=r[1]&&(s=A(k,"div",{"class":"gi_glyph_c gi_empty"}),d=A(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),V.sb(d,
"Select a Glyph from the list below")),c>=r[2])s=A(g,"div",{"class":"gi_glyph_c gi_empty"}),d=A(s,"a",{text:"Empty Glyph Slot",href:"javascript:"}),V.sb(d,"Select a Glyph from the list below");g=A(f,"div",{"class":"gi_list_c"});h=A(f,"div",{"class":"gi_list_c"});f=A(f,"div",{"class":"gi_list_c"});for(c=0;c<a.length;c++)v[a[c].id]!==i&&(d=2==a[c].Fb.type?g:0==a[c].Fb.type?h:f,d=A(d,"a",{"class":"gi_list_entry",href:"javascript:",text:a[c].getName()}),V.sb(d,a[c].ga()+"<div class='gi_note'>Left click to add</div>"),
I(d,"click",this.c.fire,this.c,["add_glyph",{glyph:a[c]}]))}}};function hd(){this.b=document.createElement("div");this.b.className="ra_group rpi_parent";this.c=new D;this.c.g("change",["randomEnchantmentId"])}
hd.prototype={b:j,select:j,Ac:j,c:j,update:function(a){this.b.style.display="none";if(a!=j){var b=[],c=a.fg;Sb(this.b);if(c){this.b.style.display="block";b[0]=[0,""];for(var d=0;d<c.length;d++)b[d+1]=[c[d].id,"..."+c[d].name+": "+c[d].description];this.select=new Ld(b);a.Q&&this.select.select(a.Q.id);I(this.select.b,"change",this.yi,this,[]);this.b.innerHTML="<div class='rpi_title'>"+locale.RPI_SelectRandomEnchant+"</div>";a=document.createElement("div");a.className="rpi_content";a.appendChild(this.select.b);
this.select.b.className="single_select rpi_select";this.b.appendChild(a)}}},yi:function(){this.c.fire("change",{randomEnchantmentId:parseInt(this.select.ha(),10)})},kh:function(a,b){this.Ac=[a,b]}};function jd(a){var b;this.Pg=a;this.b=z("div",{"class":"im_parent"});b=z("form",{action:"javascript:"});I(b,"submit",this.Ee,this,[]);this.Fg=document.createElement("input");this.Fg.className="input im_sa_in";this.li=document.createElement("input");this.li.className="input im_sa_in";this.Ye=new Ld([["us",locale.US+"/"+locale.Oceanic],["eu",locale.Europe],["kr",locale.Korea],["tw",locale.Taiwan],["cn",locale.China]]);g_settings.userData&&g_settings.userData.region&&this.Ye.select(g_settings.userData.region);
A(b,"div",{"class":"content_header im_header",text:"Import a character from Battle.net"});this.Ye.b.className="single_select single_select_focussable";this.mi=z("input",{type:"submit",value:"Import"});Vb(this.mi,{"default":"button button_light",focus:"button_light_hover",hover:"button_light_hover"});a=A(b,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:"Name"});T(A(a,"div",{"class":"im_sa_right"}),this.Fg);ad(a);a=A(b,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:"Realm"});
T(A(a,"div",{"class":"im_sa_right"}),this.li);ad(a);a=A(b,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:"Region"});T(A(a,"div",{"class":"im_sa_right"}),this.Ye.b);ad(a);T(A(b,"div",{"class":"im_sa_b"}),this.mi);T(A(this.b,"div",{"class":"im_inputs"}),b);this.vh=A(this.b,"div",{"class":"im_profiles"});ad(this.b);this.qj()}
jd.prototype={b:j,Pg:j,vh:j,Fg:j,mi:j,Ye:j,Ee:function(){var a=this.Fg.value,b=this.li.value;""==a||2>a.length?o.C("The character name is empty or too short!"):""==b?o.C("The server name is empty or too short!"):this.Pg.notify([a,b,this.Ye.ha()])},qj:function(){U(this.vh);T(this.vh,V.bn("div",{"class":"im_profiles_header",text:"Stored Imports"},"See your account settings to manage Stored Imports."));if(g_settings.userData&&g_settings.userData.battlenet_profiles)for(var a in g_settings.userData.battlenet_profiles){var b=
g_settings.userData.battlenet_profiles[a],c=A(this.vh,"a",{"class":"im_profile",href:"javascript:"});I(c,"click",this.Pg.notify,this.Pg,[[b.Name,b.Realm,b.Region]]);A(c,"span",{"class":"bnpm_name",text:b.Name});A(c,"span",{text:", "+b.Level+" "+locale.CharacterRace[b.CharacterRaceID]+" "});var d=A(c,"span",{"class":"character_class_"+b.CharacterClassID+" bnpm_chrclass",text:locale.CharacterClass[b.CharacterClassID]});5==b.CharacterClassID?S(d,"character_class_5_white_bg_fix"):4==b.CharacterClassID&&
S(d,"character_class_4_white_bg_fix");A(c,"span",{"class":"bnpm_origin",text:", "+b.Region.toUpperCase()+"-"+b.Realm})}}};function kd(){this.c=new D;this.c.g("save",["name","desc"]);this.c.g("update",[]);var a;this.b=z("div",{"class":"im_parent"});this.ze=z("form",{action:"javascript:"});I(this.ze,"submit",function(){this.c.fire("update")},this,[]);A(this.ze,"div",{"class":"content_header im_header",text:"Update the current profile"});T(A(this.ze,"div",{"class":"im_sa_b"}),z("input",{type:"submit",value:"Update","class":"button button_light"}));T(A(this.b,"div",{"class":"im_sa_inputs"}),this.ze);this.gd=z("form",{action:"javascript:"});
I(this.gd,"submit",function(){this.c.fire("save",{name:ga(this.Qb),desc:ga(this.ai)})},this,[]);this.Qb=z("input",{"class":"input im_sa_in"});this.ai=z("input",{"class":"input im_sa_in"});A(this.gd,"div",{"class":"content_header im_header",text:"Save as a profile"});a=A(this.gd,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:locale.S_ProfileName});T(A(a,"div",{"class":"im_sa_right"}),this.Qb);ad(a);a=A(this.gd,"div",{"class":"im_sa_r"});A(a,"div",{"class":"im_sa_left",text:locale.S_CharacterDescription});
T(A(a,"div",{"class":"im_sa_right"}),this.ai);ad(a);T(A(this.gd,"div",{"class":"im_sa_b"}),z("input",{type:"submit",value:"Save","class":"button button_light"}));T(A(this.b,"div",{"class":"im_sa_inputs"}),this.gd)}kd.prototype={c:j,b:j,Qb:j,ai:j,gd:j,ze:j,update:function(a){this.ze.style.display=a?"":"none"}};function gd(){this.c=new D;this.c.g("add_buff",["id"]);this.b=z("div",{"class":"bi_p"});this.content=A(this.b,"div",{display:"none"});this.va=A(this.content,"div",{});this.Gk=A(this.content,"div",{});this.vl=A(this.content,"div",{});this.Mk=A(this.content,"div",{});this.si=A(this.b,"div",{"class":"bi_loading"})}
gd.prototype={c:j,b:j,va:j,Gk:j,Mk:j,ni:l,content:j,si:j,update:function(a,b,c){var d,f,g=new Id,h=new Id;h.wa.className="collapse_h bi_collapse_h";h.content.className="collapse_c bi_collapse_c";h.b.className="collapse bi_collapse";g.wa.className="collapse_h bi_collapse_h";g.content.className="collapse_c bi_collapse_c";g.b.className="collapse bi_collapse";x(this.Gk,h.b);x(this.Mk,g.b);for(f in a)d=a[f],h.content.appendChild(this.Yh(d.q,d,i,d.name));for(f in b)d=b[f],g.content.appendChild(this.Yh(d.q,
d,i,d.name));Rb(h.content);h.wa.innerHTML="<a clas='bi_bc_link' href='javascript:'>Items (Use-Effects)</a><span class='bi_cb_count'>("+a.length+")</span>";Rb(g.content);g.wa.innerHTML="<a clas='bi_bc_link' href='javascript:'>Item Procs</a><span class='bi_cb_count'>("+b.length+")</span>";Sb(this.vl);this.ya(c,"Talent Buffs",this.vl,i)},Co:function(){this.ni=l;this.content.style.display="none";this.si.style.display="block"},Ze:function(a){U(this.va);this.ya(a.Warrior,"Warrior",this.va,l);this.ya(a.Paladin,
"Paladin",this.va,l);this.ya(a.Hunter,"Hunter",this.va,l);this.ya(a.Rogue,"Rogue",this.va,l);this.ya(a.Priest,"Priest",this.va,l);this.ya(a.DeathKnight,"DeathKnight",this.va,l);this.ya(a.Shaman,"Shaman",this.va,l);this.ya(a.Mage,"Mage",this.va,l);this.ya(a.Warlock,"Warlock",this.va,l);this.ya(a.Druid,"Druid",this.va,l);this.ya(a.Elixirs,"Elixirs",this.va,l);this.ya(a.BattleElixirs,"Battle Elixirs",this.va,l);this.ya(a.GuardianElixirs,"Guardian Elixirs",this.va,l);this.ya(a.Flasks,"Flasks",this.va,
l);this.ya(a.Food,"Food",this.va,l);this.ni=i;this.content.style.display="block";this.si.style.display="none"},ya:function(a,b,c,d){var f=new Id,g,h;g=j;var k={},r=document.createElement("div");f.wa.className="collapse_h bi_collapse_h";f.content.className="collapse_c bi_collapse_c";f.b.className="collapse bi_collapse";for(g=h=0;g<a.length;g++)k[a[g].name+a[g].k.Lb()]=this.Yh(a[g].q,a[g].k,l,a[g].name),h++;f.wa.innerHTML="<a clas='bi_bc_link' href='javascript:'>"+b+"</a><span class='bi_cb_count'>("+
h+")</span>";g=new Xd(k,r);g.Zd.className="input input_small bi_fcc_f";g.Yo();a=A(f.content,"div",{"class":"bi_fcc_parent",text:"Filter"});a.appendChild(g.Zd);f.content.appendChild(a);f.content.appendChild(r);Rb(f.content);d||f.collapse();h&&c.appendChild(f.b)},Yh:function(a,b,c,d){c=z("div",{"class":"bi_buff_p"});A(c,"img",{src:"/images/icons/small/"+a+".png","class":"bi_buff"});a=A(c,"a",{href:"javascript:",text:18<d.length?d.substr(0,15)+"...":d});a.onmouseout=function(){o.hide()};a.onmousemove=
function(){o.move()};a.ondblclick=m(l);Eb(a,"mouseover",new t(function(){o.nb(b.ga())},this),[]);I(a,"click",this.c.fire,this.c,["add_buff",{id:b.id}]);return c}};function dd(){this.b=z("div",{"class":"ov_p"});this.f=[]}
dd.prototype={b:j,Od:j,Vc:j,Qd:j,Pd:j,Wh:j,vi:j,f:[],update:function(a){var b,c,d,f=new t(function(b){b.is("stat_tooltip_show")?o.pl(a.zn(b.get("group"),b.get("index")),b.get("node")):b.is("stat_tooltip_hide")&&o.hide()},this);U(this.b);b=A(this.b,"div",{"class":"ov_header"});A(b,"span",{"class":"ov_name",text:a.name?a.name+",":""});A(b,"span",{"class":"ov_level",text:"Level "+a.e});0<a.nk()&&(A(b,"span",{"class":"ov_character_race",text:locale.CharacterRace[a.nk()]}),0<a.yc()&&(b=A(b,"span",{"class":"ov_character_class",
text:locale.CharacterClass[a.yc()]}),S(b,"character_class_"+a.yc()),5==a.yc()?S(b,"character_class_5_white_bg_fix"):4==a.yc()&&S(b,"character_class_4_white_bg_fix")));b=A(this.b,"div",{"class":"ov_gear_container"});A(b,"div",{"class":"ov_title",text:"Gear"});c=A(b,"div",{"class":"ov_items_p"});for(b=0;b<a.j.length;b++)d=A(c,"div",{"class":"ov_item_p row_bg"+(b%2+1)}),this.Ol(d,a,b);c=A(this.b,"div",{"class":"ov_stats_container"});A(c,"div",{"class":"ov_title",text:"Stats"});this.ra=[];for(b=0;b<locale.CS_StatGroups.length;b++){this.ra[b]=
new Id;6!=b&&this.ra[b].toggle();this.f[b]=[];for(d=0;d<locale.CS_Stats[b].length;d++){var g=new Jd(b,d);g.c.w(new y(["stat_tooltip_show","stat_tooltip_hide"],f));this.f[b][d]=g;this.ra[b].content.appendChild(this.f[b][d].b)}this.ra[b].b.className="cs_st_p";this.ra[b].content.className="ov_st_c";d=A(this.ra[b].wa,"div",{"class":"stat_title_p"});A(d,"a",{"class":"stat_title",text:locale.CS_StatGroups[b],href:"javascript:"});c.appendChild(this.ra[b].b)}g_settings.profile.ProfileInfo&&0<g_settings.profile.ProfileInfo.ID&&
(this.Vc=A(this.b,"div",{"class":"ov_comments_p"}),A(this.Vc,"div",{"class":"ov_title",text:"Comments:"}),this.Od=A(this.Vc,"div",{"class":"ov_comments_c"}),this.Qd=A(this.Vc,"div",{"class":"co_page"}),g_settings.userId&&(A(this.Vc,"div",{text:"Add a comment:","class":"co_add_note"}),this.Pd=A(this.Vc,"form",{action:"javascript:"}),this.vi=A(this.Pd,"textarea",{"class":"textarea co_textarea"}),f=A(this.Pd,"input",{type:"submit",value:"Post Comment"}),V.Sm(f),I(this.Pd,"submit",this.hm,this,[]),this.Wh=
A(this.Vc,"div",{"class":"co_bar_loading"})),this.Uf(1));this.Gm(a.M.f,a.yc(),a.xn());ad(this.b);f=new ce;f.update(a);T(this.b,f.b)},Dm:function(){U(this.Od);U(this.Qd);A(this.Od,"div",{"class":"loading",text:"&nbsp;"})},Uf:function(a){this.Dm();fa("api/comments.php?page="+a+"&profile="+g_settings.profile.ProfileInfo.ID,new t(this.Wl,this),[])},hm:function(){var a=ga(this.vi);0==a.length||/^\s+$/.exec(a)?o.C("The comment is empty!"):5>a.length?o.C("The comment is too short!"):(this.Pd.style.display=
"none",this.Wh.style.display="block",ea("api/comments.php",{content:a,profile:g_settings.profile.ProfileInfo.ID},new t(this.im,this),[]))},im:function(a){try{u(a),this.Uf(1),this.vi.value=""}catch(b){o.C(b)}this.Pd.style.display="block";this.Wh.style.display="none"},Wl:function(a){try{var b=u(a),c=b.comments,d=b.page,f=b.page_count;U(this.Od);var g=c.length;d==f&&(g-=1);if(0<g){for(a=0;a<g;a++){var h=A(this.Od,"div",{"class":"co_c row_bg"+(1+a%2)});A(h,"div",{"class":"co_header",text:c[a].UserName+
", <span class='co_time'>"+c[a].Created+"</span>"});A(h,"div",{"class":"co_content",text:c[a].Content})}U(this.Qd);if(1<d){var k=A(this.Qd,"a",{href:"javascript:;","class":"co_link_page",text:"\u00ab Newer"});Eb(k,"click",new t(function(){this.Uf(d-1)},this),[])}A(this.Qd,"span",{href:"javascript:;","class":"co_cur_page",text:d+" of "+f});if(d<f){var r=A(this.Qd,"a",{href:"javascript:;","class":"co_link_page",text:"Older \u00bb"});Eb(r,"click",new t(function(){this.Uf(d+1)},this),[])}}else h=A(this.Od,
"div",{"class":"co_none",text:"No comments!"})}catch(v){o.C(v)}},Ol:function(a,b,c){if(b=b.j[c]){A(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+":"});c=A(a,"div",{"class":"ov_item_info_p"});A(c,"img",{src:"/images/icons/small/"+b.q+".png","class":"ov_item_icon"});a=A(c,"a",{href:"javascript:","class":"ov_item_link item_quality_"+b.da,text:b.name});V.sb(a,b.ga());for(var c=A(c,"div",{"class":"ov_gems_p"}),d=0;3>d;d++){var f=b.bd(d);f!=j&&(a=A(c,"div",{"class":"ov_gem_p"}),A(a,"img",{src:"/images/icons/gem/"+
f.q+".png","class":"ov_gem_icon"}),a=A(a,"a",{href:"javascript:","class":"ov_gem_link item_quality_"+f.da,text:f.name}),V.sb(a,f.ga()))}}else A(a,"span",{"class":"ov_slot_name",text:locale.Slots[c]+": Nothing equipped"})},Gm:function(a,b,c){this.f[0][1].b.style.display=0<b&&0==(1<<b&90)?"block":"none";this.f[0][2].b.style.display=0<b&&(1==b||11==b&&5==c)?"block":"none";this.f[0][3].b.style.display=0<b&&(4==b||11==b&&1==c)?"block":"none";this.f[0][4].b.style.display=0<b&&3==b?"block":"none";this.f[0][5].b.style.display=
0<b&&6==b?"block":"none";for(b=0;b<this.f[0].length;b++)this.f[0][b].Z(a.fb[b]);for(b=0;b<this.f[1].length;b++)this.f[1][b].Z(a.attributes[b]);for(b=0;b<this.f[6].length;b++)this.f[6][b].Z(a.Ub[b]);for(b=0;b<this.f[4].length;b++)this.f[4][b].Z(a.k[b]);for(b=0;b<this.f[5].length;b++)this.f[5][b].Z(a.la[b]);for(b=0;b<this.f[2].length;b++)this.f[2][b].Z(a.O[b]);for(b=0;b<this.f[3].length;b++)this.f[3][b].Z(a.ka[b])}};function de(a,b){this.Md=new y("class_change,race_change,level_change,item_change,profession_change,profession_level_change,character_loaded,stats_change,preview_stats_change,buffs_change,shapeform_change,presence_change".split(","),new t(function(a){a.is("class_change")?this.zl(a.get("class")):a.is("race_change")?this.El(a.get("race")):a.is("level_change")?this.Mf(a.get("level")):a.is("item_change")?this.Hl(a.get("slot")):a.is("profession_change")?this.Nf():a.is("profession_level_change")?this.Nf():
a.is("character_loaded")?this.de():a.is("stats_change")?this.Il(a.get("stats")):a.is("buffs_change")?this.yl():a.is("preview_stats_change")?this.kp(a.get("previewStats")):a.is("shapeform_change")?this.Gl():a.is("presence_change")?this.Dl():e(Error("Unhandled event: "+a.event))},this));a.w(this.Md);this.Cf=new y("race_select,class_select,level_select,profession_select,profession_level_select,stat_tooltip_show,stat_tooltip_hide,item_left_click,item_right_click,item_tooltip_show,item_tooltip_hide,select_shape,select_presence,remove_buff,add_stack".split(","),
new t(function(b){if(b.is("race_select")){cc.ln(b.get("race_id"),new t(this.Am,this));o.qa()}else if(b.is("class_select")){cc.jn(b.get("class_id"),new t(this.zm,this));o.qa()}else if(b.is("level_select"))try{this.character.ea(b.get("level"))}catch(d){d instanceof Uc?o.C(d.toString()):ca(d)}else if(b.is("profession_select"))this.character.el(b.get("index"),b.get("id"));else if(b.is("profession_level_select"))this.character.To(b.get("index"),b.get("level"));else if(b.is("stat_tooltip_show")){var f=
zd(this.character,b.get("group"),b.get("index"));f&&o.pl(f,b.get("node"))}else if(b.is("stat_tooltip_hide"))o.hide();else if(b.is("item_left_click"))if(b.get("index")>0&&this.character.ma(b.get("slot"),b.get("index"))!=j){this.character.ep(b.get("slot"),b.get("index"));this.sheet.wk(b.get("slot"),b.get("index"))}else this.sheet.Io(b.get("slot"));else if(b.is("item_right_click")){if(b.get("index")==0){this.character.removeItem(b.get("slot"));this.sheet.wk(b.get("slot"),b.get("index"))}}else if(b.is("item_tooltip_show"))(f=
this.character.ma(b.get("slot"),b.get("index")))&&b.get("index")>0&&this.character.Ri(b.get("slot"),f);else if(b.is("item_tooltip_hide"))b.get("index")>0&&this.character.Mi();else if(b.is("select_shape"))this.character.qd(b.get("shape_id"));else if(b.is("select_presence"))this.character.te(b.get("presence_id"));else if(b.is("remove_buff")){b=b.get("id");a.qo(b);a.Jn(b)||o.hide()}else b.is("add_stack")?a.Gd(b.get("id")):e(Error("Unhandled event: "+b.event))},this));b.w(this.Cf);this.sheet=b;this.character=
a;this.de()}
de.prototype={sheet:j,character:j,Cf:j,Md:j,Am:function(a){var b=this.character.d==j?-1:this.character.d.id;this.character.fl(new Xc(this.character,a));a=this.character.d==j?-1:this.character.d.id;b!=a||-1==a?this.sheet.Di.kl():o.enable()},zm:function(a){this.character.jh(new Yc(a));o.enable()},detach:function(){this.character.lb(this.Md);this.sheet.lb(this.Cf)},de:function(){this.Nf();this.Il(this.character.f);this.El();this.zl();this.nj();this.Mf();this.yl()},zl:function(){this.sheet.ql(this.character.d==j?
-1:this.character.d.id);this.sheet.jp(this.character.ii(),Rc);this.character.d!=j?this.sheet.Ra[18].Ui(i):this.sheet.Ra[18].Ui(l);this.Gl();this.Dl();this.Fl();this.nj();this.Mf()},Gl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.rd){var c=this.character.d.rd[b];a.push(new ee(c.id,c.n[0].k.q,c.n[0].k.Lb(this.character).join("<br />")))}this.sheet.Af.update(a,this.character.d.xa)}else this.sheet.Af.update(j,0)},Dl:function(){if(this.character.d!=j){var a=[],b;for(b in this.character.d.Fc){var c=
this.character.d.Fc[b];a.push(new fe(c.id,c.q,c.Lb(this.character).join("<br />")))}this.sheet.jf.update(a,this.character.d.zb?this.character.d.zb.k.id:0)}else this.sheet.jf.update(j,0)},El:function(){this.Fl()},Mf:function(){this.sheet.Mf(this.character.e);this.nj()},Fl:function(){this.sheet.Di.update(this.character.J==j?-1:this.character.J.id,this.character.d==j?-1:this.character.d.id)},Nf:function(){for(var a=[],b=0;2>b;b++){var c=this.character.ja[b];c==j?a.push(j):a.push(new Md(c.id,c.e))}this.sheet.Nf(a,
this.character.e)},Hl:function(a){for(var b=[],c,d=0;5>d;d++)c=this.character.ma(a,d),c==j?b.push(j):b.push(new ge(this.character,c,a));this.sheet.Ra[a].update(b)},nj:function(){for(var a=0;19>a;a++)this.Hl(a)},Il:function(a){var b;b=this.character.d;this.sheet.f[0][1].b.style.display=b!=j&&0==(1<<b.id&90)?"block":"none";this.sheet.f[0][2].b.style.display=b!=j&&(1==b.id||11==b.id&&5==b.xa)?"block":"none";this.sheet.f[0][3].b.style.display=b!=j&&(4==b.id||11==b.id&&1==b.xa)?"block":"none";this.sheet.f[0][4].b.style.display=
b!=j&&3==b.id?"block":"none";this.sheet.f[0][5].b.style.display=b!=j&&6==b.id?"block":"none";for(b=0;b<this.sheet.f[0].length;b++)this.sheet.f[0][b].Z(a.fb[b]);for(b=0;b<this.sheet.f[1].length;b++)this.sheet.f[1][b].Z(a.attributes[b]);for(b=0;b<this.sheet.f[6].length;b++)this.sheet.f[6][b].Z(a.Ub[b]);for(b=0;b<this.sheet.f[4].length;b++)this.sheet.f[4][b].Z(a.k[b]);for(b=0;b<this.sheet.f[5].length;b++)this.sheet.f[5][b].Z(a.la[b]);for(b=0;b<this.sheet.f[2].length;b++)this.sheet.f[2][b].Z(a.O[b]);
for(b=0;b<this.sheet.f[3].length;b++)this.sheet.f[3][b].Z(a.ka[b])},kp:function(a){if(a==j)this.mc();else{var b;for(b=0;b<this.sheet.f[0].length;b++)this.sheet.f[0][b].pd(a.fb[b]);for(b=0;b<this.sheet.f[1].length;b++)this.sheet.f[1][b].pd(a.attributes[b]);for(b=0;b<this.sheet.f[6].length;b++)this.sheet.f[6][b].pd(a.Ub[b]);for(b=0;b<this.sheet.f[4].length;b++)this.sheet.f[4][b].pd(a.k[b]);for(b=0;b<this.sheet.f[5].length;b++)this.sheet.f[5][b].pd(a.la[b]);for(b=0;b<this.sheet.f[2].length;b++)this.sheet.f[2][b].pd(a.O[b]);
for(b=0;b<this.sheet.f[3].length;b++)this.sheet.f[3][b].pd(a.ka[b])}},mc:function(){var a,b;for(a=0;a<this.sheet.f.length;a++)for(b=0;b<this.sheet.f[a].length;b++)this.sheet.f[a][b].Bo()},yl:function(){var a=this.character.n.n,b=[],c;for(c in a)b.push(new he(a[c],this.character));this.sheet.Ne.update(b)}};function za(a,b){this.B=a;this.t=b;this.Cf=new y(["item_left_click"],new t(function(a){a.is("item_left_click")&&this.lm(a.get("slot"),a.get("index"))},this));this.we=[];for(var c=0;c<Kc;c++)this.we[c]="";this.Md=new y("class_change,gem_change,random_enchant_change,talent_tree_selected,talents_reset,talent_tree_reset,talent_point_added,talent_point_removed,talent_distribution_set,character_loaded,item_change".split(","),new t(function(a){if(a.is("class_change"))this.Nj(a.get("class"));else if(a.is("character_loaded"))this.wh();
else if(a.is("gem_change"))this.ce==pd&&this.Td==md&&this.oj();else if(a.is("item_change")){if(a.get("slot")==this.r)switch(this.ce){case Ba:this.Cl();break;case pd:switch(this.Td){case md:this.oj();break;case od:this.Of();break;case nd:this.Al()}}}else if(a.is("random_enchant_change")){if(this.ce==pd&&this.Td==nd){a=this.B.D();this.t.Vg.update(new ge(a,a.ma(this.r),this.r))}}else if(a.is("talent_tree_selected"))b.qb.mb(a.get("tree"));else if(a.is("talent_tree_reset"))b.qb.update();else if(a.is("talents_reset")){b.qb.mb(this.B.D().wn());
b.qb.update()}else a.is("talent_point_added")?b.qb.update():a.is("talent_point_removed")?b.qb.update():a.is("talent_distribution_set")?b.qb.update():e(Error("Unhandled event: "+a.event))},this));this.t.Ha.w(this.Cf);c=new y("select_talent_tree,reset_talent_tree,reset_talents,show_tooltip,add_talent_point,remove_talent_point".split(","),new t(function(a){var b=this.B.D();if(a.is("select_talent_tree"))b.Jo(a.get("tree"));else if(a.is("reset_talent_tree"))b.Do(a.get("tree"));else if(a.is("reset_talents"))b.Eo();
else if(a.is("add_talent_point"))b.Rm(a.get("tree"),a.get("row"),a.get("col"));else if(a.is("remove_talent_point"))b.wo(a.get("tree"),a.get("row"),a.get("col"));else if(a.is("show_tooltip")){var c=a.get("row"),h=a.get("col"),k=a.get("tree");o.rl(Cd(b.An(),k,c,h),k,c,h,a.get("node"))}else e(Error("Unhandled event "+a.event))},this));b.qb.w(c);this.$=new na;this.$.t.show(l);this.$.t.Tg.style.display="block";this.$.w(new y(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new t(function(a){var b;
if(a.is("show_tooltip"))b=this.B.D(),o.nb(ra(a.get("entity"),b)),b.Ri(this.r,a.get("entity"));else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip"))o.hide(),this.B.D().Mi();else if(a.is("click")){if((b=this.B.D())&&-1!=this.r)try{b.Uj(this.r,a.get("entity").clone())}catch(c){c instanceof Ec?o.C(c):ca(c)}}else if(a.is("update")&&((new ie("api/items.php")).update(this.$),-1!=this.r)){a=this.$.Ja();this.Fe("name",a);this.Fe("quality",a);this.Fe("level",a);this.Fe("reqlvl",a);if(ga(this.$.t.Nk)){var h=
this.$.z.ub;for(b in h)this.Fe(h[b].X,h[b].Ja())}this.we[this.r]=a}},this)));this.Zb=new je;this.Zb.z.S("usablebyclass",i);this.Zb.t.qh(i);this.Zb.Lf();this.Zb.w(new y("show_tooltip,move_tooltip,hide_tooltip,update,click,itemset_click".split(","),new t(function(a){var b;if(a.is("show_tooltip")){b=this.B.D();o.nb(ra(a.get("entity"),b));b.Ri(this.r,a.get("entity"))}else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip")){o.hide();this.B.D().Mi()}else if(a.is("click"))(b=this.B.D())&&this.ik(a.get("entity"));
else if(a.is("itemset_click")){a=a.get("items");for(b=0;b<a.length;b++)this.ik(a[b])}else a.is("update")&&(new ie("api/sets.php")).update(this.Zb)},this)));this.Ga=(new la).Ga;this.Wa=new ke;this.Wa.w(new y(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new t(function(a){var b;a.is("show_tooltip")?(b=this.B.D(),o.nb(Ca(a.get("entity"),b,0,j)),b.Qi(this.r,a.get("entity"))):a.is("move_tooltip")?o.move():a.is("hide_tooltip")?(o.hide(),this.B.D().so()):a.is("click")?(b=this.B.D())&&-1!=
this.r&&b.ma(this.r)!=j&&b.Pc(this.r,a.get("entity").F[0].nd):a.is("update")&&(new ie("api/spells.php")).update(this.Wa)},this)));this.eb=new na;this.eb.w(new y(["show_tooltip","move_tooltip","hide_tooltip","update","click"],new t(function(a){var b;if(a.is("show_tooltip"))b=this.B.D(),o.nb(ra(a.get("entity"),b)),b.bl(this.r,this.Kc,a.get("entity"));else if(a.is("move_tooltip"))o.move();else if(a.is("hide_tooltip"))o.hide(),this.B.D().Pk();else if(a.is("click")){if((b=this.B.D())&&-1!=this.r&&b.ma(this.r)!=
j)try{b.Qc(this.r,this.Kc,a.get("entity").clone())}catch(c){c instanceof Ec?o.C(c):ca(c)}}else a.is("update")&&(new ie("api/items.php")).update(this.eb)},this)));this.t.c.w(new y(["import","save","update","tab_change","csfolder_tab_change"],new t(function(a){a.is("import")?this.Ee(a.get("name"),a.get("server"),a.get("region")):a.is("save")?this.Ej(a.get("name"),a.get("desc")):a.is("update")?this.Fj():a.is("tab_change")?(this.ce=a.get("newTab"),this.ce==Ba?this.Cl():this.ce==qd&&(a=this.B.oh.profile.ProfileInfo,
this.t.yf.update(a&&0!=a.ID&&a.UserID==this.B.oh.userId))):a.is("csfolder_tab_change")?(this.Td=a.get("newTab"),this.mj()):e(Error("Unhandled event "+a.event))},this)));this.t.Bg.c.w(new y(["add_glyph","remove_glyph"],new t(function(a){var b=this.B.D();if(a.is("add_glyph")){try{b.$f(a.get("glyph").Fb)}catch(c){o.C(c)}this.wh()}else a.is("remove_glyph")&&(b.Li(a.get("glyph").Fb),this.wh())},this)));this.t.Tc.c.w(new y(["add_buff"],new t(function(a){var b=this.B.D();a.is("add_buff")&&(a=a.get("id"),
F.Id(a,new t(function(a){try{var c=F.get(a);c.F[0]&&(23==c.F[0].Vd||42==c.F[0].Vd)&&0<c.F[0].ne?b.Ed(c.F[0].ne):b.Ed(a)}catch(d){o.C(d)}},this),[a]))},this)));this.t.Zg.c.w(new y("wowreforge_export,reforge,restore,remove_reforge_preview,reforge_preview,reforge_all,restore_all,reforge_item_preview,remove_reforge_item_preview".split(","),new t(function(a){var b=this.B.D();if(a.is("reforge")){b.oo(this.r,a.get("reduce"),a.get("add"));this.Of()}else if(a.is("restore")){b.Ho(this.r);this.Of()}else if(a.is("reforge_item_preview"))b.Uo(this.r,
a.get("reduce"),a.get("add"));else if(a.is("remove_reforge_item_preview"))b.to();else if(a.is("reforge_preview"))b.mh(a.get("reforge_array"));else if(a.is("remove_reforge_preview"))b.uo();else if(a.is("restore_all"))b.Go();else if(a.is("reforge_all")){b.no(a.get("reforge_array"));this.Of()}else if(a.is("wowreforge_export")){a=this.B.D().fp();b=document.createElement("form");b.method="POST";b.action="http://wowreforge.com/Profiles/Import";b.name="wowreforge_export";b.target="_blank";b.id="wowreforge_export";
b.style.display="none";A(b,"input",{type:"hidden",name:"profile",value:a});A(b,"input",{type:"hidden",name:"metadata",value:'{"BasedOn" : null,"CanUpdate" : false,"Data" : null,"Origin" : "chardev.org","SourceLink" : null}'});document.body.appendChild(b);document.getElementById("wowreforge_export").submit();document.body.removeChild(b)}},this)));this.t.sh.c.w(new y(["socket_used_gem","socket_left_click","socket_right_click","used_gem_tooltip_show","used_gem_tooltip_hide"],new t(function(a){var b,
c;a.is("socket_left_click")?(b=this.B.D(),c=b.ma(this.r,0),this.Kc=a.get("socket"),c!=j&&(a=1==c.U[this.Kc]?64:2==c.U[this.Kc]?297:4==c.U[this.Kc]?308:8==c.U[this.Kc]?282:32==c.U[this.Kc]?1024:319,le(this.eb,0,3,a),this.eb.z.S("usablebyclass",i),this.eb.z.S("issocketablegem",i),this.eb.z.S("gemreqitemlvl",i),this.eb.z.S("class",i),this.eb.set((b.d!=j?"usablebyclass.eq."+(1<<b.d.id-1)+";":"")+"issocketablegem.eq.1;class.eq.3;subclass.ba."+a+";gemreqitemlvl.le."+c.e+";",j,j,1),this.eb.update())):a.is("socket_right_click")?
(b=this.B.D(),b.Ki(this.r,a.get("socket"))):a.is("used_gem_tooltip_show")?(b=this.B.D(),b.bl(this.r,a.get("socket"),E.get(a.get("gemId")))):a.is("used_gem_tooltip_hide")?(b=this.B.D(),b.Pk()):a.is("socket_used_gem")?(b=this.B.D(),b.Qc(this.r,a.get("socket"),E.get(a.get("gemId")))):e(Error("Unhandled event "+a.event))},this)));this.t.Vg.c.w(new y(["change"],new t(function(a){a.is("change")?this.B.D().Qo(this.r,a.get("randomEnchantmentId")):e(Error("Unhandled event "+a.event))},this)));this.Ga.set("ismine.eq.1;",
j,j,1);b.Hn(this.$.t,this.Wa.t,this.Ga.t,this.Zb.t);b.sh.Ro(this.eb.t.b);this.eb.t.show(i);this.B.w(new y(["character_change","logged_in","logged_out"],new t(function(a){a.is("character_change")?this.fm(a.get("character")):a.is("logged_in")?this.t.Eg.qj():a.is("logged_out")&&this.t.Eg.qj()},this)))}
za.prototype={t:j,B:j,$:j,eb:j,Wa:j,Ga:j,Zb:j,r:-1,Kc:-1,Ie:j,we:[],ce:0,Td:0,Md:j,fm:function(a){this.Ie&&this.Ie.detach();this.Ie=new de(a,this.t.Ha);this.Nj(a.d);a.w(this.Md)},Nj:function(a){var b=a!=j?"usablebyclass.eq."+(1<<a.id-1)+";":"usablebyclass.eq.0;";this.$.Rk("usablebyclass",b);this.Zb.Rk("usablebyclass",b);this.Zb.Lf();this.Eh("usablebyclass",b);a!=j?this.t.qb.de(new me(a.l,this.B.D())):this.t.qb.de(j);this.t.Tc.Co();this.wh();this.mj()},lm:function(a,b){0==b&&(this.r=a,!this.B.D().ma(this.r,
0)&&0!=this.Td?this.t.rg.show(0):this.mj())},wh:function(){var a=this.B.D(),b=[];if(a.d)for(var c=0;c<a.d.eg.length;c++)b.push(new ne(a.d.eg[c],a));this.t.Bg.update(b,new oe(a))},Cl:function(){this.t.zi.update(new oe(this.B.D()))},mj:function(){switch(this.Td){case 0:if(-1==this.r)break;this.ip();break;case md:if(-1==this.r)break;this.oj();break;case nd:if(-1==this.r)break;this.Al();break;case od:if(-1==this.r)break;this.Of();break;case 4:this.Zb.update();break;case 5:this.hp()}},hp:function(){var a=
this.B.D();this.t.Tc.ni||Mc(new t(function(a,b){b!=j?o.C(b):this.t.Tc.Ze(a)},this),a);var b,c,d,f,g=[],h=[],k,r;for(c=0;19>c;c++)if(f=a.u.get(c)){for(d=0;d<f.K.length;d++)if(k=f.K[d],k!=j){for(b=0;3>b;b++)if((r=k.F[b])&&42==r.Vd)(r=r.vn())&&g.push(new pe(r,a));k.zk()||h.push(new pe(k,a))}for(d=0;d<f.G.length;d++)b=f.G[d],1==b.types[0]&&g.push(new pe(b.K[0],a))}d=[];if(a.d!=j&&a.d.Xh!=j)for(c=0;c<a.d.Xh.length;c++)f=a.d.Xh[c],a.V.Jd[f[1]]&&d.push(Oc(new R(f[0]),a));this.t.Tc.update(h,g,d)},Of:function(){var a=
this.B.D(),b=j;-1!=this.r&&(b=a.ma(this.r,0));this.t.Zg.update(b==j?j:new ge(a,b,this.r))},Al:function(){this.Wa.t.show(l);if(-1!=this.r){var a=this.B.D(),b=a.ma(this.r,0);this.t.Vg.update(b==j?j:new ge(a,b,this.r));b!=j&&(this.Wa.z.S("isenchant",i),this.Wa.z.S("itemclasssubclasscombined",i),this.Wa.z.S("slot",i),this.Wa.z.S("enchantitemlevel",i),this.Wa.z.S("enchantchrlevel",i),this.Wa.set("isenchant.eq.1;itemclasssubclasscombined.eq."+b.Y+"."+b.W+";slot.ba."+(1<<b.ua)+";enchantitemlevel.le."+b.e+
";enchantchrlevel.le."+a.e+";",j,j,1),this.Wa.update(),this.Wa.t.show(i))}},oj:function(){if(-1!=this.r){var a=this.B.D(),b=a.ma(this.r,0);this.t.sh.update(b==j?j:new ge(a,b,this.r),this.Bn())}},ip:function(){var a=this.B.D(),b=this.we[this.r],c=a.Vm(this.r),d=a.Wm(this.r);le(this.$,c,d[0],d[1]);this.$.z.S("usablebyclass",i);this.$.z.S("issocketablegem",i);this.$.z.S("canbeusedwithlvl",i);this.$.z.S("class",i);this.$.z.S("gemreqitemlvl",i);this.$.t.setProperty("showDpsAndDelay",a.Nn(this.r));16!=
this.r&&17!=this.r&&18!=this.r?this.$.z.S("slot",i):this.$.z.S("slot",l);1==this.r||12==this.r||13==this.r||14==this.r||15==this.r||6==this.r||5==this.r?this.$.z.S("subclass",i):this.$.z.S("subclass",l);b=b.replace(/\bclass\.\w+\.[^;]*;/,"")+(0<=d[0]?"class.eq."+d[0]+";":"");b=b.replace(/\bslot\.\w+\.[^;]*;/,"")+(0<c?"slot.ba."+c+";":"");b=b.replace(/\bsubclass\.\w+\.[^;]*;/,"")+(0<d[1]?"subclass.ba."+d[1]+";":"");this.$.set(b,j,j,1);this.$.update();this.$.t.show(i)},Ee:function(a,b,c){try{bc.mo(a,
b,c,new t(this.km,this)),o.qa()}catch(d){o.C(d)}},km:function(a,b){b!=j?o.C(b):(this.B.D().load(a),this.t.$d.show(pd),o.enable())},Ej:function(a,b){try{var c=w.D();c.cl(a);c.Mo(b);bc.Nl(0,c,new t(this.rm,this));o.qa()}catch(d){o.C(d)}},Fj:function(){try{bc.Nl(this.B.oh.profile.ProfileInfo.ID,w.D(),new t(this.um,this)),o.qa()}catch(a){o.C(a)}},rm:function(a,b){b!=j?o.C(b):o.ml("Your profile was saved.<br /><a class='tt_profile_link' href='"+escape(ha()+a)+"' target='_blank'>Click here</a> to view it.")},
um:function(a,b){b!=j?o.C(b):o.ml("The profile was updated.")},Eh:function(a,b){for(var c=0;19>c;c++)this.we[c]=this.we[c].replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"),"")+b},Fe:function(a,b){var c=b.match(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;","g"));c?this.Eh(a,c.join("")):this.Eh(a,"")},Bn:function(){for(var a={},b,c,d=this.B.D(),f=0;f<Kc;f++)if(b=d.ma(f,0),b!=j)for(var g=0;3>g;g++)(c=b.I[g])&&(a[c.id]=new qe(d,c));return a},ik:function(a){var b=this.B.D();try{var c=a.clone(),d=Ua[c.ua];!d&&0!==d&&
e(Error("Unable to add "+c.name));12==d&&b.u.get(12)!=j&&b.u.get(13)==j?d=13:14==d&&b.u.get(14)!=j&&b.u.get(15)==j&&(d=15);b.Uj(d,c)}catch(f){f instanceof Ec?o.C(f):ca(f)}}};function wa(a,b,c){var d=new y("talent_tree_selected,talents_reset,talent_tree_reset,talent_point_added,talent_point_removed,talent_distribution_set".split(","),new t(function(c){if(c.is("talent_tree_selected"))b.mb(c.get("tree"));else if(c.is("talent_tree_reset"))b.update();else if(c.is("talents_reset")){b.mb(a.H);b.update()}else c.is("talent_point_added")?b.update():c.is("talent_point_removed")?b.update():c.is("talent_distribution_set")?b.update():e(Error("Unhandled event "+c.event))},this));a.w(d);
d=new y("select_talent_tree,reset_talent_tree,reset_talents,show_tooltip,add_talent_point,remove_talent_point".split(","),new t(function(b){if(b.is("select_talent_tree"))a.mb(b.get("tree"));else if(b.is("reset_talent_tree"))a.Wk(b.get("tree"));else if(b.is("reset_talents"))a.reset();else if(b.is("add_talent_point"))a.Vj(b.get("tree"),b.get("row"),b.get("col"));else if(b.is("remove_talent_point"))a.Qk(b.get("tree"),b.get("row"),b.get("col"));else if(b.is("show_tooltip")){var c=b.get("row"),d=b.get("col"),
k=b.get("tree");o.rl(Cd(a,k,c,d),k,c,d,b.get("node"))}else e(Error("Unhandled event "+b.event))},this));b.w(d);b.de(new me(a,c))}wa.prototype={};function la(){this.Ga=new re;this.Ga.t.qh(i);this.Ga.w(new y(["update","delete"],new t(function(a){a.is("update")?(new ie("api/profiles.php")).update(this.Ga):a.is("delete")&&confirm("Do you really want to delete the character profile '"+a.get("desc")+"'?")&&sa("api/profile.php",{action:"delete",id:a.get("profile_id")},function(a){try{a.get(),this.Ga.update()}catch(c){o.C(c)}},this)},this)))}la.prototype={Ga:j};function ge(a,b,c){this.id=b.id;this.q=b.q;this.name=b.name;this.da=b.da;this.r=c;this.M=a;this.ac=b;this.U=b.U;this.Q=this.fg=j;if(b.Oa!=j){this.fg=[];for(a=0;a<b.Oa.length;a++)this.fg.push(new se(b.Oa[a]));b.Q!=j&&(this.Q=new se(b.Q))}this.oa=b.oa;this.kc=b.kc;this.ca=b.ca;this.fa=b.fa}
ge.prototype={ac:j,M:j,q:"",id:0,name:"",da:-1,r:0,U:[],Q:j,fg:[],oa:-1,kc:0,ca:-1,fa:0,ga:function(){return ra(this.ac,this.M)},yn:function(){return yd(this.ac,this.M,1)},Ck:function(){return!this.M.kg(this.ac)||!this.M.vg(this.ac)||this.ac.Cb>this.M.e},Gn:function(){return this.M.uk(this.r)},ji:function(a){return this.ac.ji(a)},pi:function(){return this.ac.pi()},bd:function(a){return(a=this.ac.I[a])?new qe(this.M,a):j}};function qe(a,b){this.tj=b;this.M=a;this.q=b.q;this.id=b.id;this.name=b.name;this.da=b.da}qe.prototype={tj:j,M:j,q:"",id:0,name:"",ga:function(){return ra(this.tj,this.M)}};function se(a){this.id=a.id;this.name=a.name;this.description="";for(var b=0;5>b;b++)a.G[b]&&(this.description+=(this.description?", ":"")+a.G[b].description)}se.prototype={id:0,name:"",description:""};function me(a,b){this.pc=a;this.id=a.id;this.Mb=a.Mb;this.nc=a.aa;this.Vb=a.rows;this.cc=a.cols;this.Pb=a.Pb;this.ib=a.ib;this.Bc=a.Bc;this.aa=[];for(var c=0;c<a.aa;c++)this.aa[c]=new te(a,c,b)}me.prototype={pc:j,aa:[],id:0,Mb:l,nc:0,Vb:0,cc:0,tc:0,Pb:0,ib:0,Bc:0,zc:function(){return this.pc.zc()},zg:function(a){return this.pc.sa[a]},un:function(){return this.pc.Ag()},xg:function(){return this.pc.Ib},yg:function(){return this.pc.yg()}};function te(a,b,c){var d;this.na=[];for(d=0;d<a.na[b].length;d++)this.na.push(new pe(a.na[b][d],c));this.l=[];for(d=0;d<a.rows;d++){this.l[d]=[];for(c=0;c<a.cols;c++)a.l[b][d][c]!=j&&(this.l[d][c]=new ue(a.l[b][d][c]))}this.name=a.$b[b];this.ki=a.jj[b];this.description=a.ij[b]}te.prototype={ki:"",name:"",description:"",na:[],l:[]};function ue(a){this.bc=a;this.name=a.getName();this.q=a.K[0].q;this.max=a.Bb;this.Db=[];for(var b in a.Db)this.Db.push(a.Db[b])}ue.prototype={bc:j,max:0,name:"",q:"",ie:function(){return this.bc.R==this.max},Ke:function(){return this.bc.Ke()}};function pe(a,b){this.Xf=a;this.M=b;this.name=a.name;this.id=a.id;this.q=a.q}pe.prototype={Xf:j,M:j,name:"",q:"",id:"",Lb:function(){this.Xf.ea(this.M.e);return this.Xf.Lb(this.M)},ga:function(){return Ca(this.Xf,this.M,0,j)}};function ne(a,b){this.Fb=a;this.M=b;this.id=a.id}ne.prototype={Fb:j,M:j,id:0,getName:function(){return this.Fb.k.name},ga:function(){return Ca(this.Fb.k,this.M,0,j)}};function oe(a){var b,c;this.M=a;this.e=a.e;this.name=a.name?a.name:"";this.description=a.description?a.description:"";this.j=[];for(c=0;c<Kc;c++)b=a.ma(c,0),this.j[c]=b?new ge(a,a.ma(c,0),c):j;this.N=[];if(a.d){var d=a.d.N;for(c=0;c<d.length;c++)for(b=0;b<d[c].length;b++)d[c][b]&&this.N.push(new ne(d[c][b],a))}}
oe.prototype={M:j,e:0,name:"",description:"",j:[],N:[],yc:function(){return this.M.d?this.M.d.id:0},nk:function(){return this.Sh=this.M.J?this.M.J.id:0},mk:function(){return 0!=this.yc()?25>this.M.e?0:50>this.M.e?1:75>this.M.e?2:3:0},zn:function(a,b){return zd(this.M,a,b)},xn:function(){return this.M.d?this.M.d.xa:0}};function Nc(a,b,c,d){this.k=new pe(c,d);this.name=a;this.q=b}function Oc(a,b){return new Nc(a.name,a.q,a,b)}Nc.prototype={k:j,name:"",q:""};function ee(a,b,c){this.id=a;this.q=b;this.description=c}ee.prototype={id:0,q:"",description:""};function fe(a,b,c){this.id=a;this.q=b;this.description=c}fe.prototype={id:0,q:"",description:""};function he(a,b){this.Pf=a;this.Sl=b;this.id=a.k.id;this.q=a.k.q;this.vd=a.vd}he.prototype={id:-1,q:"",vd:l,Pf:j,ga:function(){return Ca(this.Pf.k,this.Sl,0,j)}};function ve(a,b){this.X=b;this.name=a;this.b=document.createElement("div")}var we=[["gt","&gt;"],["ge","&ge;"],["lt","&lt;"],["le","&le;"],["eq","="]],xe=[["wlike","is"]],ye=[["eq","="]];
ve.prototype={b:j,X:"",name:"",tn:function(a){var b;switch(a){case ze:b=new Ld(xe);b.b.style.display="none";break;case Ae:b=new Ld(ye);b.b.style.display="none";break;case X:b=new Ld(we);break;default:e(Error("Unable to create operator select for "+a+"!"))}b.b.className="fi_op_select";return b},Ja:function(){e(new Zb("AbstractFilter","getArgumentString"))}};function Be(a,b){this.X=b;this.name=a}Be.prototype={X:"",name:"",show:i,Ue:function(){e(new Zb("FilterData","getFilter"))}};function Z(a,b,c){Be.call(this,a,b);this.jk=c}var X=0,Ae=1,ze=2;Z.prototype=new Be("","");Z.prototype.jk=X;Z.prototype.Ue=function(a,b){return new Ce(this.name,this.X,a,b,this.jk)};function De(a,b){Be.call(this,a,b)}De.prototype=new Be("","");De.prototype.Ue=function(a,b){return new Ee(this.name,this.X,b)};function Fe(a,b,c){Be.call(this,a,b);this.options=c}
Fe.prototype=new Be("","");Fe.prototype.options=j;Fe.prototype.Ue=function(a,b){return new Ge(this.name,this.X,b,this.options)};function He(a,b,c){Be.call(this,a,b);this.options=c}He.prototype=new Be("","");He.prototype.options=j;He.prototype.Ue=function(a,b){return new Ie(this.name,this.X,b,this.options)};function Je(){this.c=new D;this.c.g("set_argument_string",[]);this.c.g("create_filter",[]);this.vj()}
Je.prototype={data:{},hidden:{},c:j,ve:{},ue:{},ub:[],vj:function(){this.data={};this.hidden={};this.ve={};this.wj()},wj:function(){this.ue={};this.ub=[]},set:function(a,b){this.vj();this.data=a;for(var c in b)this.ve[b[c]]=i},w:function(a){this.c.w(a)},Yk:function(a){var b,c;this.wj();for(b in this.ve)this.yh(b,j,j);for(;(c=/(^|;)([^;]+;)/.exec(a))!=j;)(b=/^(\w+)\.(\w+)\.([^;]+);/.exec(c[2]))&&this.yh(b[1],b[2],b[3]),a=a.replace(c[0],c[1])},Ji:function(a){for(var b=0;b<this.ub.length;b++)if(this.ub[b]==
a){this.ub.splice(b,1);return}e(Error("Unable to remove filter "+a+"!"))},Ja:function(){var a="",b;for(b in this.ue)a+=this.ue[b].Ja();for(b=0;b<this.ub.length;b++)a+=this.ub[b].Ja();return a},yh:function(a,b,c){var d=this.data[a];d==j&&e(Error("Unable to find filter data for "+a+" (with "+b+" "+c+")!"));b=d.Ue(b,c);this.ve[a]?this.ue[a]=b:this.ub.push(b);return b},nn:function(a){this.ve[a]&&e(Error("Unable to create custom filter for static filter variable: "+a+"!"));return this.yh(a,j,j)},S:function(a,
b){b?this.hidden[a]=i:delete this.hidden[a]},ok:function(){var a={},b;for(b in this.data)this.ve[this.data[b].X]||this.hidden[this.data[b].X]||(a[b]=this.data[b]);return a},pk:function(){var a=[],b;for(b in this.ub)this.hidden[this.ub[b].X]||a.push(this.ub[b]);return a},sk:function(){var a=[],b;for(b in this.ue)this.hidden[b]||a.push(this.ue[b]);return a}};function Ce(a,b,c,d,f){ve.call(this,a,b);this.valueType=f;this.input=document.createElement("input");this.input.className="input fi_in";this.input.value=d!=j?d:this.valueType==X||this.valueType==Ae?"0":"";this.hf=this.tn(f);c!=j&&this.hf.select(c);this.b.appendChild(this.hf.b);this.b.appendChild(this.input);this.b.className="fi_p"}Ce.prototype=new ve("","");n=Ce.prototype;n.hf=j;n.input=j;n.valueType=X;
n.ha=function(){switch(this.valueType){case Ae:case X:var a=parseFloat(this.input.value);isNaN(a)&&(a="");return a;default:return this.input.value}};n.Ja=function(){return this.X+"."+this.hf.ha()+"."+this.ha()+";"};function Ee(a,b,c){ve.call(this,a,b);this.fe=document.createElement("input");this.fe.className="input fi_in_min";this.fe.maxLength="5";this.ee=document.createElement("input");this.ee.className="input fi_in_max";this.ee.maxLength="5";if(c!=j&&(a=/(\d*(?:\.\d+)?)-(\d*(?:\.\d+)?)/.exec(c)))this.fe.value=a[1],this.ee.value=a[2];this.b.appendChild(this.fe);this.b.appendChild(document.createTextNode(" - "));this.b.appendChild(this.ee);this.b.className="fi_p"}Ee.prototype=new ve("","");Ee.prototype.hf=j;
Ee.prototype.fe=j;Ee.prototype.ee=j;Ee.prototype.Ja=function(){var a=parseFloat(this.fe.value),b=parseFloat(this.ee.value);return this.X+".btw."+(isNaN(a)?"":""+a)+"-"+(isNaN(b)?"":""+b)+";"};function Ge(a,b,c,d){ve.call(this,a,b);this.select=Td(d);c!=j&&this.select.select(c);this.b.appendChild(this.select.b)}Ge.prototype=new ve("","");Ge.prototype.select=j;Ge.prototype.Ja=function(){return this.X+".eq."+this.select.ha()+";"};function Ie(a,b,c,d){ve.call(this,a,b);var a=[],b=0,f;for(f in d)a[b++]=[f,d[f]];this.select=new Ud(a);c!=j&&this.select.select(c);this.b.className="fi_multi_select";this.b.appendChild(this.select.b)}Ie.prototype=new ve("","");Ie.prototype.select=j;Ie.prototype.Ja=function(){return this.X+".ba."+this.select.ha()+";"};function Ke(a,b,c,d){if(!a)return j;this.c=new D;this.c.g("update",["list"]);this.c.g("show_tooltip",["entity"]);this.c.g("click",["entity"]);this.c.g("move_tooltip",[]);this.c.g("hide_tooltip",[]);this.z=new Je;this.t=a;this.jd=d;d=new y("search,next_page,prev_page,change_order,add_custom_filter,remove_custom_filter".split(","),new t(function(a){a.is("search")?this.update():a.is("next_page")?this.nextPage():a.is("prev_page")?this.lo():a.is("change_order")?this.lh(a.get("order")):a.is("add_custom_filter")?
this.Om(a.get("variable"),a.get("customFilter")):a.is("remove_custom_filter")&&this.Ji(a.get("filter"))},this));a.w(d);a.ba("show_tooltip",this.c);a.ba("hide_tooltip",this.c);a.ba("move_tooltip",this.c);a.ba("click",this.c);this.z.set(b,c);this.set("","","",1)}var oa=1;function Le(a){var b=[],c;for(c in a)for(var d in a[c])b[a[c][d].X]=a[c][d];return b}function Me(a){var b={},c;for(c in a){b[c]=[];for(var d in a[c])b[c].push(a[c][d].X)}return b}
Ke.prototype={c:j,page:1,ae:0,z:j,t:j,jd:"",le:0,w:function(a){this.c.w(a)},al:function(a){this.ae=a;this.t.pj(this.page,this.ae)},nextPage:function(){this.Fh(this.page+1);this.Zf()},lo:function(){this.Fh(this.page-1);this.Zf()},Fh:function(a){if(!(0>a)){if(this.page<a){if(1>=this.ae)return}else this.page>a&&this.ae++;this.page=a;this.t.pj(this.page,this.ae)}},update:function(){this.Fh(1);this.Zf()},lh:function(a){this.jd==a?this.le=0==this.le?oa:0:this.jd=a;this.Zf()},Zf:function(){this.c.fire("update",
{list:this});this.t.qa()},Ja:function(){return this.z.Ja()},set:function(a,b,c,d){this.page=d;this.t.pj(this.page,this.ae);this.t.lh(this.jd,this.le);this.z.Yk(a);this.t.Lf(this.z.sk(),this.z.pk(),this.z.ok())},Lf:function(){this.t.Lf(this.z.sk(),this.z.pk(),this.z.ok())},Om:function(a,b){b.$k(this.z.nn(a))},Ji:function(a){this.z.Ji(a)},setData:function(a){this.t.lh(this.jd,this.le);2>a.length?(this.t.zf(j),this.al(0)):(this.al(Math.ceil(a[0][0]/a[0][1])),this.t.Re(a))},Rk:function(a,b){var c=this.z.Ja(),
c=c.replace(RegExp("\\b"+a+"\\.\\w+\\.[^;]+;"),"")+b;this.z.Yk(c)}};function Ne(a){if(!a)return j;this.c=new D;this.c.g("search",[]);this.c.g("remove_custom_filter",["customFilter"]);this.c.g("add_custom_filter",["variable","customFilter"]);this.c.g("next_page",[]);this.c.g("prev_page",[]);this.c.g("change_order",["order"]);this.c.g("hide_tooltip",[]);this.c.g("move_tooltip",[]);this.c.g("show_tooltip",["entity"]);this.c.g("click",["entity"]);this.Rh=a;this.b=document.createElement("div");this.b.className="li_p";this.dc=new Id;this.ec=document.createElement("div");
this.ec.className="li_filter_p";this.b.appendChild(this.ec);this.dc.wa.className="li_fc_header";this.dc.content.className="li_fc_content";this.dc.wa.innerHTML="<a href='javascript:'>Filter</a>";this.ec.appendChild(this.dc.b);this.content=document.createElement("div");this.content.className="li_content";this.b.appendChild(this.content);this.form=document.createElement("form");this.form.action="javascript:";this.form.onsubmit="return false";this.dc.content.appendChild(this.form);this.tg=document.createElement("div");
this.Yd=document.createElement("input");this.Yd.type="submit";this.Yd.value=locale.F_Search;Vb(this.Yd,{"default":"button button_light li_filter_search_btn",focus:"button_light_focus",hover:"button_light_hover"});I(this.form,"submit",this.c.fire,this.c,["search",{}]);this.Fd=document.createElement("input");this.Fd.type="button";this.Fd.value=locale.F_AddFilter;Vb(this.Fd,{"default":"button button_light li_filter_add_btn",focus:"button_light_focus",hover:"button_light_hover"});I(this.Fd,"click",this.Ik,
this,[j]);this.xj();this.bb=new W(1,3);this.bb.b.width="100%";this.bb.cols[0].width="33%";this.bb.cols[1].width="34%";this.bb.cols[2].width="33%";this.Sb=document.createElement("a");this.Sb.style.display="none";this.Sb.href="javascript:";Vb(this.Sb,{"default":"button button_light li_prev_page",focus:"button_light_focus",hover:"button_light_hover"});I(this.Sb,"click",this.c.fire,this.c,["prev_page",{}]);this.Rg=document.createElement("div");this.Rg.className="li_curr_page";this.Rb=document.createElement("a");
this.Rb.style.display="none";this.Rb.href="javascript:";Vb(this.Rb,{"default":"button button_light li_next_page",focus:"button_light_focus",hover:"button_light_hover"});I(this.Rb,"click",this.c.fire,this.c,["next_page",{}]);this.bb.cells[0][0].appendChild(this.Sb);this.bb.cells[0][1].appendChild(this.Rg);this.bb.cells[0][2].appendChild(this.Rb);this.bb.b.className="li_page_p";this.b.appendChild(this.bb.b)}
Ne.prototype={c:j,Rh:{},b:j,content:j,ec:j,dc:j,Yd:j,form:j,tg:j,Fd:j,fc:j,dd:j,bb:j,Rg:j,Rb:j,Sb:j,ek:j,dk:j,Zh:j,setProperty:function(){e(new Zb("ListGui","setProperty"))},Lf:function(a,b,c){this.xj();for(var d in a)this.ff(a[d]);for(d in b)this.Ik(b[d]);this.ek=c},xj:function(){this.fc=new W(0,2);this.dd=new W(1,1);this.dd.nh(cd);this.fc.b.cellSpacing="2px";this.fc.b.className="group_t2 li_filter_input_grid li_filter_grp";this.fc.hide();this.dd.cells[0][0].appendChild(this.fc.b);var a=document.createElement("div");
a.className="group_t2 li_filter_grp";a.appendChild(this.tg);a.appendChild(this.Fd);Sb(this.form);this.form.appendChild(this.dd.b);this.form.appendChild(a);this.form.appendChild(this.Yd);Sb(this.tg)},w:function(a){this.c.w(a)},ba:function(a,b){this.c.ba(a,b)},Kh:function(a,b){for(;b+1>=this.dd.cols.length;)this.dd.Nm();var c=document.createElement("div"),d=document.createElement("div");c.innerHTML=a.name;c.className="li_filter_lg_label";x(d,c);d.appendChild(a.b);d.className="group_t2 li_filter_grp li_filter_select";
this.dd.cells[0][b+1].appendChild(d)},Gb:function(a,b){for(;b>=this.fc.rows.length;)this.fc.Rc();var c=this.fc.cells[b];c[0].innerHTML=a.name;c[0].className="li_filter_ig_label";x(c[1],a.b);c[1].className="li_filter_ig_input";this.fc.show()},ff:function(){e(new Zb("ListGui","newStaticFilter"))},Ik:function(a){var b=new Oe(this);a!=j&&b.$k(a);this.tg.appendChild(b.b)},qa:function(){this.content.innerHTML="<div class='li_loading'>"+locale.L_Loading+"</div>";this.gk(i);this.bb.b.style.display="none"},
gk:function(a){this.Yd.disabled=a?"disabled":""},zf:function(a){a==j?this.content.innerHTML="<div class='il_nothing'>Nothing Found</div>":x(this.content,a);this.gk(l);this.Rb.disabled="";this.Sb.disabled=""},qh:function(a){a?this.dc.expand():this.dc.collapse()},pj:function(a,b){1>=a&&0==b?this.bb.b.style.op="none":(1<b?(this.Rb.innerHTML=locale.next+" &rsaquo;",this.Rb.style.display=""):this.Rb.style.display="none",1<a?(this.Sb.innerHTML="&lsaquo; "+locale.previous,this.Sb.style.display=""):this.Sb.style.display=
"none",this.Rg.innerHTML="Page "+a,this.bb.b.style.display="table")},show:function(a){this.b.style.display=a?"block":"none"},Re:function(){e(new Zb("ListGui","deserialize"))},lh:function(a,b){this.Zh=a;this.dk=b},wb:function(a,b){var c=document.createElement("a");c.innerHTML=a+(b==this.Zh?0==this.dk?" \u25bc":" \u25b2":"");c.className="li_sort_link"+(b==this.Zh?" li_sort_link_active":"");c.href="javascript:";I(c,"click",this.c.fire,this.c,["change_order",{order:b}]);return c}};function Oe(a){this.kd=a;a=new W(1,3);a.b.className="group_t3 fi_cf_table";var b=document.createElement("option");b.innerHTML="";b.value="";var c=document.createElement("a");c.className="remove fi_cf_remove";c.href="javascript:";this.b=document.createElement("div");this.select=document.createElement("select");this.select.className="single_select";this.ec=document.createElement("div");this.select.appendChild(b);for(var d in this.kd.Rh)this.Zl(d,this.kd.Rh[d]);a.cells[0][0].appendChild(this.select);
a.cells[0][1].appendChild(this.ec);a.cells[0][2].appendChild(c);this.b.appendChild(a.b);I(this.select,"change",this.yi,this,[]);I(c,"click",this.Yn,this,[])}
Oe.prototype={b:j,select:j,ec:j,filter:j,kd:j,yi:function(){var a=this.select.selectedIndex;if(0>=a||this.filter!=j)this.kd.c.fire("remove_custom_filter",{filter:this.filter}),this.ec.innerHTML="",this.filter=j;0<a&&this.kd.c.fire("add_custom_filter",{variable:this.select.options[a].value,customFilter:this})},Yn:function(){this.filter!=j&&this.kd.c.fire("remove_custom_filter",{filter:this.filter});this.b.parentNode.removeChild(this.b)},$k:function(a){this.filter=a;this.ec.appendChild(a.b);for(var b=
this.select.options,c=0;c<this.select.options.length;c++)if(b[c].value==a.X){b[c].selected="selected";break}},Zl:function(a,b){for(var c=[],d=j,f=0;f<b.length;f++)d=this.kd.ek[b[f]],d!=j&&c.push(d);if(0<c.length)if("none"==a)for(f=0;f<c.length;f++)this.sj(c[f],this.select);else{d=document.createElement("optgroup");d.label=a;for(f=0;f<c.length;f++)this.sj(c[f],d);this.select.appendChild(d)}},sj:function(a,b){var c=document.createElement("option");c.innerHTML=a.name;c.value=a.X;b.appendChild(c)}};function ie(a){this.Xj=a;this.ak=new t(this.Tm,this)}n=ie.prototype;n.dh=j;n.Xj=j;n.ak=j;n.update=function(a){this.dh=this.Xj+"?"+Ha({a:a.Ja(),o:a.jd+"."+(a.le==oa?"asc":"desc")+";",p:a.page});Ja(this.dh,this.ak,[a,this.dh],l)};n.Tm=function(a,b,c){c==this.dh&&b.setData(a)};function na(){Ke.call(this,new Pe(Me(Qe)),Le(Qe),["name","level","reqlvl","quality"],Re)}var Qe={};Qe[locale.F_General]=[new Z(locale.F_Name,"name",ze),new De(locale.F_ItemLevel,"level"),new He(locale.F_Quality,"quality",Cb),new De(locale.F_RequiredLevel,"reqlvl"),new Fe(locale.F_ItemClass,"class",{4:"Armor",3:"Gem",2:"Weapon"})];
Qe[locale.F_Stats]=[new Z(locale.CS_Stats[1][0],"str",X),new Z(locale.CS_Stats[1][1],"agi",X),new Z(locale.CS_Stats[1][2],"sta",X),new Z(locale.CS_Stats[1][3],"int",X),new Z(locale.CS_Stats[1][4],"spi",X)];Qe[locale.F_Ratings]=[new Z(locale.ItemStatNames[31],"hit",X),new Z(locale.ItemStatNames[32],"crit",X),new Z(locale.ItemStatNames[35],"res",X),new Z(locale.ItemStatNames[36],"haste",X),new Z(locale.ItemStatNames[49],"mast",X)];
Qe[locale.F_Defense]=[new Z(locale.ItemStatNames[13],"dod",X),new Z(locale.ItemStatNames[14],"par",X),new Z(locale.ItemStatNames[15],"blo",X)];Qe[locale.F_Melee]=[new Z(locale.ItemStatNames[38],"ap",X),new De(locale.F_DPS,"dps"),new De(locale.F_Speed,"delay")];Qe[locale.F_Spell]=[new Z(locale.ItemStatNames[45],"sp",X)];Qe[locale.F_Requirements]=[new Fe(locale.F_UsableBy,"usablebyclass",zb),new Z(locale.F_CanBeUsedWithLevel,"canbeusedwithlvl",X),new Fe(locale.F_RequiresReputation,"reqrepu",Bb)];
Qe[locale.F_Miscellaneous]=[new Fe(locale.F_SocketableGem,"issocketablegem",Bb),new Z(locale.F_GemReqItemLevel,"gemreqitemlvl",X)];var Re="level";na.prototype=new Ke(j,j,j,"");na.prototype.ob=0;na.prototype.Y=0;na.prototype.gc=0;
function le(a,b,c,d){a.ob=b;a.Y=c;a.gc=d;var b=Le(Qe),c=["name","level","reqlvl","quality"],d=l,f=j,g=l,h=l,k=j;switch(a.Y){case 4:a.gc&2048?f=Se(a,[11]):(d=i,f=Se(a,[0,1,2,3,4]));break;case 3:a.z.S("subclass",l);a.gc&64?(a.z.S("subclass",i),f=Se(a,[6])):a.gc&1024?(a.z.S("subclass",i),f=Se(a,[10])):f=Se(a,[0,1,2,3,4,5,7,8]);break;case 2:0==a.gc?d=i:f=Se(a,j)}if(0!=(a.ob&6463488)||2==a.Y)g=h=i;if(d||0!=a.ob){var k=[],r=-1,v=0,s;if(4==a.Y)if(0==a.gc)r&=Db[0]|Db[1]|Db[2]|Db[3]|Db[4];else{for(s=0;5>s;s++)a.gc&
1<<s&&(v|=Db[s]);r&=v}else 2==a.Y&&0==a.gc&&(r&=6463488);a.ob=a.ob?a.ob&r:r;for(s=1;28>=s;s++)0!=(a.ob&1<<s)&&(k[s]=14==s?locale.F_ShieldHand:locale.a_slot[s]);k=new He(locale.F_InventorySlot,"slot",k)}g?(c.push("dps"),a.z.S("delay",l)):a.z.S("dps",i);h?(c.push("delay"),a.z.S("delay",l)):a.z.S("delay",i);d||k?(c.push("slot"),b.slot=k,a.z.S("slot",l)):a.z.S("slot",i);f?(c.push("subclass"),b.subclass=f):a.z.S("subclass",i);a.z.set(b,c)}
function Se(a,b){var c={},d;if(b)for(d=0;d<b.length;d++)c[b[d]]=xb[a.Y][1][b[d]];else for(d=0;32>d;d++)0!=(1<<d&a.gc)&&(c[d]=xb[a.Y][1][d]);return new He(locale.F_ItemClass,"subclass",c)};function Pe(a){Ne.call(this,a);this.Tg=A(this.dc.content,"div",{"class":"il_prop"});this.Nk=A(this.Tg,"input",{type:"checkbox","class":"il_prop_check",checked:i});A(this.Tg,"span",{text:"Use custom filters for all slots","class":"il_prop_note"})}Pe.prototype=new Ne(j);n=Pe.prototype;n.dj="";n.Ud=l;n.Nk=j;n.Tg=j;n.setProperty=function(a,b){"showDpsAndDelay"==a?this.Ud=b:"setStaticLink"==a?this.dj=b:e(Error("Unknown property "+a+" with value "+b+"!"))};
n.ff=function(a){var b=a.X;"name"==b?this.Gb(a,0):"level"==b?this.Gb(a,1):"reqlvl"==b?this.Gb(a,2):"dps"==b?this.Gb(a,3):"delay"==b?this.Gb(a,4):"quality"==b?this.Kh(a,0):"slot"==b?this.Kh(a,1):"subclass"==b?this.Kh(a,2):e(Error("Unknown static filter "+a.X+"!"))};
n.Re=function(a){var b,c,d,f,g=0,h;f=new W(a.length,5+(this.Ud?2:0));f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";g++;f.cells[0][g++].appendChild(this.wb("Name","name"));this.Ud&&(f.cells[0][g++].appendChild(this.wb("DpS","dps")),f.cells[0][g++].appendChild(this.wb("Spd","delay")));f.cells[0][g++].appendChild(this.wb("iLvl",Re));f.cells[0][g++].appendChild(this.wb("Slot","slot"));f.cells[0][g++].appendChild(this.wb("Type",
"itemclass"));for(b=0;b<g;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){g=0;c=new qa(a[b][0]);E.set(c);f.rows[b].className="il_row"+b%2;d=document.createElement("a");d.className="il_link item_quality_"+c.da;d.innerHTML=c.name;h="il_cell "+(0==b%2?"il_cell_bg0":"il_cell_bg1");I(d,"mouseover",this.c.fire,this.c,["show_tooltip",{entity:c}]);I(d,"mouseout",this.c.fire,this.c,["hide_tooltip",{}]);I(d,"mousemove",this.c.fire,this.c,["move_tooltip",{}]);I(d,"click",this.c.fire,this.c,
["click",{entity:c}]);if(this.dj){var k=d,r=this.dj,v=c.id,s=c.name,s=s.replace(/\'|\,|\?|!/g,"").replace(/(?:\s|\\|\:|\/|\&|-|<|>|\.)+/g,"-");k.href=K(r,v+"-"+s)}f.cells[b][g].className=h;f.cells[b][g++].innerHTML="<div style='background-image:url(/images/icons/small/"+c.q+".png)' class='il_icon' ></div>";f.cells[b][g].className=h;f.cells[b][g].appendChild(d);0!=(c.xe&8)&&(d=document.createElement("sup"),d.className="il_heroic",d.innerHTML="H",f.cells[b][g].appendChild(d));g++;this.Ud&&(f.cells[b][g].className=
h+" li_"+(c.ye&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.vb?Fb(c):"",f.cells[b][g].className=h+" li_"+(c.ye&512?"un":"")+"imp_col",f.cells[b][g++].innerHTML=c.vb?Gb(c):"");f.cells[b][g].className=h+" li_imp_col";f.cells[b][g++].innerHTML=c.e;f.cells[b][g].className=h+(this.Ud?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.ua?locale.a_slot[c.ua]:"";f.cells[b][g].className=h+(this.Ud?" li_unimp_col":" li_imp_col");f.cells[b][g++].innerHTML=c.hc[0]}this.zf(f.b)};function ke(){Ke.call(this,new Te(Me(Ue)),Le(Ue),["name"],Ve)}var Ue={};Ue[locale.F_General]=[new Z(locale.F_Name,"name",ze),new Z(locale.F_Description,"description",ze)];var We={},Xe,Ye;for(Ye=0;Ye<xb.length;Ye++)for(Xe=0;Xe<xb[Ye][1].length;Xe++)We[Ye+"."+Xe]=xb[Ye][1][Xe];var Ze={},$e;for($e=1;28>=$e;$e++)Ze[$e]=14==$e?locale.F_ShieldHand:locale.a_slot[$e];
Ue[locale.F_Enchant]=[,new Fe(locale.F_IsEnchant,"isenchant",Bb),new Z(locale.F_EnchantItemLevel,"enchantitemlevel",X),new Z(locale.F_EnchantCharacterLevel,"enchantchrlevel",X),new Fe(locale.F_ItemSubClass,"itemclasssubclasscombined",We),new He(locale.F_InventorySlot,"slot",Ze)];var Ve="id";ke.prototype=new Ke(j,j,j,"");function Te(a){Ne.call(this,a)}Te.prototype=new Ne(j);
Te.prototype.Re=function(a){var b=0,c,d,f=new W(a.length,3);f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cols[0].width="24px";b++;f.cells[0][b++].appendChild(this.wb("Name","name"));f.cells[0][b++].appendChild(this.wb("Req. Level","enchantchrlevel"));for(c=0;c<b;c++)f.cells[0][c].className="il_header_cell";for(c=1;c<a.length;c++){var b=0,g=new R(a[c]);F.set(g);f.rows[c].className="il_row"+c%2;d="il_cell "+(0==c%2?"il_cell_bg0":"il_cell_bg1");
var h=document.createElement("a");h.className="il_link";h.innerHTML=g.name;f.cells[c][b].className=d;f.cells[c][b++].innerHTML="<div style='background-image:url(/images/icons/small/"+g.q+".png)' class='il_icon' ></div>";f.cells[c][b].className=d;f.cells[c][b++].appendChild(h);for(var k="None",r=0;r<g.F.length;r++)if(g.F[r]&&53==g.F[r].Le&&g.F[r].nd!=j){k=g.F[r].nd.Cb;break}f.cells[c][b].className=d;f.cells[c][b++].innerHTML=k;I(h,"mouseover",this.c.fire,this.c,["show_tooltip",{entity:g}]);I(h,"mouseout",
this.c.fire,this.c,["hide_tooltip",{}]);I(h,"mousemove",this.c.fire,this.c,["move_tooltip",{}]);I(h,"click",this.c.fire,this.c,["click",{entity:g}])}this.zf(f.b)};Te.prototype.ff=function(a){"name"==a.X?this.Gb(a,0):e(Error("Unknown static filter "+a.X+"!"))};function re(){var a=new af(Me(bf));Ke.call(this,a,Le(bf),["ismine"],cf);this.c.g("delete",["profile_id","desc"]);this.t.c.ba("delete",this.c)}var bf={};bf.none=[new Fe(locale.F_MyProfiles,"ismine",Bb),new Fe(locale.F_ShowDeleted,"showdeleted",Bb),new Z(locale.F_CharacterLevel,"lvl",X)];var cf="id";re.prototype=new Ke(j,j,j,"");function af(a){Ne.call(this,a);this.c.g("delete",["profile_id","desc"])}af.prototype=new Ne(j);af.prototype.ff=function(a){"ismine"==a.X&&this.Gb(a,0)};
af.prototype.Re=function(a){var b,c,d,f=0,g;d=new W(1,4);d.b.cellSpacing="0px";d.b.width="100%";d.b.className="pl_content_t";d.rows[0].className="pl_header";d.cols[f].width="30px";f++;d.cols[f].width="28px";f++;d.cols[f].width="28px";f++;d.cols[f].width="874px";f++;for(b=0;b<f;b++)d.cells[0][b].className="pl_header_cell";for(b=1;b<a.length;b++){f=0;g="pl_cell "+(0==b%2?"pl_cell_bg0":"pl_cell_bg1");var h=d.Jh(),k=a[b][2]?a[b][2]:"Profile #"+a[b][0];d.cells[h][0].className=g+" pl_inline_header";c=A(d.cells[h][0],
"a",{href:ha()+a[b][8],"class":"pl_link",text:k});a[b][3]&&(c.onmouseout=function(){o.hide()},c.onmousemove=function(){o.move()},I(c,"mouseover",o.show,o,["<div class='pl_desc_tt'>"+a[b][3]+"</div>"]));d.cells[h][0].appendChild(c);A(d.cells[h][0],"span",{"class":"pl_ih_info",text:"&nbsp;Created: "+a[b][7]+"&nbsp;"});h=d.Rc();d.cells[h][f].className=g+" pl_level_p";d.cells[h][f++].innerHTML=a[b][6];d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(/images/site/race_class/small/chr_race_"+
a[b][4]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;d.cells[h][f++].innerHTML="<div style='background-image:url(/images/site/race_class/small/"+a[b][5]+".png)' class='pl_icon' ></div>";d.cells[h][f].className=g;g_settings.userId==a[b][1]&&(c=A(d.cells[h][f],"a",{"class":"close pl_delete_link",href:"javascript:;"}),I(c,"click",function(a,b){this.c.fire("delete",{profile_id:a,desc:b})},this,[a[b][0],k]))}this.zf(d.b)};function je(){var a={};a[locale.F_General]=[new Z(locale.F_Name,"name",ze),new De(locale.F_ItemLevel,"level"),new De(locale.F_RequiredLevel,"reqlvl")];a[locale.F_Requirements]=[new Fe(locale.F_UsableBy,"usablebyclass",zb)];var b=new df(Me(a));Ke.call(this,b,Le(a),["name","level","reqlvl"],"level");this.c.g("itemset_click",["items"]);this.t.c.ba("itemset_click",this.c)}je.prototype=new Ke(j,j,j,"");function df(a){Ne.call(this,a);this.c.g("itemset_click",["items"])}df.prototype=new Ne(j);df.prototype.ff=function(a){var b=a.X;"name"==b?this.Gb(a,0):"level"==b?this.Gb(a,1):"reqlvl"==b?this.Gb(a,2):e(Error("Unknown static filter "+a.X+"!"))};
df.prototype.Re=function(a){var b,c,d,f,g;f=new W(a.length,4);f.b.cellSpacing="0px";f.b.width="100%";f.b.className="li_content_t";f.rows[0].className="il_header";f.cells[0][0].appendChild(this.wb("Name","name"));f.cells[0][2].appendChild(this.wb("iLvl","level"));f.cells[0][3].appendChild(this.wb("Req","reqlvl"));for(b=0;4>b;b++)f.cells[0][b].className="il_header_cell";for(b=1;b<a.length;b++){c=A(f.cells[b][0],"a",{href:"javascript:;",text:a[b][1],color:ab[a[b][6]],"class":"il_imp_col",title:"Click to equip all items"});
for(var h=[],k=0;k<a[b][8].length;k++)a[b][8][k]&&(g=new qa(a[b][8][k]),E.set(g),h.push(g),d=document.createElement("div"),d.className="il_icon sl_icon",d.style.backgroundImage="url(/images/icons/small/"+g.q+".png)",d.style.cssFloat="left",d.style.marginLeft="2px",d.style.marginTop="1px",I(d,"mouseover",this.c.fire,this.c,["show_tooltip",{entity:g}]),I(d,"mouseout",this.c.fire,this.c,["hide_tooltip",{}]),I(d,"mousemove",this.c.fire,this.c,["move_tooltip",{}]),I(d,"click",this.c.fire,this.c,["click",
{entity:g}]),f.cells[b][1].appendChild(d));I(c,"click",this.c.fire,this.c,["itemset_click",{items:h}]);f.cells[b][2].innerHTML=a[b][2]!=a[b][3]?a[b][2]+"-"+a[b][3]:a[b][2];f.cells[b][2].className="il_unimp_col";f.cells[b][3].innerHTML=a[b][4]!=a[b][5]?a[b][4]+"-"+a[b][5]:a[b][4];f.cells[b][3].className="il_unimp_col"}this.zf(f.b)};function ua(){this.b=document.createElement("div");this.b.className="ts_c";this.c=new D;this.c.g("select_talent_tree",["tree"]);this.c.g("reset_talent_tree",["tree"]);this.c.g("reset_talents",[]);this.c.g("show_tooltip",["tree","row","col","node"]);this.c.g("add_talent_point",["tree","row","col"]);this.c.g("remove_talent_point",["tree","row","col"])}
ua.prototype={c:j,pb:j,nc:0,Vb:0,cc:0,po:0,id:0,Pb:0,ib:0,Bc:0,Kf:[],$b:[],sa:[],H:-1,xd:[],Ua:[],l:[],Ll:i,b:j,Ni:j,$g:j,be:[],ri:[],w:function(a){this.c.w(a)},de:function(a){U(this.b);if(a==j)A(this.b,"div",{"class":"ts_error",text:"You have to select a Class before you can learn Talents!"});else{this.pb=a;var b,c,d,f,g,h,k;this.Pb=a.Pb;this.ib=a.ib;this.Bc=a.Bc;this.Kf=[];this.$b=[];this.sa=[0,0,0];this.H=a.Mb?0:-1;this.nc=a.nc;this.Vb=a.Vb;this.cc=a.cc;this.id=a.id;this.be=[];this.xd=[];this.Ua=
[];this.l=[];this.na=[];this.ke=[];this.uh=[];this.e=85;this.Nc=[];this.zd=[];this.Se=document.createElement("div");this.selectNodes=[];this.yd=[];this.re=[];this.Wi=[];this.Ab=[];this.ri=[];this.$m=a.Mb?["fe","te","cu"]:"wa,pa,hu,ro,pr,dk,sh,ma,wl,,dr".split(",");this.Rd=this.Ib=j;this.Wc="";for(b=0;b<a.nc;b++){d=new W(a.Vb,a.cc);d.b.cellSpacing=0;d.b.cellPadding=0;d.b.className="talent_tree_table";this.$b[b]=a.aa[b].name;this.l[b]=Array(a.Vb);this.Ua[b]=Array(a.Vb);for(c=0;c<a.Vb;c++)this.l[b][c]=
Array(a.cc),this.Ua[b][c]=Array(a.cc);this.xd[b]=d;for(c=0;c<a.Vb;c++)for(d=0;d<a.cc;d++)h=a.aa[b].l[c][d],h!=j&&(this.l[b][c][d]=h,h=new ef(h),h.b.className="talent_border",I(h.Ia,"click",this.Vn,this,[b,c,d]),I(h.Ia,"contextmenu",this.Zn,this,[b,c,d]),I(h.Ia,"mouseover",this.Xn,this,[b,c,d]),I(h.Ia,"mouseout",this.Wn,this,[b,c,d]),x(this.xd[b].cells[c][d],h.b),this.Ua[b][c][d]=h)}h=new W(1,3);b=new W(1,1);b.b.className="ts_tab";h.b.className="group talent_table";(new W(1,3)).b.className="align_center";
this.fh=document.createElement("a");this.fh.className="remove talent_reset_link";this.fh.href="javascript:";I(this.fh,"click",this.$n,this,[]);this.Ni=document.createElement("div");this.$g=document.createElement("div");this.bj=document.createElement("span");this.$g.className="ts_header_info talent_remaining_points";this.Ni.className="ts_header_info talent_required_level";this.bj.className="ts_header_info ts_total";f=document.createElement("div");f.className="";f.appendChild(this.$g);f.appendChild(this.Ni);
f.appendChild(this.fh);f.appendChild(this.bj);Rb(f);this.wd=new Vd(2);this.wd.j[0].appendChild(document.createTextNode(K(locale.ChooseYourSpericalization,locale.a_class[this.id-1])));this.wd.j[0].className="ts_header_notice";this.wd.j[1].appendChild(f);this.wd.b.className="ts_header_c";b.cells[0][0].appendChild(this.wd.b);for(c=0;c<a.nc;c++){this.selectNodes[c]=document.createElement("div");this.yd[c]=document.createElement("div");d=0==c?"#D0A000":1==c?"#A00000":"#2E4D99";this.Kf[c]=document.createElement("img");
this.Kf[c].className="ts_tree_icon";a.Mb||(this.Kf[c].src="/images/icons/small/"+a.aa[c].ki+".png");this.zd[c]=document.createElement("span");this.zd[c].className="ts_tree_spent";this.re[c]=document.createElement("a");this.re[c].href="javascript:";this.re[c].className="remove ts_tree_reset";I(this.re[c],"click",this.ao,this,[c]);this.Nc[c]=document.createElement("a");this.Nc[c].className="ts_tree_name";this.Nc[c].href="javascript:";this.Nc[c].innerHTML=this.$b[c];I(this.Nc[c],"click",this.Lk,this,
[c]);f=document.createElement("div");f.className="ts_tree_title";g=document.createElement("div");g.className="ts_tree_name";g.appendChild(this.Nc[c]);f.appendChild(this.Kf[c]);f.appendChild(g);f.appendChild(this.zd[c]);f.appendChild(this.re[c]);h.cells[0][c].appendChild(f);this.be[c]=document.createElement("div");this.be[c].className="ts_glow_bg";this.be[c].appendChild(this.xd[c].b);this.yd[c].appendChild(this.be[c]);this.yd[c].className="talent_tree_node";if(!a.Mb){g=document.createElement("div");
g.className="talent_select_title";f=document.createElement("a");f.appendChild(document.createTextNode(this.$b[c]));I(f,"click",this.Lk,this,[c]);this.Wi[c]=f;g.appendChild(f);this.selectNodes[c].appendChild(g);this.selectNodes[c].style.borderColor=d;f=document.createElement("div");f.className="talent_select_icon_div";f.style.backgroundImage="url(/images/icons/large/"+a.aa[c].ki+".png)";d=document.createElement("div");d.className="talent_select_circle_div";d.style.backgroundImage="url(/images/talents/talent_select_circle_grey.png)";
f.appendChild(d);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_spells_parent";this.uh[c]=[];this.Ab[c]=[];this.na[c]=[];for(d=0;d<a.aa[c].na.length;d++)g=new Nd(3),k=a.aa[c].na[d],this.na[c][d]=k,this.Ab[c][d]=document.createElement("a"),this.Ab[c][d].innerHTML+=k.name,this.Ab[c][d].href="javascript:",this.Ab[c][d].className="ts_ps_name_p"+(0==d?"_big":""),this.Ab[c][d].onmouseout=function(){o.hide()},this.Ab[c][d].onmousemove=function(){o.move()},I(this.Ab[c][d],
"mouseover",o.show,o,[a.aa[c].na[d].ga()]),g.i[0].className="ts_primary_icon"+(0!=d?"_s":""),g.i[0].style.backgroundImage="url(/images/icons/"+(0==d?"half":"small")+"/"+a.aa[c].na[d].q+".png)",g.i[1].className="ts_primary_border"+(0!=d?"_s":""),g.i[2].className="ts_primary_event"+(0!=d?"_s":""),g.i[2].onmouseout=function(){o.hide()},g.i[2].onmousemove=function(){o.move()},I(g.i[2],"mouseover",o.show,o,[a.aa[c].na[d].ga()]),this.uh[c][d]=g,k=document.createElement("div"),k.appendChild(g.i[0]),k.className=
"ts_ps_icon_p"+(0==d?"_big":""),g=document.createElement("div"),g.className="ts_ps_c"+(0==d?"_big":""),g.appendChild(k),g.appendChild(this.Ab[c][d]),f.appendChild(g);this.selectNodes[c].appendChild(f);f=document.createElement("div");f.className="talent_select_description";f.appendChild(document.createTextNode(Hb(a.aa[c].description,j).join(" ")));this.selectNodes[c].appendChild(f);this.selectNodes[c].className="talent_select_div";this.yd[c].appendChild(this.selectNodes[c])}h.cells[0][c].appendChild(this.yd[c])}this.Se.className=
"talent_link_div";b.cells[0][0].appendChild(h.b);this.Jf=document.createElement("a");this.Jf.innerHTML=locale.ViewTalentTrees;this.Jf.className="talent_switch_link";I(this.Jf,"click",this.fo,this,[c]);a=document.createElement("div");a.className="ts_switch";a.appendChild(this.Jf);b.cells[0][0].appendChild(a);b.cells[0][0].appendChild(this.Se);this.b.appendChild(b.b);this.mb(-1);this.update()}},mb:function(a){for(var b=0;b<this.nc;b++){this.yd[b].style.borderColor=b==a?"#FFCC00":"";this.be[b].style.backgroundImage=
b==a?"url(/images/talents/talent_tree_glow.png)":"";this.re[b].style.visibility=-1==a?"hidden":"visible";this.zd[b].style.visibility=-1==a?"hidden":"visible";for(var c=0;c<this.na[b].length;c++)this.uh[b][c].i[0].style.backgroundImage="url(/images/icons/"+(-1==a||b==a?"":"g/")+(0==c?"half":"small")+"/"+this.na[b][c].q+".png)",this.uh[b][c].i[1].style.backgroundImage="url(/images/icon_border"+(0==c?"_smaller":"_smallest")+(-1==a||b==a?"":"_g")+".png)",this.Ab[b][c].className="ts_ps_name_p"+(0==c?"_big":
"")+" ts_primary_name"+(a==b||-1==a?"":"_g")}this.H=a;-1==a?(this.rh(i),this.wd.show(0)):(this.rh(l),this.wd.show(1));this.Lm(-1==a);this.update()},rh:function(a){for(var b=0;b<this.selectNodes.length;b++)this.selectNodes[b].style.display=a?"block":"none";this.Ll=a;this.Jf.innerHTML=a?locale.ViewTalentTrees:locale.ViewSummaries},Lm:function(a){for(var b=0;b<this.nc;b++)a?(this.Nc[b].className="ts_tree_link",this.Wi[b].className="talent_select_link"):(this.Nc[b].className="ts_tree_link_inactive",this.Wi[b].className=
"talent_select_link_inactive")},update:function(){var a,b,c,d,f=0>=this.pb.zc(),g,h;for(a=0;a<this.nc;a++){h=0;g=-1==this.H||a!=this.H&&31>this.pb.zg(this.H);b="url(/images/talents/bg/"+(g?"g/":"bg_")+(1<<this.id-1)+"_"+a+".jpg)";b!=this.ri[a]&&(this.ri[a]=b,this.yd[a].style.backgroundImage=b);for(b=0;b<this.Vb;b++)for(c=0;c<this.cc;c++)if(d=this.l[a][b][c],d!=j&&(d=this.l[a][b][c],d!=j)){this.Ua[a][b][c].update(f||g,d.Ke()&&h>=b*this.ib&&!f&&!g);for(var k=0;3>k;k++)d.Db[k]&&this.Xl(a,b,c,d.Db[k]);
h+=d.bc.R}}},Xl:function(a,b,c,d){var f="",g=d.xf,h=d.Vh;if(this.l[a][g][h].ie()&&(this.l[a][b][c].ie()||!this.l[a][b][c].ie()&&0!=this.po&&this.sa[a]>=this.ib*b))f="_active";if(c!=h){c<h?this.Ua[a][g][h].tb[0].className="talent_arrow_left_start"+f:this.Ua[a][g][h].tb[2].className="talent_arrow_right_start"+f;for(d=Math.min(c,h)+1;d<Math.max(c,h);d++)this.xd[a].cells[h][d].className="talent_arrow_horizontal"+f;b!=g?this.xd[a].cells[g][c].className=c<h?"talent_arrow_left_corner"+f:"talent_arrow_right_corner"+
f:c<h?this.Ua[a][b][c].tb[2].className="talent_arrow_left_end"+f:this.Ua[a][b][c].tb[0].className="talent_arrow_right_end"+f}if(b!=g){c==h&&(this.Ua[a][g][h].tb[3].className="talent_arrow_vertical_start"+f);for(d=Math.min(b,g)+1;d<Math.max(b,g);d++)this.xd[a].cells[d][c].className="talent_arrow_vertical"+f;this.Ua[a][b][c].tb[1].className="talent_arrow_vertical_end"+f}this.Fm()},Fm:function(){var a="";this.bj.innerHTML=this.pb.un()+"/"+this.pb.yg();this.zd[0].innerHTML=this.pb.zg(0);this.zd[1].innerHTML=
this.pb.zg(1);this.zd[2].innerHTML=this.pb.zg(2);a="?t="+this.$m[this.pb.id-1]+this.pb.pc.Wc;this.Se.innerHTML="<a class='talent_link' target='_blank' href='"+ha()+a+"'>http://chardev.org/"+a+"</a><br/>";a="http://www.wowarmory.com/talent-calc.xml?cid="+(Math.log(this.id)/Math.LN2+1)+"&tal="+this.pb.pc.Rd.join("");this.Se.innerHTML+="<a class='talent_link' target='_blank' href='"+a+"'>http://www.wowarmory.com/</a>";this.$g.innerHTML=K(locale.Remaining_Points,"<span class='ts_remaining'>"+this.pb.zc()+
"</span>")},$n:function(){this.c.fire("reset_talents",{})},ao:function(a){this.c.fire("reset_talent_tree",{tree:a})},fo:function(){this.Ll?this.rh(l):this.rh(i)},Lk:function(a){this.c.fire("select_talent_tree",{tree:a})},Vn:function(a,b,c){this.c.fire("add_talent_point",{tree:a,row:b,col:c});this.c.fire("show_tooltip",{tree:a,row:b,col:c,node:this.Ua[a][b][c].Ia})},Zn:function(a,b,c){this.c.fire("remove_talent_point",{tree:a,row:b,col:c});this.c.fire("show_tooltip",{tree:a,row:b,col:c,node:this.Ua[a][b][c].Ia})},
Xn:function(a,b,c){this.c.fire("show_tooltip",{tree:a,row:b,col:c,node:this.Ua[a][b][c].Ia})},Wn:function(){o.hide()}};function ef(a){var b=new Nd(6);this.Ta=a;this.b=b.i[0];this.tb=[document.createElement("div"),document.createElement("div"),document.createElement("div"),document.createElement("div")];b.i[0].appendChild(this.tb[0]);b.i[0].appendChild(this.tb[1]);b.i[0].appendChild(this.tb[2]);b.i[0].appendChild(this.tb[3]);this.q=document.createElement("img");this.q.className="talent_icon";this.q.src="/images/transparent.gif";b.i[1].className="talent_image_div";b.i[1].appendChild(this.q);this.xk=b.i[2];this.xk.className=
"talent_highlight_div";this.border=b.i[3];this.border.className="talent_border_div";this.text=b.i[4];this.text.className="talent_text_div";this.Ia=b.i[5];this.Ia.style.zIndex=6;this.Ia.className="talent_event_parent";this.Ia.ondblclick=m(l);this.Ia.onmousedown=m(l);this.Ia.onmouseup=m(l);this.Ia.oncontextmenu=m(l)}n=ef.prototype;n.Ta=j;n.q=j;n.Ia=j;n.text=j;n.border=j;n.tb=j;n.b=j;n.xk=j;
n.update=function(a,b){this.Ta.ie()||0<this.Ta.bc.R&&a?(this.q.src="/images/icons/medium/"+this.Ta.q+".png",this.text.innerHTML="<span>"+this.Ta.bc.R+"</span>/"+this.Ta.max,this.text.style.backgroundImage="url(/images/talents/pointsbg.png)",this.border.style.backgroundImage="url(/images/talents/gold.gif)",this.text.style.color="#FFCC00"):this.Ta.Ke()&&b||0<this.Ta.bc.R?(this.q.src="/images/icons/medium/"+this.Ta.q+".png",this.text.innerHTML="<span>"+this.Ta.bc.R+"</span>/"+this.Ta.max,this.text.style.backgroundImage=
"url(/images/talents/pointsbg.png)",this.border.style.backgroundImage="url(/images/talents/green.gif)",this.text.style.color="#00DD00"):(this.q.src="/images/icons/g/medium/"+this.Ta.q+".png",this.text.innerHTML="<span>"+this.Ta.bc.R+"</span>/"+this.Ta.max,this.text.style.backgroundImage="url(/images/talents/pointsbg_g.png)",this.border.style.backgroundImage="url(/images/talents/grey.gif)",this.text.style.color="#999999")};window.CHARDEV_CORE_BUILD=34;
